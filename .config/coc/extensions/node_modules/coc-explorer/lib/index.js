var h2=Object.create,As=Object.defineProperty,v2=Object.getPrototypeOf,y2=Object.prototype.hasOwnProperty,x2=Object.getOwnPropertyNames,b2=Object.getOwnPropertyDescriptor;var Rb=e=>As(e,"__esModule",{value:!0});var g=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Ls=(e,t)=>{Rb(e);for(var r in t)As(e,r,{get:t[r],enumerable:!0})},w2=(e,t,r)=>{if(Rb(e),t&&typeof t=="object"||typeof t=="function")for(let n of x2(t))!y2.call(e,n)&&n!=="default"&&As(e,n,{get:()=>t[n],enumerable:!(r=b2(t,n))||r.enumerable});return e},I=e=>e&&e.__esModule?e:w2(As(e!=null?h2(v2(e)):{},"default",{value:e,enumerable:!0}),e);var jb=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Ib=(e,t,r)=>(jb(e,t,"read from private field"),r?r.call(e):t.get(e)),kb=(e,t,r,n)=>(jb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var gg=g(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.sum=ji.compactI=void 0;var _2=e=>e.filter(t=>t!=null);ji.compactI=_2;var O2=e=>e.reduce((t,r)=>t+r);ji.sum=O2});var Ws=g(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.isTest=Rt.isLinux=Rt.isMacintosh=Rt.isWindows=Rt.isWebpack=void 0;Rt.isWebpack=typeof __webpack_require__=="function";Rt.isWindows=process.platform==="win32";Rt.isMacintosh=process.platform==="darwin";Rt.isLinux=process.platform==="linux";Rt.isTest=process.env.NODE_ENV==="test"});var hg=g(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.displayHeight=jt.displayWidth=jt.byteLength=jt.byteIndex=jt.generateUri=void 0;var T2=require("coc.nvim"),S2=gg(),M2=Ws();function q2(e,t="file"){return t==="file"&&M2.isWindows&&/^[A-Za-z]:/.test(e)&&(e="/"+e),t+"://"+e}jt.generateUri=q2;function N2(e,t){let r=e.slice(0,t);return Buffer.byteLength(r)}jt.byteIndex=N2;function P2(e){return Buffer.byteLength(e)}jt.byteLength=P2;async function Ab(e){return await T2.workspace.nvim.call("strdisplaywidth",[e])}jt.displayWidth=Ab;async function C2(e,t,r,n="n"){let i=await Promise.all(t.map(async(a,o)=>{let s=await Ab(a);return n==="i"&&r&&r[0]-1===o&&r[1]+1>=s&&(s+=1),Math.ceil(s/e)}));return S2.sum(i)}jt.displayHeight=C2});var Wb=g(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.getConfigLocal=void 0;var Lb=require("coc.nvim"),D2=hg(),E2=e=>(t=D2.generateUri(Lb.workspace.cwd))=>Lb.workspace.getConfiguration(e,t);Fs.getConfigLocal=E2});var Bb=g(Nt=>{"use strict";var R2=Nt&&Nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.prettyPrint=Nt.prettyObject=Nt.helperLogger=Nt.HelperLogger=void 0;var Bs=require("coc.nvim"),j2=R2(require("util")),Fb=Ws(),vg=class{constructor(t){this.channelName=t,this.appendLine=this.appendLine.bind(this),this.error=this.error.bind(this)}dispose(){var t;(t=this.outputChannel_)===null||t===void 0||t.dispose()}get outputChannel(){return this.outputChannel_||(this.outputChannel_=Bs.window.createOutputChannel(this.channelName)),this.outputChannel_}appendLine(t){this.outputChannel.appendLine(t)}error(t){var r,n,i,a;t instanceof Error?(Bs.window.showMessage(t.message,"error"),(r=this.outputChannel)===null||r===void 0||r.appendLine((n=t.stack)!==null&&n!==void 0?n:t.toString()),Fb.isTest&&console.error((i=t.stack)!==null&&i!==void 0?i:t.toString())):(Bs.window.showMessage(t,"error"),(a=this.outputChannel)===null||a===void 0||a.appendLine(t),Fb.isTest&&console.error(t))}asyncCatch(t){return async(...r)=>{try{return await t(...r)}catch(n){this.error(n)}}}};Nt.HelperLogger=vg;Nt.helperLogger=new vg("coc-helper");function yg(...e){let t=i=>i.toString(10).padStart(2,"0"),r=new Date,n=`[${r.getFullYear()}/${t(r.getMonth()+1)}/${t(r.getDate())} ${t(r.getHours())}:${t(r.getMinutes())}:${t(r.getSeconds())}.${t(r.getMilliseconds())}]`;for(let i of e)n+=" "+j2.default.inspect(i);return n}Nt.prettyObject=yg;function I2(...e){Nt.helperLogger.appendLine(yg(...e)),Bs.window.showMessage(yg(...e))}Nt.prettyPrint=I2});var Ub=g((Ele,Hb)=>{Hb.exports={name:"coc-helper",version:"0.8.4",description:"Helpers for coc.nvim",module:"lib/esm/index.js",main:"lib/cjs/index.js",homepage:"https://github.com/weirongxu/coc-helper",repository:"git@github.com:weirongxu/coc-helper.git",author:"Weirong Xu <weirongxu.raidou@gmail.com>",license:"MIT",files:["lib","tests","jest.config.js","JestHelper.js","JestHelper.d.ts"],scripts:{clean:"rimraf lib","copy:pkg":"cpy --rename=_package.json package.json src/","build:esm":"tsc -p ./tsconfig.prod.json --module es2020 --outDir lib/esm","build:cjs":"tsc -p ./tsconfig.prod.json --module commonjs --outDir lib/cjs",build:"npm-run-all clean copy:pkg build:esm build:cjs",lint:"eslint src --ext ts","setup:test-env":"node ./tests/setup.js",prepare:"run-s clean setup:test-env build",unittest:"jest --runInBand --detectOpenHandles --forceExit",test:"npm-run-all copy:pkg lint unittest"},engines:{coc:"^0.0.77"},activationEvents:["*"],prettier:{singleQuote:!0,printWidth:80,semi:!0,trailingComma:"all"},peerDependencies:{"coc.nvim":"*"},devDependencies:{"@chemzqm/neovim":"^5.2.12","@types/app-root-path":"^1.2.4","@types/eslint":"^7.2.6","@types/jest":"^26.0.19","@types/node":"^14.14.16","@types/rimraf":"^3.0.0","@types/uuid":"^8.3.0","@typescript-eslint/eslint-plugin":"^4.11.0","@typescript-eslint/parser":"^4.11.0","coc.nvim":"0.0.81-next.0","cpy-cli":"^3.1.1",eslint:"^7.16.0",jest:"^26.6.3",log4js:"^6.3.0","npm-run-all":"^4.1.5",rimraf:"^3.0.2","ts-jest":"^26.4.4","type-fest":"^0.20.2",typescript:"^4.1.3","vscode-uri":"^3.0.1"},dependencies:{"app-root-path":"^3.0.0"}}});var Yb=g(gr=>{"use strict";var k2=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gr,"__esModule",{value:!0});gr.versionName=gr.version=void 0;var A2=k2(Ub());gr.version=A2.default.version;gr.versionName=gr.version.replace(/[.-]/g,"_")});var Vr=g(Ot=>{"use strict";var L2=Ot&&Ot.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ii=Ot&&Ot.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&L2(t,e,r)};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.sleep=void 0;Ii(gg(),Ot);Ii(Wb(),Ot);Ii(Ws(),Ot);Ii(Bb(),Ot);Ii(hg(),Ot);Ii(Yb(),Ot);function W2(e){return new Promise(t=>{setTimeout(t,e)})}Ot.sleep=W2});var Va=g(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.Notifier=void 0;var $b=require("coc.nvim"),F2=Vr(),Ln=class{constructor(t){this.notifyFns=[],this.notifyFns.push(t)}static async run(t){if(!!t)if("then"in t){let r=await t;if(r)return r.run()}else return t.run()}static notifyAll(t){for(let r of t)r&&r.notify()}static async runAll(t){let r=await Promise.all(t);return $b.workspace.nvim.pauseNotification(),this.notifyAll(r),$b.workspace.nvim.resumeNotification()}static combine(t){let r=F2.compactI(t);return r.length<1?Ln.noop():r.length===1?r[0]:r.reduce((n,i)=>n.concat(i),Ln.noop())}static noop(){return this.create(()=>{})}static create(t){return new Ln(t)}async run(){return Ln.runAll([this])}notify(){for(let t of this.notifyFns)t()}concat(t){return this.notifyFns.push(...t.notifyFns),this}};Hs.Notifier=Ln});var Fn=g(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.VimModule=void 0;var Ys=require("coc.nvim"),Gb=Va(),hr=Vr(),B2=process.pid,H2=`coc_helper_module_p${B2}_${hr.versionName}`,Wn=`g:${H2}`,za=`CocHelperCallFn_${hr.versionName}`,Qa=`CocHelperCallVar_${hr.versionName}`,$s="__coc_helper_module_max_id";function U2(){return $s in global||(global[$s]=0),global[$s]+=1,global[$s]}function Ka(e){return e.replace(/\n\s*\\/g,"")}var vr=class{constructor(t){this.moduleKey=t}static async init(t){for(await Ys.workspace.nvim.call("execute",`
        if !exists('${Wn}')
          let ${Wn} = {}
        endif

        function! ${za}(module_key, method_name, args)
          try
            return call(${Wn}[a:module_key][a:method_name], a:args)
          catch
            let ex = v:exception
            let msg = 'error when call ' . a:module_key . '.' . a:method_name
            echom msg
            echom ex
            throw msg . ex
          endtry
        endfunction

        function! ${Qa}(module_key, var_name, expression)
          try
            let ${Wn}[a:module_key][a:var_name] = eval(a:expression)
          catch
            let ex = v:exception
            let msg = 'error when declare ' . a:module_key . '.' . a:var_name
            echom msg
            echom ex
            throw msg . ex
          endtry
        endfunction
      `);vr.initQueue.length;){let r=vr.initQueue.shift();try{await r(t)}catch(n){hr.helperLogger.error(n)}}}static create(t,r){let i=`${U2()}_${t}`,a=new vr(i),o;function s(){return o||(o=r(a)),o}return vr.initQueue.push(async()=>{await Ys.workspace.nvim.call("execute",`let ${Wn}.${i} = {}`),s()}),new Proxy({},{get(u,l){return Reflect.get(s(),l)},has(u,l){return l in s()},ownKeys(){return Object.keys(s())}})}registerInit(t){vr.initQueue.push(t)}fn(t,r){let{nvim:n}=Ys.workspace,i=`${Wn}.${this.moduleKey}.${t}`,a=r({name:i}),o=`${this.moduleKey}.${t}`;return this.registerInit(async()=>{hr.helperLogger.appendLine(`declare fn ${o}`),await n.call("execute",[Ka(a)])}),{name:i,inlineCall:(s="")=>`${za}('${this.moduleKey}', '${t}', [${s}])`,call:(...s)=>(hr.helperLogger.appendLine(`call ${o}`),n.call(za,[this.moduleKey,t,s])),callNotify:(...s)=>(hr.helperLogger.appendLine(`callNotify ${o}`),n.call(za,[this.moduleKey,t,s],!0)),callNotifier:(...s)=>(hr.helperLogger.appendLine(`callNotifier ${o}`),Gb.Notifier.create(()=>{n.call(za,[this.moduleKey,t,s],!0)}))}}var(t,r){let{nvim:n}=Ys.workspace,i=`${Wn}.${this.moduleKey}.${t}`,a=`${this.moduleKey}.${t}`;return this.registerInit(async()=>{hr.helperLogger.appendLine(`declare var ${a}`),await n.call(Qa,[this.moduleKey,t,Ka(r)])}),{name:i,inline:i,get:()=>n.eval(i),set:async o=>{await n.call(Qa,[this.moduleKey,t,Ka(o)])},setNotify:o=>{n.call(Qa,[this.moduleKey,t,Ka(o)],!0)},setNotifier:o=>Gb.Notifier.create(()=>{n.call(Qa,[this.moduleKey,t,Ka(o)],!0)})}}};Us.VimModule=vr;vr.initQueue=[]});var Xa=g(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.utilModule=void 0;var Y2=Fn(),$2=require("coc.nvim");Gs.utilModule=Y2.VimModule.create("util",e=>{let t=$2.workspace.isNvim;return{globalCursorPosition:e.fn("global_cursor_position",({name:r})=>`
        function! ${r}()
          let nr = winnr()
          let [row, col] = win_screenpos(nr)
          return [row + winline() - 2, col + wincol() - 2]
        endfunction
      `),isFloat:e.fn("is_float",({name:r})=>t?`
          function! ${r}(winnr) abort
            if !exists('*nvim_win_get_config')
              return v:false
            endif
            let winid = win_getid(a:winnr)
            return nvim_win_get_config(winid)['relative'] != ''
          endfunction
        `:`
          function! ${r}(winnr) abort
            return v:false
          endfunction
        `),closeWinByBufnr:e.fn("close_win_by_bufnr",({name:r})=>`
        if exists('*nvim_win_close')
          function! ${r}(bufnrs) abort
            for bufnr in a:bufnrs
              try
                let winid = bufwinid(bufnr)
                if winid >= 0
                  call nvim_win_close(winid, v:true)
                endif
              catch
              endtry
            endfor
          endfunction
        else
          function! ${r}(bufnrs) abort
            for bufnr in a:bufnrs
              try
                let winnr = bufwinnr(bufnr)
                if winnr >= 0
                  execute winnr . 'wincmd c'
                endif
              catch
              endtry
            endfor
          endfunction
        endif
      `),runCocCmd:e.fn("run_coc_cmd",({name:r})=>`
      function! ${r}(name, ...) abort
        return call('CocAction', extend(['runCommand', a:name], a:000))
      endfunction
    `),runCocCmdAsync:e.fn("run_coc_cmd_async",({name:r})=>`
      function! ${r}(name, ...) abort
        return call('CocActionAsync', extend(['runCommand', a:name], a:000))
      endfunction
    `)}})});var _g=g(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.eventsModule=mt.helperEvents=mt.helperVimEvents=mt.HelperVimEvents=mt.HelperEventEmitter=void 0;var xg=require("coc.nvim"),Vb=Xa(),bg=Vr(),G2=Fn(),wg=class{constructor(t,r=!1){this.helperLogger=t,this.concurrent=r,this.listenersMap=new Map}listeners(t){if(!this.listenersMap.has(t)){let r=[];return this.listenersMap.set(t,r),r}return this.listenersMap.get(t)}on(t,r,n){this.listeners(t).push(r);let i=xg.Disposable.create(()=>this.off(t,r));return n&&n.push(i),i}off(t,r){typeof r.cancel=="function"&&r.cancel();let n=this.listeners(t),i=n.indexOf(r);i!==-1&&n.splice(i,1)}async fire(t,...r){if(this.concurrent)await Promise.all(this.listeners(t).map(async n=>{try{await n(...r)}catch(i){this.helperLogger.error(i)}}));else for(let n of this.listeners(t))try{await n(...r)}catch(i){this.helperLogger.error(i)}}};mt.HelperEventEmitter=wg;var Bn=class{constructor(t,r,n={}){var i,a,o,s;this.vimEvents=t,this.helperLogger=r,this.options=n,++Bn.ID,this.id=Bn.ID,this.augroupName=(i=n.augroupName)!==null&&i!==void 0?i:`CocHelperInternal_${bg.versionName}_${n.name?`${n.name}_`:""}${this.id}`,this.commandName=(o=(a=n.commandName)!==null&&a!==void 0?a:n.commandName)!==null&&o!==void 0?o:`coc-helper.internal.didVimEvent_${n.name?`${n.name}_`:""}${this.id}`,this.events=new wg(this.helperLogger,(s=n.concurrent)!==null&&s!==void 0?s:!1)}async register(t){await mt.eventsModule.activate.call(this.augroupName,this.commandName,Object.entries(this.vimEvents).map(([r,n])=>Object.assign({event:r},n))),t.subscriptions.push(xg.Disposable.create(async()=>{await mt.eventsModule.deactivate.call(this.augroupName)})),t.subscriptions.push(xg.commands.registerCommand(this.commandName,bg.helperLogger.asyncCatch((r,...n)=>this.events.fire(r,...n)),void 0,!0))}};mt.HelperVimEvents=Bn;Bn.ID=0;mt.helperVimEvents=new Bn({BufDelete:{eventExpr:"BufDelete *",argExprs:["+expand('<abuf>')"]},BufWipeout:{eventExpr:"BufWipeout *",argExprs:["+expand('<abuf>')"]}},bg.helperLogger);mt.helperEvents=mt.helperVimEvents.events;mt.eventsModule=G2.VimModule.create("events",e=>{let t=e.fn("activate",({name:n})=>`
      function! ${n}(augroup_name, autocmd_events) abort
        execute 'augroup ' . a:augroup_name
          autocmd!
          for autocmd_event in a:autocmd_events
            execute autocmd_event
          endfor
        augroup END
      endfunction
    `);function r(n,i){return i.map(a=>{var o;let s=`${[`'${n}'`,`'${a.event}'`,...(o=a.argExprs)!==null&&o!==void 0?o:[]].join(", ")}`;return`autocmd ${a.eventExpr} call ${a.async===!1?Vb.utilModule.runCocCmd.inlineCall(s):Vb.utilModule.runCocCmdAsync.inlineCall(s)}`})}return{activate:{call:(n,i,a)=>t.call(n,r(i,a)),callNotify:(n,i,a)=>t.callNotify(n,r(i,a)),callNotifier:(n,i,a)=>t.callNotifier(n,r(i,a))},deactivate:e.fn("deactivate",({name:n})=>`
        function! ${n}(augroup_name) abort
          execute 'augroup ' . a:augroup_name
            autocmd!
          augroup END
        endfunction
      `),doAutocmd:e.fn("do_autocmd",({name:n})=>`
        function! ${n}(name) abort
          if exists('#User#'.a:name)
            exe 'doautocmd <nomodeline> User '.a:name
          endif
        endfunction
      `)}})});var Og=g(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.bufModule=void 0;var V2=Fn(),z2=require("coc.nvim");Vs.bufModule=V2.VimModule.create("buf",e=>{let t=z2.workspace.isNvim,r=e.fn("create_by_name",({name:n})=>`
      function! ${n}(name) abort
        return bufadd(a:name)
      endfunction
    `);return{createByName:r,create:e.fn("create",({name:n})=>t?`
          function! ${n}(...) abort
            let name = get(a:000, 0, '')
            if name is ''
              return nvim_create_buf(v:false, v:true)
            else
              return ${r.inlineCall("name")}
            endif
          endfunction
        `:`
          function! ${n}(...) abort
            let name = get(a:000, 0, '')
            return ${r.inlineCall("name")}
          endfunction
        `)}})});var Tg=g(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.floatingModule=void 0;var Q2=require("coc.nvim"),K2=Fn(),zb=Og();zs.floatingModule=K2.VimModule.create("float",e=>{let t=Q2.workspace.isNvim,r=e.fn("init_execute",({name:i})=>`
      function! ${i}(ctx, inited_execute) abort
        execute a:inited_execute
      endfunction
    `),n=e.fn("open_win",({name:i})=>t?`
        function! ${i}(bufnr, focus, win_config, win_hl, inited_execute) abort
          let winid = nvim_open_win(a:bufnr, a:focus, a:win_config)
          if !empty(a:win_hl)
            call nvim_win_set_option(winid, 'winhl', a:win_hl)
          endif
          if !empty(a:inited_execute)
            call ${r.inlineCall("{'bufnr': a:bufnr, 'winid': winid}, a:inited_execute")}
          endif
          return winid
        endfunction
      `:`
        function! ${i}(bufnr, focus, win_config, win_hl, inited_execute) abort
          let winid = popup_create(a:bufnr, a:win_config)
          call ${r.inlineCall("{'bufnr': a:bufnr, 'winid': winid}, a:inited_execute")}

          return winid
        endfunction
      `);return{create:e.fn("create",({name:i})=>t?`
            function! ${i}(name, inited_execute, has_border_buf, border_inited_execute) abort
              let bufnr = ${zb.bufModule.create.inlineCall("a:name")}
              call ${r.inlineCall("{'bufnr': bufnr}, a:inited_execute")}

              let border_bufnr = v:null
              if a:has_border_buf
                let border_bufnr = nvim_create_buf(v:false, v:true)
                call ${r.inlineCall("{'bufnr': border_bufnr}, a:border_inited_execute")}
              endif
              return [bufnr, border_bufnr]
            endfunction
          `:`
            function! ${i}(name, inited_execute, has_border_buf, border_inited_execute) abort
              let bufnr = ${zb.bufModule.create.inlineCall("a:name")}
              call ${r.inlineCall("{'bufnr': bufnr}, a:inited_execute")}
              return [bufnr, v:null]
            endfunction
          `),open:e.fn("open",({name:i})=>`
        function! ${i}(bufnr, win_config, inited_execute, border_bufnr, border_win_config, border_inited_execute, focus, win_hl) abort
          let winid = ${n.inlineCall("a:bufnr, a:focus, a:win_config, a:win_hl, a:inited_execute")}
          call setbufvar(a:bufnr, 'coc_helper_winid', winid)

          if a:border_bufnr
            let border_winid = ${n.inlineCall("a:border_bufnr, v:false, a:border_win_config, a:win_hl, a:border_inited_execute")}
            call setbufvar(a:bufnr, 'coc_helper_border_winid', border_winid)
          endif
        endfunction
      `),resume:e.fn("resume",({name:i})=>`
        function! ${i}(bufnr, win_config, border_bufnr, border_win_config, focus, win_hl) abort
          let winid = ${n.inlineCall("a:bufnr, a:focus, a:win_config, a:win_hl, ''")}
          call setbufvar(a:bufnr, 'coc_helper_winid', winid)

          if a:border_bufnr
            let border_winid = ${n.inlineCall("border_bufnr, v:false, a:border_win_config, a:win_hl, ''")}
            call setbufvar(a:bufnr, 'coc_helper_border_winid', border_winid)
          endif
        endfunction
      `),update:e.fn("update",({name:i})=>t?`
          function! ${i}(bufnr, win_config, border_bufnr, border_win_config, win_hl) abort
            let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)
            if !winid
              return
            endif
            call nvim_win_set_config(winid, a:win_config)
            if !empty(a:win_hl)
              call nvim_win_set_option(winid, 'winhl', a:win_hl)
            endif
            if has('nvim')
              redraw!
            endif

            if a:border_bufnr
              let border_winid = getbufvar(a:bufnr, 'coc_helper_border_winid', v:null)
              if border_winid
                call nvim_win_set_config(border_winid, a:border_win_config)
                if !empty(a:win_hl)
                  call nvim_win_set_option(border_winid, 'winhl', a:win_hl)
                endif
                if has('nvim')
                  redraw!
                endif
              endif
            endif
          endfunction
        `:`
          function! ${i}(bufnr, win_config, border_bufnr, border_win_config, win_hl) abort
            let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)
            if !winid
              return
            endif
            call popup_setoptions(winid, a:win_config)
          endfunction
        `),winid:e.fn("winid",({name:i})=>`
        function! ${i}(bufnr) abort
          let id = getbufvar(a:bufnr, 'coc_helper_winid', v:null)
          let nr = win_id2win(id)
          return nr is 0 ? v:null : id
        endfunction
      `),borderWinid:e.fn("border_winid",({name:i})=>`
        function! ${i}(bufnr) abort
          return getbufvar(a:bufnr, 'coc_helper_border_winid', v:null)
        endfunction
      `),close:e.fn("close",({name:i})=>t?`
            function! ${i}(bufnr) abort
              let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)
              let border_winid = getbufvar(a:bufnr, 'coc_helper_border_winid', v:null)
              try
                if winid
                  call nvim_win_close(winid, v:true)
                endif
                if border_winid
                  call nvim_win_close(border_winid, v:true)
                endif
              catch
              endtry
            endfunction
          `:`
            function! ${i}(bufnr) abort
              let winid = getbufvar(a:bufnr, 'coc_helper_winid', v:null)
              try
                if winid
                  call popup_close(winid)
                endif
              catch
              endtry
            endfunction
          `)}})});var Sg=g(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.FloatingUtil=void 0;var ki=require("coc.nvim"),X2=Xa(),Qb=Va(),J2=Vr(),Kb=["\u2500","\u2502","\u2500","\u2502","\u250C","\u2510","\u2518","\u2514"],Xb="CocHelperNormalFloat",Z2="CocHelperNormalFloatNC",Jb="CocHelperNormalFloatBorder",Zb=class{constructor(t){this.srcId=t}async createContext(t){var r,n;return(r=t.context)!==null&&r!==void 0?r:{lines:ki.workspace.env.lines,columns:ki.workspace.env.columns-ki.workspace.env.cmdheight-1,globalCursorPosition:await X2.utilModule.globalCursorPosition.call(),title:t.title?{text:t.title,width:await J2.displayWidth(t.title)}:{text:"",width:0},borderEnabled:!!t.border,border:this.extendEdges((n=t.border)===null||n===void 0?void 0:n.map(i=>typeof i=="boolean"?1:i)),paddingEnabled:!!t.padding,padding:this.extendEdges(t.padding)}}getCenterPos(t,r){let[,,n,i]=r,a=Math.floor((t.lines-i)/2),o=Math.floor((t.columns-n)/2);return[a,o]}getPosForAround(t,r,n,i=!1){let a=t.columns,o=t.lines-1,[s,u]=r,[l,d]=n;return i?l-u<0?l+=1:l-=u:l+u>=o?l-=u:l+=1,d+s>=a&&(d-=s-1),[l,d]}extendEdges(t){var r,n,i,a;if(!t)return[0,0,0,0];let o=(r=t[0])!==null&&r!==void 0?r:1,s=(n=t[1])!==null&&n!==void 0?n:o,u=(i=t[2])!==null&&i!==void 0?i:o,l=(a=t[3])!==null&&a!==void 0?a:s;return[o,s,u,l]}changeBoxByEdgesList(t,r){let n=[...t];for(let i of r)n=this.changeBoxByEdges(n,i);return n}changeBoxByEdges(t,r){if(!r)return t;let[n,i,a,o]=r,[s,u,l,d]=t;return s-=n,u-=o,l+=o+i,d+=n+a,[s,u,l,d]}getBoxSizes(t,r,n){var i,a;let[o,s]=[(i=r.top)!==null&&i!==void 0?i:0,(a=r.left)!==null&&a!==void 0?a:0],u=Math.max(r.width,t.title.width),l=[0,0,u,r.height],d=this.changeBoxByEdges(l,t.padding),c=this.changeBoxByEdges(d,t.border),m;if(r.relative==="center")m=this.getCenterPos(t,c);else{let h=!n&&this.storeCursorPosition?this.storeCursorPosition:t.globalCursorPosition;r.relative==="cursor"?m=h:r.relative==="cursor-around"?m=this.getPosForAround(t,[c[2],c[3]],h):m=[o,s],this.storeCursorPosition=h}return[c[0],c[1]]=[m[0],m[1]],[d[0],d[1]]=[c[0]+t.border[0],c[1]+t.border[3]],[l[0],l[1]]=[d[0]+t.padding[0],d[1]+t.padding[3]],{contentBox:l,paddingBox:d,borderBox:c}}vimWinConfig(t,r,n){var i,a,o,s,u,l,d,c;let[m,h,x,_]=[(i=r.top)!==null&&i!==void 0?i:0,(a=r.left)!==null&&a!==void 0?a:0,r.width,r.height],N={line:0,col:0,zindex:((o=r.borderOnly)!==null&&o!==void 0?o:!1)?1:100,minwidth:x,minheight:_,maxwidth:x,maxheight:_};if(r.relative==="center")N.pos="center";else{let L=!n&&this.storeCursorPosition?this.storeCursorPosition:t.globalCursorPosition;if(r.relative==="cursor")[N.line,N.col]=L;else if(r.relative==="cursor-around"){let F=this.changeBoxByEdgesList([m,h,x,_],[t.padding,t.border]);[N.line,N.col]=this.getPosForAround(t,[F[2],F[3]],L)}else[N.line,N.col]=[m,h];this.storeCursorPosition=L,N.line+=1,N.col+=1}let C=(s=r.topOffset)!==null&&s!==void 0?s:0,j=(u=r.leftOffset)!==null&&u!==void 0?u:0;return N.line+=C,N.col+=j,r.maxWidth&&(N.maxwidth=r.maxWidth),r.maxHeight&&(N.maxheight=r.maxHeight),N.highlight=(l=r.winHl)!==null&&l!==void 0?l:Xb,r.padding&&(N.padding=r.padding),t.borderEnabled&&(N.border=t.border,N.border[0]&&(t.title.width&&(N.title=t.title.text),N.close="button"),N.borderchars=(d=r.borderChars)!==null&&d!==void 0?d:Kb,N.borderhighlight=[(c=r.borderWinHl)!==null&&c!==void 0?c:Jb]),N}nvimWinConfig(t,r,n){var i,a,o;let{contentBox:s,borderBox:u}=this.getBoxSizes(t,r,n),l=(i=r.topOffset)!==null&&i!==void 0?i:0,d=(a=r.leftOffset)!==null&&a!==void 0?a:0,c={relative:"editor",row:s[0]+l,col:s[1]+d,width:s[2],height:s[3],focusable:(o=r.focusable)!==null&&o!==void 0?o:!0},m;return u&&(m={relative:"editor",row:u[0]+l,col:u[1]+d,width:u[2],height:u[3],focusable:!1}),[c,m]}winConfig(t,r,n=!0){return ki.workspace.isVim?[this.vimWinConfig(t,r,n),void 0]:this.nvimWinConfig(t,r,n)}getRenderBorderData(t,r,n){var i,a,o,s,u,l;let d=(a=(i=t.title)===null||i===void 0?void 0:i.text)!==null&&a!==void 0?a:"",c=(s=(o=t.title)===null||o===void 0?void 0:o.width)!==null&&s!==void 0?s:0;if(!t.borderEnabled)return;let[m,h,x,_]=t.border,[N,C,j,L,F,B,he,qe]=(u=r.borderChars)!==null&&u!==void 0?u:Kb;m||(N=""),h||(C=""),x||(j=""),_||(L=""),(!m||!_)&&(F=""),(!m||!h)&&(B=""),(!x||!_)&&(qe=""),(!x||!h)&&(he="");let me=n[0],be=n[1],Le=me-_-h,st=be-m-x,Ve=[];m&&Ve.push(F+d+N.repeat(Le-c)+B),Ve.push(...Array.from({length:st},()=>L+" ".repeat(Le)+C)),x&&Ve.push(qe+j.repeat(Le)+he);let Ie=[],wt=(l=r.borderWinHl)!==null&&l!==void 0?l:Jb;if(wt){Ie.push({srcId:this.srcId,hlGroup:wt,line:0,colStart:0,colEnd:me});for(let Je=0,_t=st;Je<_t;Je++)_&&Ie.push({srcId:this.srcId,hlGroup:wt,line:Je+1,colStart:0,colEnd:_}),h&&Ie.push({srcId:this.srcId,hlGroup:wt,line:Je+1,colStart:_+Le,colEnd:me});x&&Ie.push({srcId:this.srcId,hlGroup:wt,line:be-1,colStart:0,colEnd:me})}return{lines:Ve,highlights:Ie}}renderBorderNotifier(t,r,n,i){let a=this.getRenderBorderData(r,n,"width"in i?[i.width,i.height]:[i.minwidth,i.minheight]);if(!a)return Qb.Notifier.noop();let{lines:o,highlights:s}=a;return Qb.Notifier.create(()=>{t.setOption("modifiable",!0,!0),t.setOption("readonly",!1,!0),t.setLines(o,{start:0,end:-1},!0),t.setOption("modifiable",!1,!0),t.setOption("readonly",!0,!0),this.addHighlightsNotify(t,s)})}nvimWinHl(t){var r,n;if(ki.workspace.isVim)return"";let i=[];return i.push("Normal:"+((r=t.winHl)!==null&&r!==void 0?r:Xb)),i.push("NormalNC:"+((n=t.winHlNC)!==null&&n!==void 0?n:Z2)),i.join(",")}addHighlightsNotify(t,r){for(let n of r)!n.srcId||!n.hlGroup||n.line===void 0||n.colStart===void 0||n.colEnd===void 0||t.highlightRanges(this.srcId,n.hlGroup,[ki.Range.create(n.line,n.colStart,n.line,n.colEnd)])}};Qs.FloatingUtil=Zb});var Xs=g(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.FloatingWindow=void 0;var Ft=require("coc.nvim"),Hn=Va(),yr=Tg(),eL=Xa(),tL=Vr(),rL=Sg(),Ne=class{constructor(t,r,n,i,a){this.bufnr=t,this.borderBufnr=r,this.createOptions=n,this.mode=i,this.util=a,this.nvim=Ft.workspace.nvim,this.disposables=[],this.nvim=Ft.workspace.nvim,this.buffer=this.nvim.createBuffer(t),r&&(this.borderBuffer=Ft.workspace.nvim.createBuffer(r),this.disposables.push(Ft.events.on("BufWinLeave",tL.helperLogger.asyncCatch(async o=>{this.borderBufnr&&o===this.bufnr&&await eL.utilModule.closeWinByBufnr.call([this.borderBufnr])}))))}static getInitedExecute(t,r){var n,i,a,o;let s=(i=(n=r.initedExecute)===null||n===void 0?void 0:n.call(r,Ne.initedContextVars.create))!==null&&i!==void 0?i:"";s=Ne.modePresets[t].createInitedExecute(Ne.initedContextVars.create)+`
`+s;let u=(o=(a=r.borderInitedExecute)===null||a===void 0?void 0:a.call(r,Ne.initedContextVars.create))!==null&&o!==void 0?o:Ne.modePresets.show.createInitedExecute(Ne.initedContextVars.create);return[s,u]}static async create(t={}){var r,n,i;let a=(r=t.mode)!==null&&r!==void 0?r:"default",[o,s]=this.getInitedExecute(a,t),[u,l]=await yr.floatingModule.create.call((n=t.name)!==null&&n!==void 0?n:"",o,(i=t.hasBorderBuf)!==null&&i!==void 0?i:!0,s),d=new rL.FloatingUtil(this.srcId);return new Ne(u,l!=null?l:void 0,t,a,d)}getInitedExecute(t){var r,n,i,a;let o=(n=(r=t.initedExecute)===null||r===void 0?void 0:r.call(t,Ne.initedContextVars.open))!==null&&n!==void 0?n:"";o=Ne.modePresets[this.mode].openInitedExecute(Ne.initedContextVars.open)+`
`+o;let s=(a=(i=t.borderInitedExecute)===null||i===void 0?void 0:i.call(t,Ne.initedContextVars.open))!==null&&a!==void 0?a:Ne.modePresets.show.openInitedExecute(Ne.initedContextVars.open);return[o,s]}getFocus(t){var r,n;return(n=(r=t.focus)!==null&&r!==void 0?r:this.mode?Ne.modePresets[this.mode].focus:void 0)!==null&&n!==void 0?n:!1}getModifiable(t){var r,n;return(n=(r=t.modifiable)!==null&&r!==void 0?r:this.mode?Ne.modePresets[this.mode].modifiable:void 0)!==null&&n!==void 0?n:!1}setLinesNotifier(t){return Hn.Notifier.create(()=>{if(!t.lines&&!t.modifiable)return;let r=this.getModifiable(t);if(this.buffer.setOption("modifiable",!0,!0),this.buffer.setOption("readonly",!1,!0),t.lines&&this.buffer.setLines(t.lines,{start:0,end:-1},!0),r||(this.buffer.setOption("modifiable",!1,!0),this.buffer.setOption("readonly",!0,!0)),t.highlights)for(let n of t.highlights)(n.srcId===void 0||n.srcId===-1||n.srcId===0)&&(n.srcId=Ne.srcId),this.util.addHighlightsNotify(this.buffer,[n]);Ft.workspace.isVim&&this.nvim.command("redraw!",!0)})}async setLines(t){await this.setLinesNotifier(t).run()}async opened(){return!!await this.win()}async openNotifier(t){var r;if(t.width<=0||t.height<=0)return Hn.Notifier.noop();let n=[];n.push(this.closeNotifier());let i=await this.util.createContext(t),[a,o]=this.getInitedExecute(t),[s,u]=this.util.winConfig(i,t);return t.borderOnly&&u?(n.push(yr.floatingModule.open.callNotifier(this.bufnr,u,o,null,null,"",!1,this.util.nvimWinHl(t))),n.push(this.util.renderBorderNotifier(this.buffer,i,t,u))):n.push(yr.floatingModule.open.callNotifier(this.bufnr,s,a,(r=this.borderBufnr)!==null&&r!==void 0?r:null,u!=null?u:null,o,this.getFocus(t),this.util.nvimWinHl(t))),Ft.workspace.isNvim&&this.borderBuffer&&u&&n.push(this.util.renderBorderNotifier(this.borderBuffer,i,t,u)),n.push(this.setLinesNotifier(t),Hn.Notifier.create(()=>{t.filetype&&this.buffer.setOption("filetype",t.filetype,!0)})),Hn.Notifier.combine(n)}async open(t){await(await this.openNotifier(t)).run()}async resumeNotifier(t){let r=await this.util.createContext(t),[n,i]=this.util.winConfig(r,t);return Hn.Notifier.create(()=>{var a;yr.floatingModule.resume.callNotify(this.bufnr,n,(a=this.borderBufnr)!==null&&a!==void 0?a:null,i!=null?i:null,this.getFocus(t),this.util.nvimWinHl(t)),this.borderBuffer&&i&&this.util.renderBorderNotifier(this.borderBuffer,r,t,i).notify(),Ft.workspace.isVim&&this.nvim.command("redraw!",!0)})}async resume(t){await(await this.resumeNotifier(t)).run()}async resizeNotifier(t){var r;let n=await this.util.createContext(t),[i,a]=this.util.winConfig(n,t,!1),o=[];return t.borderOnly&&a?(o.push(yr.floatingModule.update.callNotifier(this.bufnr,a,null,null,this.util.nvimWinHl(t))),o.push(this.util.renderBorderNotifier(this.buffer,n,t,a))):o.push(yr.floatingModule.update.callNotifier(this.bufnr,i,(r=this.borderBufnr)!==null&&r!==void 0?r:null,a!=null?a:null,this.util.nvimWinHl(t))),Ft.workspace.isNvim&&this.borderBuffer&&a&&o.push(this.util.renderBorderNotifier(this.borderBuffer,n,t,a)),o.push(Hn.Notifier.create(()=>{Ft.workspace.isVim&&this.nvim.command("redraw!",!0)})),Hn.Notifier.combine(o)}async resize(t){await(await this.resizeNotifier(t)).run()}async win(){let t=await yr.floatingModule.winid.call(this.bufnr);return t?this.nvim.createWindow(t):void 0}async borderWin(){let t=await yr.floatingModule.winid.call(this.bufnr);return t?this.nvim.createWindow(t):void 0}closeNotifier(){return yr.floatingModule.close.callNotifier(this.bufnr)}async close(){await this.closeNotifier().run()}dispose(){Ft.disposeAll(this.disposables),this.disposables.forEach(t=>t.dispose())}};Ks.FloatingWindow=Ne;Ne.modePresets={default:{modifiable:!1,focus:!1,createInitedExecute:()=>"",openInitedExecute:()=>""},base:{createInitedExecute:e=>`
        call setbufvar(${e.bufnr}, '&buftype', 'nofile')
        call setbufvar(${e.bufnr}, '&bufhidden', 'hide')
        call setbufvar(${e.bufnr}, '&buflisted', 0)

        call setbufvar(${e.bufnr}, '&wrap', 1)

        call setbufvar(${e.bufnr}, '&swapfile', 0)

        call setbufvar(${e.bufnr}, '&modeline', 0)
      `,openInitedExecute:e=>`
        call setbufvar(${e.bufnr}, '&list', 0)

        call setbufvar(${e.bufnr}, '&listchars', '')
        if has('nvim')
          call setbufvar(${e.bufnr}, '&fillchars', 'eob: ')
        endif

        call setbufvar(${e.bufnr}, '&signcolumn', 'no')
        call setbufvar(${e.bufnr}, '&number', 0)
        call setbufvar(${e.bufnr}, '&relativenumber', 0)
        call setbufvar(${e.bufnr}, '&foldenable', 0)
        call setbufvar(${e.bufnr}, '&foldcolumn', 0)

        call setbufvar(${e.bufnr}, '&spell', 0)

        call setbufvar(${e.bufnr}, '&cursorcolumn', 0)
        call setbufvar(${e.bufnr}, '&cursorline', 0)
        call setbufvar(${e.bufnr}, '&colorcolumn', '')
      `},show:{modifiable:!1,createInitedExecute:e=>`
        ${Ne.modePresets.base.createInitedExecute(e)}
        " call setbufvar(${e.bufnr}, '&undofile', 0)
        " call setbufvar(${e.bufnr}, '&undolevels', -1)

        call setbufvar(${e.bufnr}, '&modifiable', 0)
        call setbufvar(${e.bufnr}, '&modified', 0)
        call setbufvar(${e.bufnr}, '&readonly', 1)
      `,openInitedExecute:e=>`
        ${Ne.modePresets.base.openInitedExecute(e)}
      `}};Ne.initedContextVars={create:{bufnr:"a:ctx.bufnr"},open:{bufnr:"a:ctx.bufnr",winid:"a:ctx.winid"}};Ne.srcId=Ft.workspace.createNameSpace("coc-helper-floatwin")});var qg=g(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.MultiFloatingWindow=void 0;var Ja=require("coc.nvim"),ew=Qe(),nL=Sg(),Mg=Xs(),Zs=class{constructor(t,r,n){this.borderFloatWin=t,this.floatWinDict=r,this.util=n,this.disposables=[],this.floatWins=Object.values(this.floatWinDict),this.nvim=Ja.workspace.nvim,this.bufnrs=[t.bufnr,...this.floatWins.map(i=>i.bufnr)],this.disposables.push(Ja.events.on("BufWinLeave",async i=>{this.bufnrs.includes(i)&&await this.close()}),Ja.Disposable.create(()=>{t.dispose(),Ja.disposeAll(this.floatWins)}))}static async create(t){let r=await Mg.FloatingWindow.create(Object.assign({hasBorderBuf:!1,mode:"show"},t)),i=(await Promise.all(Object.entries(t.wins).map(async([o,s])=>[o,await Mg.FloatingWindow.create(Object.assign({hasBorderBuf:!1},s))]))).reduce((o,[s,u])=>(o[s]=u,o),{}),a=new nL.FloatingUtil(Mg.FloatingWindow.srcId);return new Zs(r,i,a)}async opened(){return this.borderFloatWin.opened()}async sizeByWinsOptions(t){var r,n;let i=0,a=0;for(let o of t){let s=await this.util.createContext(o),u=this.util.getBoxSizes(s,o,!1),l=((r=o.left)!==null&&r!==void 0?r:0)+u.borderBox[2];l>i&&(i=l);let d=((n=o.top)!==null&&n!==void 0?n:0)+u.borderBox[3];d>a&&(a=d)}return[i,a]}async batchAction(t,r,{reverse:n=!1,updateCursorPosition:i=!0}={}){var a,o;let[s,u]=await this.sizeByWinsOptions(Object.values(r.wins)),l=Object.assign({width:s,height:u},r),d=await this.util.createContext(l),{contentBox:c}=this.util.getBoxSizes(d,l,i),m=[];for(let[h,x]of Object.entries(this.floatWinDict)){let _=r.wins[h];!_||m.push(await x[t](Object.assign(Object.assign({},_),{relative:"editor",top:c[0]+((a=_.top)!==null&&a!==void 0?a:0),left:c[1]+((o=_.left)!==null&&o!==void 0?o:0)})))}m.push(await this.borderFloatWin[t](Object.assign(Object.assign({},l),{borderOnly:!0}))),n&&m.reverse(),await ew.Notifier.runAll(m)}async open(t){return this.batchAction("openNotifier",t)}async resume(t){return this.batchAction("resumeNotifier",t)}resize(t){return this.batchAction("resizeNotifier",t,{updateCursorPosition:!1})}async win(){return{borderWin:await this.borderFloatWin.win(),wins:await this.wins()}}async wins(){return await Promise.all(this.floatWins.map(t=>t.win()))}async close(){let t=[];t.push(this.borderFloatWin.closeNotifier()),t.push(...this.floatWins.map(r=>r.closeNotifier())),await ew.Notifier.runAll(t)}dispose(){Ja.disposeAll(this.disposables)}};Js.MultiFloatingWindow=Zs});var rw=g(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.WinLayoutFinder=void 0;var iL=require("coc.nvim"),tw=class{constructor(t){this.root=t}static convertVimLayoutNode(t,r){if(t[0]==="leaf")return{type:t[0],winid:t[1],parent:r};{let n={type:t[0],children:[]};return n.children=t[1].map((i,a)=>this.convertVimLayoutNode(i,{group:n,indexInParent:a})),n}}static async create(){let t=await iL.workspace.nvim.call("winlayout",[]);return new this(this.convertVimLayoutNode(t))}static getFirstLeafWinid(t){return t.type==="leaf"?t.winid:this.getFirstLeafWinid(t.children[0])}findWinid(t,r=this.root){if(r.type==="leaf")return r.winid===t?r:void 0;for(let n of r.children){let i=this.findWinid(t,n);if(i)return i}}findClosest(t,r){let n=new Set([t]),i=[t];for(;i.length;){let a=i.shift();if(a.type==="leaf"){if(r.includes(a.winid))return a}else for(let o of a.children)if(!n.has(o)){i.push(o),n.add(o);continue}a.parent&&!n.has(a.parent.group)&&(i.push(a.parent.group),n.add(a.parent.group))}}};eu.WinLayoutFinder=tw});var Qe=g(He=>{"use strict";var aL=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rr=He&&He.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&aL(t,e,r)};Object.defineProperty(He,"__esModule",{value:!0});He.activate=He.activateHelper=void 0;var xr=require("coc.nvim"),nw=_g(),oL=Xs(),sL=qg(),Za=Vr(),uL=Fn();rr(_g(),He);rr(Xs(),He);rr(Og(),He);rr(Tg(),He);rr(Xa(),He);rr(qg(),He);rr(Va(),He);rr(Vr(),He);rr(Fn(),He);rr(rw(),He);async function iw(e,t={}){var r,n;((r=t.vimModule)!==null&&r!==void 0?r:!0)&&await uL.VimModule.init(e),((n=t.events)!==null&&n!==void 0?n:!0)&&await nw.helperVimEvents.register(e);try{await xr.workspace.nvim.command("hi default link CocHelperNormalFloatNC CocHelperNormalFloat")}catch(i){xr.window.showMessage(i,"error")}}He.activateHelper=iw;async function lL(e){await iw(e,{events:!0}),nw.helperEvents.on("BufDelete",n=>{xr.window.showMessage("buffer delete "+n)}),await xr.workspace.nvim.command("hi CocHelperNormalFloat ctermbg=Red guibg=#aa0000"),await xr.workspace.nvim.command("hi CocHelperNormalFloatNC ctermbg=Red guibg=#aa0000"),await xr.workspace.nvim.command("hi CocHelperNormalFloatBorder ctermbg=Black ctermfg=Grey guibg=#0000aa guifg=#ffffff");let t=await oL.FloatingWindow.create({mode:"base"});xr.commands.registerCommand("testHelper-floating",async()=>{let n="hello";await t.open({relative:"cursor-around",lines:[n],top:0,left:0,title:"test",width:5,height:5,border:[1,1,1,0],padding:[],modifiable:!0,focus:!0,filetype:"test",highlights:[{line:0,srcId:0,colStart:0,colEnd:n.length,hlGroup:"Question"}]}),await Za.sleep(2e3),await t.resize({relative:"cursor-around",top:0,left:0,title:"test",width:10,height:10,border:[],padding:[],winHl:"Pmenu",winHlNC:"Pmenu",modifiable:!0,focus:!1,filetype:"test"}),await Za.sleep(2e3),await t.resize({relative:"cursor-around",top:0,left:0,title:"test",width:5,height:5,border:[1,1,1,0],padding:[],modifiable:!0,focus:!1,filetype:"test"})});let r=await sL.MultiFloatingWindow.create({wins:{prompt:{mode:"show"},input:{mode:"base"}}});xr.commands.registerCommand("testHelper-multi-floating",async()=>{let n=10,i="input your path:",a=await Za.displayHeight(n,[i]),o="/home/users/repos",s=await Za.displayHeight(n,[o]);xr.events.on("TextChangedI",async d=>{let c=r.floatWinDict.input;if(c.bufnr!==d)return;let m=await c.win();if(!m)return;let h=await m.cursor,x=await m.width,_=await m.height,N=await c.buffer.getLines(),C=await Za.displayHeight(x,N,h,"i");C!==_&&(s=C,await l())});let u=()=>({relative:"cursor-around",top:0,left:0,title:"test",border:[],padding:[],modifiable:!0,filetype:"test",wins:{prompt:{top:0,left:0,width:n,height:a,highlights:[{line:0,srcId:0,colEnd:i.length,colStart:0,hlGroup:"Question"}],lines:[i]},input:{top:a,left:0,width:n,height:s,lines:[o],focus:!0,modifiable:!0,initedExecute:()=>`
            if has('nvim')
              call feedkeys('A')
            endif
          `}}}),l=async()=>{await r.resize(u())};await r.open(u())})}He.activate=lL});var su=g((to,ro)=>{Ls(to,{default:()=>UW});var Lw=typeof to=="object"&&to&&!to.nodeType&&to,Ww=Lw&&typeof ro=="object"&&ro&&!ro.nodeType&&ro,FW=Ww&&Ww.exports===Lw,Fw=FW?Ue.Buffer:void 0,BW=Fw?Fw.isBuffer:void 0,HW=BW||Aw,UW=HW});var uu=g((no,io)=>{Ls(no,{default:()=>yF});var Hw=typeof no=="object"&&no&&!no.nodeType&&no,ao=Hw&&typeof io=="object"&&io&&!io.nodeType&&io,hF=ao&&ao.exports===Hw,Cg=hF&&tu.process,vF=function(){try{var e=ao&&ao.require&&ao.require("util").types;return e||Cg&&Cg.binding&&Cg.binding("util")}catch(t){}}(),yF=vF});var D_=g((oo,so)=>{Ls(oo,{default:()=>AB});var q_=typeof oo=="object"&&oo&&!oo.nodeType&&oo,N_=q_&&typeof so=="object"&&so&&!so.nodeType&&so,IB=N_&&N_.exports===q_,P_=IB?Ue.Buffer:void 0,C_=P_?P_.allocUnsafe:void 0;function kB(e,t){if(t)return e.slice();var r=e.length,n=C_?C_(r):new e.constructor(r);return e.copy(n),n}var AB=kB});var nO=g((X,J0)=>{X=J0.exports=ne;var fe;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?fe=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:fe=function(){};X.SEMVER_SPEC_VERSION="2.0.0";var Bg=256,Iu=Number.MAX_SAFE_INTEGER||9007199254740991,Hg=16,le=X.re=[],k=X.src=[],R=X.tokens={},Z0=0;function ie(e){R[e]=Z0++}ie("NUMERICIDENTIFIER");k[R.NUMERICIDENTIFIER]="0|[1-9]\\d*";ie("NUMERICIDENTIFIERLOOSE");k[R.NUMERICIDENTIFIERLOOSE]="[0-9]+";ie("NONNUMERICIDENTIFIER");k[R.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";ie("MAINVERSION");k[R.MAINVERSION]="("+k[R.NUMERICIDENTIFIER]+")\\.("+k[R.NUMERICIDENTIFIER]+")\\.("+k[R.NUMERICIDENTIFIER]+")";ie("MAINVERSIONLOOSE");k[R.MAINVERSIONLOOSE]="("+k[R.NUMERICIDENTIFIERLOOSE]+")\\.("+k[R.NUMERICIDENTIFIERLOOSE]+")\\.("+k[R.NUMERICIDENTIFIERLOOSE]+")";ie("PRERELEASEIDENTIFIER");k[R.PRERELEASEIDENTIFIER]="(?:"+k[R.NUMERICIDENTIFIER]+"|"+k[R.NONNUMERICIDENTIFIER]+")";ie("PRERELEASEIDENTIFIERLOOSE");k[R.PRERELEASEIDENTIFIERLOOSE]="(?:"+k[R.NUMERICIDENTIFIERLOOSE]+"|"+k[R.NONNUMERICIDENTIFIER]+")";ie("PRERELEASE");k[R.PRERELEASE]="(?:-("+k[R.PRERELEASEIDENTIFIER]+"(?:\\."+k[R.PRERELEASEIDENTIFIER]+")*))";ie("PRERELEASELOOSE");k[R.PRERELEASELOOSE]="(?:-?("+k[R.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+k[R.PRERELEASEIDENTIFIERLOOSE]+")*))";ie("BUILDIDENTIFIER");k[R.BUILDIDENTIFIER]="[0-9A-Za-z-]+";ie("BUILD");k[R.BUILD]="(?:\\+("+k[R.BUILDIDENTIFIER]+"(?:\\."+k[R.BUILDIDENTIFIER]+")*))";ie("FULL");ie("FULLPLAIN");k[R.FULLPLAIN]="v?"+k[R.MAINVERSION]+k[R.PRERELEASE]+"?"+k[R.BUILD]+"?";k[R.FULL]="^"+k[R.FULLPLAIN]+"$";ie("LOOSEPLAIN");k[R.LOOSEPLAIN]="[v=\\s]*"+k[R.MAINVERSIONLOOSE]+k[R.PRERELEASELOOSE]+"?"+k[R.BUILD]+"?";ie("LOOSE");k[R.LOOSE]="^"+k[R.LOOSEPLAIN]+"$";ie("GTLT");k[R.GTLT]="((?:<|>)?=?)";ie("XRANGEIDENTIFIERLOOSE");k[R.XRANGEIDENTIFIERLOOSE]=k[R.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";ie("XRANGEIDENTIFIER");k[R.XRANGEIDENTIFIER]=k[R.NUMERICIDENTIFIER]+"|x|X|\\*";ie("XRANGEPLAIN");k[R.XRANGEPLAIN]="[v=\\s]*("+k[R.XRANGEIDENTIFIER]+")(?:\\.("+k[R.XRANGEIDENTIFIER]+")(?:\\.("+k[R.XRANGEIDENTIFIER]+")(?:"+k[R.PRERELEASE]+")?"+k[R.BUILD]+"?)?)?";ie("XRANGEPLAINLOOSE");k[R.XRANGEPLAINLOOSE]="[v=\\s]*("+k[R.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+k[R.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+k[R.XRANGEIDENTIFIERLOOSE]+")(?:"+k[R.PRERELEASELOOSE]+")?"+k[R.BUILD]+"?)?)?";ie("XRANGE");k[R.XRANGE]="^"+k[R.GTLT]+"\\s*"+k[R.XRANGEPLAIN]+"$";ie("XRANGELOOSE");k[R.XRANGELOOSE]="^"+k[R.GTLT]+"\\s*"+k[R.XRANGEPLAINLOOSE]+"$";ie("COERCE");k[R.COERCE]="(^|[^\\d])(\\d{1,"+Hg+"})(?:\\.(\\d{1,"+Hg+"}))?(?:\\.(\\d{1,"+Hg+"}))?(?:$|[^\\d])";ie("COERCERTL");le[R.COERCERTL]=new RegExp(k[R.COERCE],"g");ie("LONETILDE");k[R.LONETILDE]="(?:~>?)";ie("TILDETRIM");k[R.TILDETRIM]="(\\s*)"+k[R.LONETILDE]+"\\s+";le[R.TILDETRIM]=new RegExp(k[R.TILDETRIM],"g");var G3="$1~";ie("TILDE");k[R.TILDE]="^"+k[R.LONETILDE]+k[R.XRANGEPLAIN]+"$";ie("TILDELOOSE");k[R.TILDELOOSE]="^"+k[R.LONETILDE]+k[R.XRANGEPLAINLOOSE]+"$";ie("LONECARET");k[R.LONECARET]="(?:\\^)";ie("CARETTRIM");k[R.CARETTRIM]="(\\s*)"+k[R.LONECARET]+"\\s+";le[R.CARETTRIM]=new RegExp(k[R.CARETTRIM],"g");var V3="$1^";ie("CARET");k[R.CARET]="^"+k[R.LONECARET]+k[R.XRANGEPLAIN]+"$";ie("CARETLOOSE");k[R.CARETLOOSE]="^"+k[R.LONECARET]+k[R.XRANGEPLAINLOOSE]+"$";ie("COMPARATORLOOSE");k[R.COMPARATORLOOSE]="^"+k[R.GTLT]+"\\s*("+k[R.LOOSEPLAIN]+")$|^$";ie("COMPARATOR");k[R.COMPARATOR]="^"+k[R.GTLT]+"\\s*("+k[R.FULLPLAIN]+")$|^$";ie("COMPARATORTRIM");k[R.COMPARATORTRIM]="(\\s*)"+k[R.GTLT]+"\\s*("+k[R.LOOSEPLAIN]+"|"+k[R.XRANGEPLAIN]+")";le[R.COMPARATORTRIM]=new RegExp(k[R.COMPARATORTRIM],"g");var z3="$1$2$3";ie("HYPHENRANGE");k[R.HYPHENRANGE]="^\\s*("+k[R.XRANGEPLAIN]+")\\s+-\\s+("+k[R.XRANGEPLAIN]+")\\s*$";ie("HYPHENRANGELOOSE");k[R.HYPHENRANGELOOSE]="^\\s*("+k[R.XRANGEPLAINLOOSE]+")\\s+-\\s+("+k[R.XRANGEPLAINLOOSE]+")\\s*$";ie("STAR");k[R.STAR]="(<|>)?=?\\s*\\*";for(var $n=0;$n<Z0;$n++)fe($n,k[$n]),le[$n]||(le[$n]=new RegExp(k[$n]));X.parse=Gn;function Gn(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne)return e;if(typeof e!="string"||e.length>Bg)return null;var r=t.loose?le[R.LOOSE]:le[R.FULL];if(!r.test(e))return null;try{return new ne(e,t)}catch(n){return null}}X.valid=Q3;function Q3(e,t){var r=Gn(e,t);return r?r.version:null}X.clean=K3;function K3(e,t){var r=Gn(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}X.SemVer=ne;function ne(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>Bg)throw new TypeError("version is longer than "+Bg+" characters");if(!(this instanceof ne))return new ne(e,t);fe("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?le[R.LOOSE]:le[R.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Iu||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Iu||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Iu||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<Iu)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}ne.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};ne.prototype.toString=function(){return this.version};ne.prototype.compare=function(e){return fe("SemVer.compare",this.version,this.options,e),e instanceof ne||(e=new ne(e,this.options)),this.compareMain(e)||this.comparePre(e)};ne.prototype.compareMain=function(e){return e instanceof ne||(e=new ne(e,this.options)),Vn(this.major,e.major)||Vn(this.minor,e.minor)||Vn(this.patch,e.patch)};ne.prototype.comparePre=function(e){if(e instanceof ne||(e=new ne(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(fe("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Vn(r,n)}while(++t)};ne.prototype.compareBuild=function(e){e instanceof ne||(e=new ne(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(fe("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Vn(r,n)}while(++t)};ne.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};X.inc=X3;function X3(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new ne(e,r).inc(t,n).version}catch(i){return null}}X.diff=J3;function J3(e,t){if(Ug(e,t))return null;var r=Gn(e),n=Gn(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var a="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return i+o;return a}X.compareIdentifiers=Vn;var eO=/^[0-9]+$/;function Vn(e,t){var r=eO.test(e),n=eO.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}X.rcompareIdentifiers=Z3;function Z3(e,t){return Vn(t,e)}X.major=eU;function eU(e,t){return new ne(e,t).major}X.minor=tU;function tU(e,t){return new ne(e,t).minor}X.patch=rU;function rU(e,t){return new ne(e,t).patch}X.compare=Or;function Or(e,t,r){return new ne(e,r).compare(new ne(t,r))}X.compareLoose=nU;function nU(e,t){return Or(e,t,!0)}X.compareBuild=iU;function iU(e,t,r){var n=new ne(e,r),i=new ne(t,r);return n.compare(i)||n.compareBuild(i)}X.rcompare=aU;function aU(e,t,r){return Or(t,e,r)}X.sort=oU;function oU(e,t){return e.sort(function(r,n){return X.compareBuild(r,n,t)})}X.rsort=sU;function sU(e,t){return e.sort(function(r,n){return X.compareBuild(n,r,t)})}X.gt=lo;function lo(e,t,r){return Or(e,t,r)>0}X.lt=ku;function ku(e,t,r){return Or(e,t,r)<0}X.eq=Ug;function Ug(e,t,r){return Or(e,t,r)===0}X.neq=tO;function tO(e,t,r){return Or(e,t,r)!==0}X.gte=Yg;function Yg(e,t,r){return Or(e,t,r)>=0}X.lte=$g;function $g(e,t,r){return Or(e,t,r)<=0}X.cmp=Au;function Au(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Ug(e,r,n);case"!=":return tO(e,r,n);case">":return lo(e,r,n);case">=":return Yg(e,r,n);case"<":return ku(e,r,n);case"<=":return $g(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}X.Comparator=It;function It(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof It){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof It))return new It(e,t);fe("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===na?this.value="":this.value=this.operator+this.semver.version,fe("comp",this)}var na={};It.prototype.parse=function(e){var t=this.options.loose?le[R.COMPARATORLOOSE]:le[R.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new ne(r[2],this.options.loose):this.semver=na};It.prototype.toString=function(){return this.value};It.prototype.test=function(e){if(fe("Comparator.test",e,this.options.loose),this.semver===na||e===na)return!0;if(typeof e=="string")try{e=new ne(e,this.options)}catch(t){return!1}return Au(e,this.operator,this.semver,this.options)};It.prototype.intersects=function(e,t){if(!(e instanceof It))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new De(e.value,t),Lu(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new De(this.value,t),Lu(e.semver,r,t));var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),a=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),s=Au(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=Au(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||a&&o||s||u};X.Range=De;function De(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof De)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new De(e.raw,t);if(e instanceof It)return new De(e.value,t);if(!(this instanceof De))return new De(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}De.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};De.prototype.toString=function(){return this.range};De.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?le[R.HYPHENRANGELOOSE]:le[R.HYPHENRANGE];e=e.replace(r,lU),fe("hyphen replace",e),e=e.replace(le[R.COMPARATORTRIM],z3),fe("comparator trim",e,le[R.COMPARATORTRIM]),e=e.replace(le[R.TILDETRIM],G3),e=e.replace(le[R.CARETTRIM],V3),e=e.split(/\s+/).join(" ");var n=t?le[R.COMPARATORLOOSE]:le[R.COMPARATOR],i=e.split(" ").map(function(a){return uU(a,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(a){return!!a.match(n)})),i=i.map(function(a){return new It(a,this.options)},this),i};De.prototype.intersects=function(e,t){if(!(e instanceof De))throw new TypeError("a Range is required");return this.set.some(function(r){return rO(r,t)&&e.set.some(function(n){return rO(n,t)&&r.every(function(i){return n.every(function(a){return i.intersects(a,t)})})})})};function rO(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(a){return i.intersects(a,t)}),i=n.pop();return r}X.toComparators=dU;function dU(e,t){return new De(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function uU(e,t){return fe("comp",e,t),e=fU(e,t),fe("caret",e),e=cU(e,t),fe("tildes",e),e=pU(e,t),fe("xrange",e),e=mU(e,t),fe("stars",e),e}function vt(e){return!e||e.toLowerCase()==="x"||e==="*"}function cU(e,t){return e.trim().split(/\s+/).map(function(r){return gU(r,t)}).join(" ")}function gU(e,t){var r=t.loose?le[R.TILDELOOSE]:le[R.TILDE];return e.replace(r,function(n,i,a,o,s){fe("tilde",e,n,i,a,o,s);var u;return vt(i)?u="":vt(a)?u=">="+i+".0.0 <"+(+i+1)+".0.0":vt(o)?u=">="+i+"."+a+".0 <"+i+"."+(+a+1)+".0":s?(fe("replaceTilde pr",s),u=">="+i+"."+a+"."+o+"-"+s+" <"+i+"."+(+a+1)+".0"):u=">="+i+"."+a+"."+o+" <"+i+"."+(+a+1)+".0",fe("tilde return",u),u})}function fU(e,t){return e.trim().split(/\s+/).map(function(r){return hU(r,t)}).join(" ")}function hU(e,t){fe("caret",e,t);var r=t.loose?le[R.CARETLOOSE]:le[R.CARET];return e.replace(r,function(n,i,a,o,s){fe("caret",e,n,i,a,o,s);var u;return vt(i)?u="":vt(a)?u=">="+i+".0.0 <"+(+i+1)+".0.0":vt(o)?i==="0"?u=">="+i+"."+a+".0 <"+i+"."+(+a+1)+".0":u=">="+i+"."+a+".0 <"+(+i+1)+".0.0":s?(fe("replaceCaret pr",s),i==="0"?a==="0"?u=">="+i+"."+a+"."+o+"-"+s+" <"+i+"."+a+"."+(+o+1):u=">="+i+"."+a+"."+o+"-"+s+" <"+i+"."+(+a+1)+".0":u=">="+i+"."+a+"."+o+"-"+s+" <"+(+i+1)+".0.0"):(fe("no pr"),i==="0"?a==="0"?u=">="+i+"."+a+"."+o+" <"+i+"."+a+"."+(+o+1):u=">="+i+"."+a+"."+o+" <"+i+"."+(+a+1)+".0":u=">="+i+"."+a+"."+o+" <"+(+i+1)+".0.0"),fe("caret return",u),u})}function pU(e,t){return fe("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return vU(r,t)}).join(" ")}function vU(e,t){e=e.trim();var r=t.loose?le[R.XRANGELOOSE]:le[R.XRANGE];return e.replace(r,function(n,i,a,o,s,u){fe("xRange",e,n,i,a,o,s,u);var l=vt(a),d=l||vt(o),c=d||vt(s),m=c;return i==="="&&m&&(i=""),u=t.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&m?(d&&(o=0),s=0,i===">"?(i=">=",d?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):i==="<="&&(i="<",d?a=+a+1:o=+o+1),n=i+a+"."+o+"."+s+u):d?n=">="+a+".0.0"+u+" <"+(+a+1)+".0.0"+u:c&&(n=">="+a+"."+o+".0"+u+" <"+a+"."+(+o+1)+".0"+u),fe("xRange return",n),n})}function mU(e,t){return fe("replaceStars",e,t),e.trim().replace(le[R.STAR],"")}function lU(e,t,r,n,i,a,o,s,u,l,d,c,m){return vt(r)?t="":vt(n)?t=">="+r+".0.0":vt(i)?t=">="+r+"."+n+".0":t=">="+t,vt(u)?s="":vt(l)?s="<"+(+u+1)+".0.0":vt(d)?s="<"+u+"."+(+l+1)+".0":c?s="<="+u+"."+l+"."+d+"-"+c:s="<="+s,(t+" "+s).trim()}De.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new ne(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(yU(this.set[t],e,this.options))return!0;return!1};function yU(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(fe(e[n].semver),e[n].semver!==na&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}X.satisfies=Lu;function Lu(e,t,r){try{t=new De(t,r)}catch(n){return!1}return t.test(e)}X.maxSatisfying=xU;function xU(e,t,r){var n=null,i=null;try{var a=new De(t,r)}catch(o){return null}return e.forEach(function(o){a.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new ne(n,r))}),n}X.minSatisfying=bU;function bU(e,t,r){var n=null,i=null;try{var a=new De(t,r)}catch(o){return null}return e.forEach(function(o){a.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new ne(n,r))}),n}X.minVersion=wU;function wU(e,t){e=new De(e,t);var r=new ne("0.0.0");if(e.test(r)||(r=new ne("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n){var i=e.set[n];i.forEach(function(a){var o=new ne(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||lo(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+a.operator)}})}return r&&e.test(r)?r:null}X.validRange=_U;function _U(e,t){try{return new De(e,t).range||"*"}catch(r){return null}}X.ltr=OU;function OU(e,t,r){return Gg(e,t,"<",r)}X.gtr=TU;function TU(e,t,r){return Gg(e,t,">",r)}X.outside=Gg;function Gg(e,t,r,n){e=new ne(e,n),t=new De(t,n);var i,a,o,s,u;switch(r){case">":i=lo,a=$g,o=ku,s=">",u=">=";break;case"<":i=ku,a=Yg,o=lo,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Lu(e,t,n))return!1;for(var l=0;l<t.set.length;++l){var d=t.set[l],c=null,m=null;if(d.forEach(function(h){h.semver===na&&(h=new It(">=0.0.0")),c=c||h,m=m||h,i(h.semver,c.semver,n)?c=h:o(h.semver,m.semver,n)&&(m=h)}),c.operator===s||c.operator===u||(!m.operator||m.operator===s)&&a(e,m.semver))return!1;if(m.operator===u&&o(e,m.semver))return!1}return!0}X.prerelease=SU;function SU(e,t){var r=Gn(e,t);return r&&r.prerelease.length?r.prerelease:null}X.intersects=MU;function MU(e,t,r){return e=new De(e,r),t=new De(t,r),e.intersects(t)}X.coerce=qU;function qU(e,t){if(e instanceof ne)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match(le[R.COERCE]);else{for(var n;(n=le[R.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),le[R.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;le[R.COERCERTL].lastIndex=-1}return r===null?null:Gn(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});var lO=g((mxe,Vg)=>{"use strict";var Wu=require("fs"),Tr=require("path"),{promisify:iO}=require("util"),NU=nO(),aO=NU.satisfies(process.version,">=10.12.0"),oO=e=>{if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(Tr.parse(e).root,""))){let r=new Error(`Path contains invalid characters: ${e}`);throw r.code="EINVAL",r}},sO=e=>({...{mode:511,fs:Wu},...e}),uO=e=>{let t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t},PU=async(e,t)=>{oO(e),t=sO(t);let r=iO(t.fs.mkdir),n=iO(t.fs.stat);if(aO&&t.fs.mkdir===Wu.mkdir){let a=Tr.resolve(e);return await r(a,{mode:t.mode,recursive:!0}),a}let i=async a=>{try{return await r(a,t.mode),a}catch(o){if(o.code==="EPERM")throw o;if(o.code==="ENOENT"){if(Tr.dirname(a)===a)throw uO(a);if(o.message.includes("null bytes"))throw o;return await i(Tr.dirname(a)),i(a)}try{if(!(await n(a)).isDirectory())throw new Error("The path is not a directory")}catch(s){throw o}return a}};return i(Tr.resolve(e))};Vg.exports=PU;Vg.exports.sync=(e,t)=>{if(oO(e),t=sO(t),aO&&t.fs.mkdirSync===Wu.mkdirSync){let n=Tr.resolve(e);return Wu.mkdirSync(n,{mode:t.mode,recursive:!0}),n}let r=n=>{try{t.fs.mkdirSync(n,t.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(Tr.dirname(n)===n)throw uO(n);if(i.message.includes("null bytes"))throw i;return r(Tr.dirname(n)),r(n)}try{if(!t.fs.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch(a){throw i}}return n};return r(Tr.resolve(e))}});var dO=g(zg=>{var zn=require("path"),sn=process.platform==="win32",un=require("fs"),CU=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function DU(){var e;if(CU){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var a="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(a):console.error(a)}}}}function EU(e){return typeof e=="function"?e:DU()}var gxe=zn.normalize;sn?Sr=/(.*?)(?:[\/\\]+|$)/g:Sr=/(.*?)(?:[\/]+|$)/g;var Sr;sn?co=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:co=/^[\/]*/;var co;zg.realpathSync=function(t,r){if(t=zn.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},a={},o,s,u,l;d();function d(){var N=co.exec(t);o=N[0].length,s=N[0],u=N[0],l="",sn&&!a[u]&&(un.lstatSync(u),a[u]=!0)}for(;o<t.length;){Sr.lastIndex=o;var c=Sr.exec(t);if(l=s,s+=c[0],u=l+c[1],o=Sr.lastIndex,!(a[u]||r&&r[u]===u)){var m;if(r&&Object.prototype.hasOwnProperty.call(r,u))m=r[u];else{var h=un.lstatSync(u);if(!h.isSymbolicLink()){a[u]=!0,r&&(r[u]=u);continue}var x=null;if(!sn){var _=h.dev.toString(32)+":"+h.ino.toString(32);i.hasOwnProperty(_)&&(x=i[_])}x===null&&(un.statSync(u),x=un.readlinkSync(u)),m=zn.resolve(l,x),r&&(r[u]=m),sn||(i[_]=x)}t=zn.resolve(m,t.slice(o)),d()}}return r&&(r[n]=t),t};zg.realpath=function(t,r,n){if(typeof n!="function"&&(n=EU(r),r=null),t=zn.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,a={},o={},s,u,l,d;c();function c(){var N=co.exec(t);s=N[0].length,u=N[0],l=N[0],d="",sn&&!o[l]?un.lstat(l,function(C){if(C)return n(C);o[l]=!0,m()}):process.nextTick(m)}function m(){if(s>=t.length)return r&&(r[i]=t),n(null,t);Sr.lastIndex=s;var N=Sr.exec(t);return d=u,u+=N[0],l=d+N[1],s=Sr.lastIndex,o[l]||r&&r[l]===l?process.nextTick(m):r&&Object.prototype.hasOwnProperty.call(r,l)?_(r[l]):un.lstat(l,h)}function h(N,C){if(N)return n(N);if(!C.isSymbolicLink())return o[l]=!0,r&&(r[l]=l),process.nextTick(m);if(!sn){var j=C.dev.toString(32)+":"+C.ino.toString(32);if(a.hasOwnProperty(j))return x(null,a[j],l)}un.stat(l,function(L){if(L)return n(L);un.readlink(l,function(F,B){sn||(a[j]=B),x(F,B)})})}function x(N,C,j){if(N)return n(N);var L=zn.resolve(d,C);r&&(r[j]=L),_(L)}function _(N){t=zn.resolve(N,t.slice(s)),c()}}});var Jg=g((vxe,cO)=>{cO.exports=ln;ln.realpath=ln;ln.sync=Qg;ln.realpathSync=Qg;ln.monkeypatch=RU;ln.unmonkeypatch=jU;var ia=require("fs"),Kg=ia.realpath,Xg=ia.realpathSync,IU=process.version,fO=/^v[0-5]\./.test(IU),pO=dO();function mO(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function ln(e,t,r){if(fO)return Kg(e,t,r);typeof t=="function"&&(r=t,t=null),Kg(e,t,function(n,i){mO(n)?pO.realpath(e,t,r):r(n,i)})}function Qg(e,t){if(fO)return Xg(e,t);try{return Xg(e,t)}catch(r){if(mO(r))return pO.realpathSync(e,t);throw r}}function RU(){ia.realpath=ln,ia.realpathSync=Qg}function jU(){ia.realpath=Kg,ia.realpathSync=Xg}});var hO=g((yxe,gO)=>{gO.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);kU(i)?r.push.apply(r,i):r.push(i)}return r};var kU=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var wO=g((xxe,vO)=>{"use strict";vO.exports=yO;function yO(e,t,r){e instanceof RegExp&&(e=xO(e,r)),t instanceof RegExp&&(t=xO(t,r));var n=bO(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function xO(e,t){var r=t.match(e);return r?r[0]:null}yO.range=bO;function bO(e,t,r){var n,i,a,o,s,u=r.indexOf(e),l=r.indexOf(t,u+1),d=u;if(u>=0&&l>0){for(n=[],a=r.length;d>=0&&!s;)d==u?(n.push(d),u=r.indexOf(e,d+1)):n.length==1?s=[n.pop(),l]:(i=n.pop(),i<a&&(a=i,o=l),l=r.indexOf(t,d+1)),d=u<l&&u>=0?u:l;n.length&&(s=[a,o])}return s}});var PO=g((bxe,_O)=>{var AU=hO(),OO=wO();_O.exports=LU;var TO="\0SLASH"+Math.random()+"\0",SO="\0OPEN"+Math.random()+"\0",Zg="\0CLOSE"+Math.random()+"\0",MO="\0COMMA"+Math.random()+"\0",qO="\0PERIOD"+Math.random()+"\0";function eh(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function WU(e){return e.split("\\\\").join(TO).split("\\{").join(SO).split("\\}").join(Zg).split("\\,").join(MO).split("\\.").join(qO)}function FU(e){return e.split(TO).join("\\").split(SO).join("{").split(Zg).join("}").split(MO).join(",").split(qO).join(".")}function NO(e){if(!e)return[""];var t=[],r=OO("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,a=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var s=NO(a);return a.length&&(o[o.length-1]+=s.shift(),o.push.apply(o,s)),t.push.apply(t,o),t}function LU(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),aa(WU(e),!0).map(FU)):[]}function BU(e){return"{"+e+"}"}function HU(e){return/^-?0\d/.test(e)}function UU(e,t){return e<=t}function YU(e,t){return e>=t}function aa(e,t){var r=[],n=OO("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||a,s=n.body.indexOf(",")>=0;if(!o&&!s)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+Zg+n.post,aa(e)):[e];var u;if(o)u=n.body.split(/\.\./);else if(u=NO(n.body),u.length===1&&(u=aa(u[0],!1).map(BU),u.length===1)){var d=n.post.length?aa(n.post,!1):[""];return d.map(function(st){return n.pre+u[0]+st})}var l=n.pre,d=n.post.length?aa(n.post,!1):[""],c;if(o){var m=eh(u[0]),h=eh(u[1]),x=Math.max(u[0].length,u[1].length),_=u.length==3?Math.abs(eh(u[2])):1,N=UU,C=h<m;C&&(_*=-1,N=YU);var j=u.some(HU);c=[];for(var L=m;N(L,h);L+=_){var F;if(a)F=String.fromCharCode(L),F==="\\"&&(F="");else if(F=String(L),j){var B=x-F.length;if(B>0){var he=new Array(B+1).join("0");L<0?F="-"+he+F.slice(1):F=he+F}}c.push(F)}}else c=AU(u,function(Le){return aa(Le,!1)});for(var qe=0;qe<c.length;qe++)for(var me=0;me<d.length;me++){var be=l+c[qe]+d[me];(!t||o||be)&&r.push(be)}return r}});var po=g((wxe,CO)=>{CO.exports=kt;kt.Minimatch=nt;var fo={sep:"/"};try{fo=require("path")}catch(e){}var th=kt.GLOBSTAR=nt.GLOBSTAR={},$U=PO(),DO={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},rh="[^/]",nh=rh+"*?",GU="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",VU="(?:(?!(?:\\/|^)\\.).)*?",EO=zU("().*{}+?[]^$\\!");function zU(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var RO=/\/+/;kt.filter=QU;function QU(e,t){return t=t||{},function(r,n,i){return kt(r,e,t)}}function jO(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}kt.defaults=function(e){if(!e||!Object.keys(e).length)return kt;var t=kt,r=function(i,a,o){return t.minimatch(i,a,jO(e,o))};return r.Minimatch=function(i,a){return new t.Minimatch(i,jO(e,a))},r};nt.defaults=function(e){return!e||!Object.keys(e).length?nt:kt.defaults(e).Minimatch};function kt(e,t,r){if(typeof t!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new nt(t,r).match(e)}function nt(e,t){if(!(this instanceof nt))return new nt(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),fo.sep!=="/"&&(e=e.split(fo.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}nt.prototype.debug=function(){};nt.prototype.make=KU;function KU(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(RO)}),this.debug(this.pattern,r),r=r.map(function(n,i,a){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}nt.prototype.parseNegate=XU;function XU(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,a=e.length;i<a&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}kt.braceExpand=function(e,t){return IO(e,t)};nt.prototype.braceExpand=IO;function IO(e,t){if(t||(this instanceof nt?t=this.options:t={}),e=typeof e=="undefined"?this.pattern:e,typeof e=="undefined")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:$U(e)}nt.prototype.parse=JU;var Fu={};function JU(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&e==="**")return th;if(e==="")return"";var n="",i=!!r.nocase,a=!1,o=[],s=[],u,l=!1,d=-1,c=-1,m=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function x(){if(u){switch(u){case"*":n+=nh,i=!0;break;case"?":n+=rh,i=!0;break;default:n+="\\"+u;break}h.debug("clearStateChar %j %j",u,n),u=!1}}for(var _=0,N=e.length,C;_<N&&(C=e.charAt(_));_++){if(this.debug("%s	%s %s %j",e,_,n,C),a&&EO[C]){n+="\\"+C,a=!1;continue}switch(C){case"/":return!1;case"\\":x(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,_,n,C),l){this.debug("  in class"),C==="!"&&_===c+1&&(C="^"),n+=C;continue}h.debug("call clearStateChar %j",u),x(),u=C,r.noext&&x();continue;case"(":if(l){n+="(";continue}if(!u){n+="\\(";continue}o.push({type:u,start:_-1,reStart:n.length,open:DO[u].open,close:DO[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(l||!o.length){n+="\\)";continue}x(),i=!0;var j=o.pop();n+=j.close,j.type==="!"&&s.push(j),j.reEnd=n.length;continue;case"|":if(l||!o.length||a){n+="\\|",a=!1;continue}x(),n+="|";continue;case"[":if(x(),l){n+="\\"+C;continue}l=!0,c=_,d=n.length,n+=C;continue;case"]":if(_===c+1||!l){n+="\\"+C,a=!1;continue}if(l){var L=e.substring(c+1,_);try{RegExp("["+L+"]")}catch(Yr){var F=this.parse(L,Fu);n=n.substr(0,d)+"\\["+F[0]+"\\]",i=i||F[1],l=!1;continue}}i=!0,l=!1,n+=C;continue;default:x(),a?a=!1:EO[C]&&!(C==="^"&&l)&&(n+="\\"),n+=C}}for(l&&(L=e.substr(c+1),F=this.parse(L,Fu),n=n.substr(0,d)+"\\["+F[0],i=i||F[1]),j=o.pop();j;j=o.pop()){var B=n.slice(j.reStart+j.open.length);this.debug("setting tail",n,j),B=B.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Yr,Di,In){return In||(In="\\"),Di+Di+In+"|"}),this.debug(`tail=%j
   %s`,B,B,j,n);var he=j.type==="*"?nh:j.type==="?"?rh:"\\"+j.type;i=!0,n=n.slice(0,j.reStart)+he+"\\("+B}x(),a&&(n+="\\\\");var qe=!1;switch(n.charAt(0)){case".":case"[":case"(":qe=!0}for(var me=s.length-1;me>-1;me--){var be=s[me],Le=n.slice(0,be.reStart),st=n.slice(be.reStart,be.reEnd-8),Ve=n.slice(be.reEnd-8,be.reEnd),Ie=n.slice(be.reEnd);Ve+=Ie;var wt=Le.split("(").length-1,Je=Ie;for(_=0;_<wt;_++)Je=Je.replace(/\)[+*?]?/,"");Ie=Je;var _t="";Ie===""&&t!==Fu&&(_t="$");var ke=Le+st+Ie+_t+Ve;n=ke}if(n!==""&&i&&(n="(?=.)"+n),qe&&(n=m+n),t===Fu)return[n,i];if(!i)return ZU(e);var Ze=r.nocase?"i":"";try{var Be=new RegExp("^"+n+"$",Ze)}catch(Yr){return new RegExp("$.")}return Be._glob=e,Be._src=n,Be}kt.makeRe=function(e,t){return new nt(e,t||{}).makeRe()};nt.prototype.makeRe=e4;function e4(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?nh:t.dot?GU:VU,n=t.nocase?"i":"",i=e.map(function(a){return a.map(function(o){return o===th?r:typeof o=="string"?t4(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(a){this.regexp=!1}return this.regexp}kt.match=function(e,t,r){r=r||{};var n=new nt(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};nt.prototype.match=r4;function r4(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var r=this.options;fo.sep!=="/"&&(e=e.split(fo.sep).join("/")),e=e.split(RO),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var i,a;for(a=e.length-1;a>=0&&(i=e[a],!i);a--);for(a=0;a<n.length;a++){var o=n[a],s=e;r.matchBase&&o.length===1&&(s=[i]);var u=this.matchOne(s,o,t);if(u)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}nt.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,a=0,o=e.length,s=t.length;i<o&&a<s;i++,a++){this.debug("matchOne loop");var u=t[a],l=e[i];if(this.debug(t,u,l),u===!1)return!1;if(u===th){this.debug("GLOBSTAR",[t,u,l]);var d=i,c=a+1;if(c===s){for(this.debug("** at the end");i<o;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;d<o;){var m=e[d];if(this.debug(`
globstar while`,e,d,t,c,m),this.matchOne(e.slice(d),t.slice(c),r))return this.debug("globstar found match!",d,o,m),!0;if(m==="."||m===".."||!n.dot&&m.charAt(0)==="."){this.debug("dot detected!",e,d,t,c);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,d,t,c),d===o))}var h;if(typeof u=="string"?(n.nocase?h=l.toLowerCase()===u.toLowerCase():h=l===u,this.debug("string match",u,l,h)):(h=l.match(u),this.debug("pattern match",u,l,h)),!h)return!1}if(i===o&&a===s)return!0;if(i===o)return r;if(a===s){var x=i===o-1&&e[i]==="";return x}throw new Error("wtf?")};function ZU(e){return e.replace(/\\(.)/g,"$1")}function t4(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var kO=g((_xe,ih)=>{typeof Object.create=="function"?ih.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:ih.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var AO=g((Oxe,ah)=>{try{if(oh=require("util"),typeof oh.inherits!="function")throw"";ah.exports=oh.inherits}catch(e){ah.exports=kO()}var oh});var Hu=g((Txe,Bu)=>{"use strict";function LO(e){return e.charAt(0)==="/"}function WO(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}Bu.exports=process.platform==="win32"?WO:LO;Bu.exports.posix=LO;Bu.exports.win32=WO});var uh=g(ar=>{ar.alphasort=FO;ar.alphasorti=BO;ar.setopts=n4;ar.ownProp=HO;ar.makeAbs=mo;ar.finish=i4;ar.mark=a4;ar.isIgnored=UO;ar.childrenIgnored=o4;function HO(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var oa=require("path"),s4=po(),YO=Hu(),sh=s4.Minimatch;function BO(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function FO(e,t){return e.localeCompare(t)}function l4(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(u4))}function u4(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new sh(r,{dot:!0})}return{matcher:new sh(e,{dot:!0}),gmatcher:t}}function n4(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.maxLength=r.maxLength||Infinity,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),l4(e,r),e.changedCwd=!1;var n=process.cwd();HO(r,"cwd")?(e.cwd=oa.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||oa.resolve(e.cwd,"/"),e.root=oa.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=YO(e.cwd)?e.cwd:mo(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new sh(t,r),e.options=e.minimatch.options}function i4(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var a=e.matches[n];if(!a||Object.keys(a).length===0){if(e.nonull){var o=e.minimatch.globSet[n];t?r.push(o):r[o]=!0}}else{var s=Object.keys(a);t?r.push.apply(r,s):s.forEach(function(u){r[u]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(e.nocase?BO:FO)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(u){var l=!/\/$/.test(u),d=e.cache[u]||e.cache[mo(e,u)];return l&&d&&(l=d!=="DIR"&&!Array.isArray(d)),l}))}e.ignore.length&&(r=r.filter(function(u){return!UO(e,u)})),e.found=r}function a4(e,t){var r=mo(e,t),n=e.cache[r],i=t;if(n){var a=n==="DIR"||Array.isArray(n),o=t.slice(-1)==="/";if(a&&!o?i+="/":!a&&o&&(i=i.slice(0,-1)),i!==t){var s=mo(e,i);e.statCache[s]=e.statCache[r],e.cache[s]=e.cache[r]}}return i}function mo(e,t){var r=t;return t.charAt(0)==="/"?r=oa.join(e.root,t):YO(t)||t===""?r=t:e.changedCwd?r=oa.resolve(e.cwd,t):r=oa.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function UO(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function o4(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var QO=g((Dxe,$O)=>{$O.exports=GO;GO.GlobSync=Xe;var Uu=require("fs"),d4=Jg(),VO=po(),Mxe=VO.Minimatch,qxe=lh().Glob,Nxe=require("util"),dh=require("path"),zO=require("assert"),Yu=Hu(),Mr=uh(),Pxe=Mr.alphasort,Cxe=Mr.alphasorti,c4=Mr.setopts,ch=Mr.ownProp,f4=Mr.childrenIgnored,p4=Mr.isIgnored;function GO(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Xe(e,t).found}function Xe(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Xe))return new Xe(e,t);if(c4(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Xe.prototype._finish=function(){if(zO(this instanceof Xe),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var a=d4.realpathSync(i,e.realpathCache);n[a]=!0}catch(o){if(o.syscall==="stat")n[e._makeAbs(i)]=!0;else throw o}})}Mr.finish(this)};Xe.prototype._process=function(e,t,r){zO(this instanceof Xe);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var a=e.slice(n),o;i===null?o=".":((Yu(i)||Yu(e.join("/")))&&(!i||!Yu(i))&&(i="/"+i),o=i);var s=this._makeAbs(o);if(!f4(this,o)){var u=a[0]===VO.GLOBSTAR;u?this._processGlobStar(i,o,s,a,t,r):this._processReaddir(i,o,s,a,t,r)}};Xe.prototype._processReaddir=function(e,t,r,n,i,a){var o=this._readdir(r,a);if(!!o){for(var s=n[0],u=!!this.minimatch.negate,l=s._glob,d=this.dot||l.charAt(0)===".",c=[],m=0;m<o.length;m++){var h=o[m];if(h.charAt(0)!=="."||d){var x;u&&!e?x=!h.match(s):x=h.match(s),x&&c.push(h)}}var _=c.length;if(_!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var m=0;m<_;m++){var h=c[m];e&&(e.slice(-1)!=="/"?h=e+"/"+h:h=e+h),h.charAt(0)==="/"&&!this.nomount&&(h=dh.join(this.root,h)),this._emitMatch(i,h)}return}n.shift();for(var m=0;m<_;m++){var h=c[m],N;e?N=[e,h]:N=[h],this._process(N.concat(n),i,a)}}}};Xe.prototype._emitMatch=function(e,t){if(!p4(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};Xe.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=Uu.lstatSync(e)}catch(a){if(a.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};Xe.prototype._readdir=function(e,t){var r;if(t&&!ch(this.symlinks,e))return this._readdirInGlobStar(e);if(ch(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,Uu.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};Xe.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};Xe.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};Xe.prototype._processGlobStar=function(e,t,r,n,i,a){var o=this._readdir(r,a);if(!!o){var s=n.slice(1),u=e?[e]:[],l=u.concat(s);this._process(l,i,!1);var d=o.length,c=this.symlinks[r];if(!(c&&a))for(var m=0;m<d;m++){var h=o[m];if(!(h.charAt(0)==="."&&!this.dot)){var x=u.concat(o[m],s);this._process(x,i,!0);var _=u.concat(o[m],n);this._process(_,i,!0)}}}};Xe.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&Yu(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=dh.join(this.root,e):(e=dh.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};Xe.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&ch(this.cache,t)){var o=this.cache[t];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var n,i=this.statCache[t];if(!i){var a;try{a=Uu.lstatSync(t)}catch(s){if(s&&(s.code==="ENOENT"||s.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(a&&a.isSymbolicLink())try{i=Uu.statSync(t)}catch(s){i=a}else i=a}this.statCache[t]=i;var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,r&&o==="FILE"?!1:o};Xe.prototype._mark=function(e){return Mr.mark(this,e)};Xe.prototype._makeAbs=function(e){return Mr.makeAbs(this,e)}});var fh=g((Exe,KO)=>{KO.exports=XO;function XO(e,t){if(e&&t)return XO(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var a=e.apply(this,n),o=n[n.length-1];return typeof a=="function"&&a!==o&&Object.keys(o).forEach(function(s){a[s]=o[s]}),a}}});var mh=g((Rxe,ph)=>{var JO=fh();ph.exports=JO($u);ph.exports.strict=JO(ZO);$u.proto=$u(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return $u(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ZO(this)},configurable:!0})});function $u(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function ZO(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var tT=g((jxe,eT)=>{var m4=fh(),go=Object.create(null),g4=mh();eT.exports=m4(h4);function h4(e,t){return go[e]?(go[e].push(t),null):(go[e]=[t],v4(e))}function v4(e){return g4(function t(){var r=go[e],n=r.length,i=y4(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete go[e]}})}function y4(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var lh=g((Wxe,rT)=>{rT.exports=Qn;var Gu=require("fs"),x4=Jg(),nT=po(),Ixe=nT.Minimatch,b4=AO(),w4=require("events").EventEmitter,gh=require("path"),hh=require("assert"),ho=Hu(),vh=QO(),qr=uh(),kxe=qr.alphasort,Axe=qr.alphasorti,_4=qr.setopts,yh=qr.ownProp,xh=tT(),Lxe=require("util"),O4=qr.childrenIgnored,T4=qr.isIgnored,S4=mh();function Qn(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return vh(e,t)}return new pe(e,t,r)}Qn.sync=vh;var M4=Qn.GlobSync=vh.GlobSync;Qn.glob=Qn;function q4(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}Qn.hasMagic=function(e,t){var r=q4({},t);r.noprocess=!0;var n=new pe(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var a=0;a<i[0].length;a++)if(typeof i[0][a]!="string")return!0;return!1};Qn.Glob=pe;b4(pe,w4);function pe(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new M4(e,t)}if(!(this instanceof pe))return new pe(e,t,r);_4(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=S4(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return s();for(var a=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,s);a=!1;function s(){--i._processing,i._processing<=0&&(a?process.nextTick(function(){i._finish()}):i._finish())}}pe.prototype._finish=function(){if(hh(this instanceof pe),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();qr.finish(this),this.emit("end",this.found)}};pe.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e==0&&t._finish()}};pe.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,a=n.length;if(a===0)return t();var o=this.matches[e]=Object.create(null);n.forEach(function(s,u){s=i._makeAbs(s),x4.realpath(s,i.realpathCache,function(l,d){l?l.syscall==="stat"?o[s]=!0:i.emit("error",l):o[d]=!0,--a==0&&(i.matches[e]=o,t())})})};pe.prototype._mark=function(e){return qr.mark(this,e)};pe.prototype._makeAbs=function(e){return qr.makeAbs(this,e)};pe.prototype.abort=function(){this.aborted=!0,this.emit("abort")};pe.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};pe.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};pe.prototype._process=function(e,t,r,n){if(hh(this instanceof pe),hh(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var a;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:a=null;break;default:a=e.slice(0,i).join("/");break}var o=e.slice(i),s;a===null?s=".":((ho(a)||ho(e.join("/")))&&(!a||!ho(a))&&(a="/"+a),s=a);var u=this._makeAbs(s);if(O4(this,s))return n();var l=o[0]===nT.GLOBSTAR;l?this._processGlobStar(a,s,u,o,t,r,n):this._processReaddir(a,s,u,o,t,r,n)}};pe.prototype._processReaddir=function(e,t,r,n,i,a,o){var s=this;this._readdir(r,a,function(u,l){return s._processReaddir2(e,t,r,n,i,a,l,o)})};pe.prototype._processReaddir2=function(e,t,r,n,i,a,o,s){if(!o)return s();for(var u=n[0],l=!!this.minimatch.negate,d=u._glob,c=this.dot||d.charAt(0)===".",m=[],h=0;h<o.length;h++){var x=o[h];if(x.charAt(0)!=="."||c){var _;l&&!e?_=!x.match(u):_=x.match(u),_&&m.push(x)}}var N=m.length;if(N===0)return s();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<N;h++){var x=m[h];e&&(e!=="/"?x=e+"/"+x:x=e+x),x.charAt(0)==="/"&&!this.nomount&&(x=gh.join(this.root,x)),this._emitMatch(i,x)}return s()}n.shift();for(var h=0;h<N;h++){var x=m[h],C;e&&(e!=="/"?x=e+"/"+x:x=e+x),this._process([x].concat(n),i,a,s)}s()};pe.prototype._emitMatch=function(e,t){if(!this.aborted&&!T4(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=ho(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};pe.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=xh(r,a);i&&Gu.lstat(e,i);function a(o,s){if(o&&o.code==="ENOENT")return t();var u=s&&s.isSymbolicLink();n.symlinks[e]=u,!u&&s&&!s.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};pe.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=xh("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!yh(this.symlinks,e))return this._readdirInGlobStar(e,r);if(yh(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;Gu.readdir(e,N4(this,e,r))}};function N4(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}pe.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};pe.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};pe.prototype._processGlobStar=function(e,t,r,n,i,a,o){var s=this;this._readdir(r,a,function(u,l){s._processGlobStar2(e,t,r,n,i,a,l,o)})};pe.prototype._processGlobStar2=function(e,t,r,n,i,a,o,s){if(!o)return s();var u=n.slice(1),l=e?[e]:[],d=l.concat(u);this._process(d,i,!1,s);var c=this.symlinks[r],m=o.length;if(c&&a)return s();for(var h=0;h<m;h++){var x=o[h];if(!(x.charAt(0)==="."&&!this.dot)){var _=l.concat(o[h],u);this._process(_,i,!0,s);var N=l.concat(o[h],n);this._process(N,i,!0,s)}}s()};pe.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,a){n._processSimple2(e,t,i,a,r)})};pe.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&ho(e)&&!this.nomount){var a=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=gh.join(this.root,e):(e=gh.resolve(this.root,e),a&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};pe.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&yh(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var a,o=this.statCache[r];if(o!==void 0){if(o===!1)return t(null,o);var s=o.isDirectory()?"DIR":"FILE";return n&&s==="FILE"?t():t(null,s,o)}var u=this,l=xh("stat\0"+r,d);l&&Gu.lstat(r,l);function d(c,m){if(m&&m.isSymbolicLink())return Gu.stat(r,function(h,x){h?u._stat2(e,r,null,m,t):u._stat2(e,r,h,x,t)});u._stat2(e,r,c,m,t)}};pe.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var a=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,a&&o==="FILE"?i():i(null,o,n)}});var cT=g((Fxe,iT)=>{var ye=require("assert"),aT=require("path"),oT=require("fs"),sa;try{sa=lh()}catch(e){}var P4={nosort:!0,silent:!0},bh=0,vo=process.platform==="win32",sT=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||oT[r],r=r+"Sync",e[r]=e[r]||oT[r]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&sa===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||P4},_h=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),ye(e,"rimraf: missing path"),ye.equal(typeof e,"string","rimraf: path should be a string"),ye.equal(typeof r,"function","rimraf: callback function required"),ye(t,"rimraf: invalid options argument provided"),ye.equal(typeof t,"object","rimraf: options should be object"),sT(t);let n=0,i=null,a=0,o=u=>{i=i||u,--a==0&&r(i)},s=(u,l)=>{if(u)return r(u);if(a=l.length,a===0)return r();l.forEach(d=>{let c=m=>{if(m){if((m.code==="EBUSY"||m.code==="ENOTEMPTY"||m.code==="EPERM")&&n<t.maxBusyTries)return n++,setTimeout(()=>wh(d,t,c),n*100);if(m.code==="EMFILE"&&bh<t.emfileWait)return setTimeout(()=>wh(d,t,c),bh++);m.code==="ENOENT"&&(m=null)}bh=0,o(m)};wh(d,t,c)})};if(t.disableGlob||!sa.hasMagic(e))return s(null,[e]);t.lstat(e,(u,l)=>{if(!u)return s(null,[e]);sa(e,t.glob,s)})},wh=(e,t,r)=>{ye(e),ye(t),ye(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&vo&&uT(e,t,n,r),i&&i.isDirectory())return Vu(e,t,n,r);t.unlink(e,a=>{if(a){if(a.code==="ENOENT")return r(null);if(a.code==="EPERM")return vo?uT(e,t,a,r):Vu(e,t,a,r);if(a.code==="EISDIR")return Vu(e,t,a,r)}return r(a)})})},uT=(e,t,r,n)=>{ye(e),ye(t),ye(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(a,o)=>{a?n(a.code==="ENOENT"?null:r):o.isDirectory()?Vu(e,t,r,n):t.unlink(e,n)})})},lT=(e,t,r)=>{ye(e),ye(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?zu(e,t,r):t.unlinkSync(e)},Vu=(e,t,r,n)=>{ye(e),ye(t),ye(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?C4(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},C4=(e,t,r)=>{ye(e),ye(t),ye(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let a=i.length;if(a===0)return t.rmdir(e,r);let o;i.forEach(s=>{_h(aT.join(e,s),t,u=>{if(!o){if(u)return r(o=u);--a==0&&t.rmdir(e,r)}})})})},dT=(e,t)=>{t=t||{},sT(t),ye(e,"rimraf: missing path"),ye.equal(typeof e,"string","rimraf: path should be a string"),ye(t,"rimraf: missing options"),ye.equal(typeof t,"object","rimraf: options should be object");let r;if(t.disableGlob||!sa.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch(n){r=sa.sync(e,t.glob)}if(!!r.length)for(let n=0;n<r.length;n++){let i=r[n],a;try{a=t.lstatSync(i)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&vo&&lT(i,t,o)}try{a&&a.isDirectory()?zu(i,t,null):t.unlinkSync(i)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return vo?lT(i,t,o):zu(i,t,o);if(o.code!=="EISDIR")throw o;zu(i,t,o)}}},zu=(e,t,r)=>{ye(e),ye(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&D4(e,t)}},D4=(e,t)=>{ye(e),ye(t),t.readdirSync(e).forEach(i=>dT(aT.join(e,i),t));let r=vo?100:1,n=0;do{let i=!0;try{let a=t.rmdirSync(e,t);return i=!1,a}finally{if(++n<r&&i)continue}}while(!0)};iT.exports=_h;_h.sync=dT});var hT=g((Bxe,fT)=>{fT.exports=pT;pT.sync=E4;var mT=require("fs");function R4(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function gT(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:R4(t,r)}function pT(e,t,r){mT.stat(e,function(n,i){r(n,n?!1:gT(i,e,t))})}function E4(e,t){return gT(mT.statSync(e),e,t)}});var wT=g((Hxe,vT)=>{vT.exports=yT;yT.sync=j4;var xT=require("fs");function yT(e,t,r){xT.stat(e,function(n,i){r(n,n?!1:bT(i,t))})}function j4(e,t){return bT(xT.statSync(e),t)}function bT(e,t){return e.isFile()&&I4(e,t)}function I4(e,t){var r=e.mode,n=e.uid,i=e.gid,a=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),u=parseInt("010",8),l=parseInt("001",8),d=s|u,c=r&l||r&u&&i===o||r&s&&n===a||r&d&&a===0;return c}});var OT=g((Yxe,_T)=>{var Uxe=require("fs"),Qu;process.platform==="win32"||global.TESTING_WINDOWS?Qu=hT():Qu=wT();_T.exports=Oh;Oh.sync=k4;function Oh(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Oh(e,t||{},function(a,o){a?i(a):n(o)})})}Qu(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function k4(e,t){try{return Qu.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var CT=g(($xe,TT)=>{var ua=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",ST=require("path"),A4=ua?";":":",MT=OT(),qT=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),NT=(e,t)=>{let r=t.colon||A4,n=e.match(/\//)||ua&&e.match(/\\/)?[""]:[...ua?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=ua?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=ua?i.split(r):[""];return ua&&e.indexOf(".")!==-1&&a[0]!==""&&a.unshift(""),{pathEnv:n,pathExt:a,pathExtExe:i}},PT=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:a}=NT(e,t),o=[],s=l=>new Promise((d,c)=>{if(l===n.length)return t.all&&o.length?d(o):c(qT(e));let m=n[l],h=/^".*"$/.test(m)?m.slice(1,-1):m,x=ST.join(h,e),_=!h&&/^\.[\\\/]/.test(e)?e.slice(0,2)+x:x;d(u(_,l,0))}),u=(l,d,c)=>new Promise((m,h)=>{if(c===i.length)return m(s(d+1));let x=i[c];MT(l+x,{pathExt:a},(_,N)=>{if(!_&&N)if(t.all)o.push(l+x);else return m(l+x);return m(u(l,d,c+1))})});return r?s(0).then(l=>r(null,l),r):s(0)},L4=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=NT(e,t),a=[];for(let o=0;o<r.length;o++){let s=r[o],u=/^".*"$/.test(s)?s.slice(1,-1):s,l=ST.join(u,e),d=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;for(let c=0;c<n.length;c++){let m=d+n[c];try{if(MT.sync(m,{pathExt:i}))if(t.all)a.push(m);else return m}catch(h){}}}if(t.all&&a.length)return a;if(t.nothrow)return null;throw qT(e)};TT.exports=PT;PT.sync=L4});var Nr=g(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});var jh;function Ih(){if(jh===void 0)throw new Error("No runtime abstraction layer installed");return jh}(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");jh=r}e.install=t})(Ih||(Ih={}));Rh.default=Ih});var kh=g(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.Disposable=void 0;var Q4;(function(e){function t(r){return{dispose:r}}e.create=t})(Q4=Mo.Disposable||(Mo.Disposable={}))});var JT=g(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.AbstractMessageBuffer=void 0;var K4=13,X4=10,J4=`\r
`,XT=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let t=0,r=0,n=0,i=0;e:for(;r<this._chunks.length;){let u=this._chunks[r];n=0;t:for(;n<u.length;){switch(u[n]){case K4:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case X4:switch(t){case 1:t=2;break;case 3:t=4,n++;break e;default:t=0}break;default:t=0}n++}i+=u.byteLength,r++}if(t!==4)return;let a=this._read(i+n),o=new Map,s=this.toString(a,"ascii").split(J4);if(s.length<2)return o;for(let u=0;u<s.length-2;u++){let l=s[u],d=l.indexOf(":");if(d===-1)throw new Error("Message header must separate key and value using :");let c=l.substr(0,d),m=l.substr(d+1).trim();o.set(c,m)}return o}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(a)}if(this._chunks[0].byteLength>t){let a=this._chunks[0],o=this.asNative(a,t);return this._chunks[0]=a.slice(t),this._totalLength-=t,o}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let a=this._chunks[i];if(a.byteLength>t){let o=a.slice(0,t);r.set(o,n),n+=t,this._chunks[i]=a.slice(t),this._totalLength-=t,t-=t}else r.set(a,n),n+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,t-=a.byteLength}return r}};sl.AbstractMessageBuffer=XT});var nS=g(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});var Z4=Nr(),ZT=require("util"),ei=kh(),eY=JT(),qo=class extends eY.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return qo.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new ZT.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};qo.emptyBuffer=Buffer.allocUnsafe(0);var eS=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ei.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ei.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ei.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),ei.Disposable.create(()=>this.stream.off("data",t))}},tS=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ei.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ei.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ei.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let a=o=>{o==null?n():i(o)};typeof t=="string"?this.stream.write(t,r,a):this.stream.write(t,a)})}end(){this.stream.end()}},rS=Object.freeze({messageBuffer:Object.freeze({create:e=>new qo(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new ZT.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:e=>new eS(e),asWritableStream:e=>new tS(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){return setTimeout(e,t,...r)},clearTimeout(e){clearTimeout(e)},setImmediate(e,...t){return setImmediate(e,...t)},clearImmediate(e){clearImmediate(e)}})});function Lh(){return rS}(function(e){function t(){Z4.default.install(rS)}e.install=t})(Lh||(Lh={}));Ah.default=Lh});var ma=g(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.stringArray=ct.array=ct.func=ct.error=ct.number=ct.string=ct.boolean=void 0;function tY(e){return e===!0||e===!1}ct.boolean=tY;function iS(e){return typeof e=="string"||e instanceof String}ct.string=iS;function rY(e){return typeof e=="number"||e instanceof Number}ct.number=rY;function nY(e){return e instanceof Error}ct.error=nY;function iY(e){return typeof e=="function"}ct.func=iY;function aS(e){return Array.isArray(e)}ct.array=aS;function aY(e){return aS(e)&&e.every(t=>iS(t))}ct.stringArray=aY});var Wh=g(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.isResponseMessage=U.isNotificationMessage=U.isRequestMessage=U.NotificationType9=U.NotificationType8=U.NotificationType7=U.NotificationType6=U.NotificationType5=U.NotificationType4=U.NotificationType3=U.NotificationType2=U.NotificationType1=U.NotificationType0=U.NotificationType=U.RequestType9=U.RequestType8=U.RequestType7=U.RequestType6=U.RequestType5=U.RequestType4=U.RequestType3=U.RequestType2=U.RequestType1=U.RequestType=U.RequestType0=U.AbstractMessageSignature=U.ParameterStructures=U.ResponseError=U.ErrorCodes=void 0;var ti=ma(),oS;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=e.jsonrpcReservedErrorRangeStart,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=e.jsonrpcReservedErrorRangeEnd})(oS=U.ErrorCodes||(U.ErrorCodes={}));var ul=class extends Error{constructor(t,r,n){super(r);this.code=ti.number(t)?t:oS.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,ul.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};U.ResponseError=ul;var dt=class{constructor(t){this.kind=t}static is(t){return t===dt.auto||t===dt.byName||t===dt.byPosition}toString(){return this.kind}};U.ParameterStructures=dt;dt.auto=new dt("auto");dt.byPosition=new dt("byPosition");dt.byName=new dt("byName");var Pe=class{constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return dt.auto}};U.AbstractMessageSignature=Pe;var sS=class extends Pe{constructor(t){super(t,0)}};U.RequestType0=sS;var uS=class extends Pe{constructor(t,r=dt.auto){super(t,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};U.RequestType=uS;var lS=class extends Pe{constructor(t,r=dt.auto){super(t,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};U.RequestType1=lS;var dS=class extends Pe{constructor(t){super(t,2)}};U.RequestType2=dS;var cS=class extends Pe{constructor(t){super(t,3)}};U.RequestType3=cS;var fS=class extends Pe{constructor(t){super(t,4)}};U.RequestType4=fS;var pS=class extends Pe{constructor(t){super(t,5)}};U.RequestType5=pS;var mS=class extends Pe{constructor(t){super(t,6)}};U.RequestType6=mS;var gS=class extends Pe{constructor(t){super(t,7)}};U.RequestType7=gS;var hS=class extends Pe{constructor(t){super(t,8)}};U.RequestType8=hS;var vS=class extends Pe{constructor(t){super(t,9)}};U.RequestType9=vS;var yS=class extends Pe{constructor(t,r=dt.auto){super(t,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};U.NotificationType=yS;var xS=class extends Pe{constructor(t){super(t,0)}};U.NotificationType0=xS;var bS=class extends Pe{constructor(t,r=dt.auto){super(t,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};U.NotificationType1=bS;var wS=class extends Pe{constructor(t){super(t,2)}};U.NotificationType2=wS;var _S=class extends Pe{constructor(t){super(t,3)}};U.NotificationType3=_S;var OS=class extends Pe{constructor(t){super(t,4)}};U.NotificationType4=OS;var TS=class extends Pe{constructor(t){super(t,5)}};U.NotificationType5=TS;var SS=class extends Pe{constructor(t){super(t,6)}};U.NotificationType6=SS;var MS=class extends Pe{constructor(t){super(t,7)}};U.NotificationType7=MS;var qS=class extends Pe{constructor(t){super(t,8)}};U.NotificationType8=qS;var NS=class extends Pe{constructor(t){super(t,9)}};U.NotificationType9=NS;function oY(e){let t=e;return t&&ti.string(t.method)&&(ti.string(t.id)||ti.number(t.id))}U.isRequestMessage=oY;function sY(e){let t=e;return t&&ti.string(t.method)&&e.id===void 0}U.isNotificationMessage=sY;function uY(e){let t=e;return t&&(t.result!==void 0||!!t.error)&&(ti.string(t.id)||ti.number(t.id)||t.id===null)}U.isResponseMessage=uY});var ga=g(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.Emitter=ri.Event=void 0;var lY=Nr(),dY;(function(e){let t={dispose(){}};e.None=function(){return t}})(dY=ri.Event||(ri.Event={}));var PS=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,a=this._callbacks.length;i<a;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,o=n.length;a<o;a++)try{r.push(n[a].apply(i[a],t))}catch(s){lY.default().console.error(s)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},No=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new PS),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(t,r),i.dispose=No._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};ri.Emitter=No;No._noop=function(){}});var Uh=g(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.CancellationTokenSource=ni.CancellationToken=void 0;var CS=Nr(),cY=ma(),Fh=ga(),Bh;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Fh.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Fh.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||cY.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(Bh=ni.CancellationToken||(ni.CancellationToken={}));var fY=Object.freeze(function(e,t){let r=CS.default().timer.setTimeout(e.bind(t),0);return{dispose(){CS.default().timer.clearTimeout(r)}}}),Hh=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?fY:(this._emitter||(this._emitter=new Fh.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},DS=class{get token(){return this._token||(this._token=new Hh),this._token}cancel(){this._token?this._token.cancel():this._token=Bh.Cancelled}dispose(){this._token?this._token instanceof Hh&&this._token.dispose():this._token=Bh.None}};ni.CancellationTokenSource=DS});var RS=g(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.ReadableStreamMessageReader=Pr.AbstractMessageReader=Pr.MessageReader=void 0;var ll=Nr(),ha=ma(),Yh=ga(),pY;(function(e){function t(r){let n=r;return n&&ha.func(n.listen)&&ha.func(n.dispose)&&ha.func(n.onError)&&ha.func(n.onClose)&&ha.func(n.onPartialMessage)}e.is=t})(pY=Pr.MessageReader||(Pr.MessageReader={}));var $h=class{constructor(){this.errorEmitter=new Yh.Emitter,this.closeEmitter=new Yh.Emitter,this.partialMessageEmitter=new Yh.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${ha.string(t.message)?t.message:"unknown"}`)}};Pr.AbstractMessageReader=$h;var Gh;(function(e){function t(r){var n;let i,a,o,s=new Map,u,l=new Map;if(r===void 0||typeof r=="string")i=r!=null?r:"utf-8";else{if(i=(n=r.charset)!==null&&n!==void 0?n:"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,s.set(o.name,o)),r.contentDecoders!==void 0)for(let d of r.contentDecoders)s.set(d.name,d);if(r.contentTypeDecoder!==void 0&&(u=r.contentTypeDecoder,l.set(u.name,u)),r.contentTypeDecoders!==void 0)for(let d of r.contentTypeDecoders)l.set(d.name,d)}return u===void 0&&(u=ll.default().applicationJson.decoder,l.set(u.name,u)),{charset:i,contentDecoder:o,contentDecoders:s,contentTypeDecoder:u,contentTypeDecoders:l}}e.fromOptions=t})(Gh||(Gh={}));var ES=class extends $h{constructor(t,r){super();this.readable=t,this.options=Gh.fromOptions(r),this.buffer=ll.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let a=i.get("Content-Length");if(!a)throw new Error("Header must provide a Content-Length property.");let o=parseInt(a);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(r):n=Promise.resolve(r),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(a=>{this.callback(a)},a=>{this.fireError(a)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(ll.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=ll.default().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Pr.ReadableStreamMessageReader=ES});var IS=g(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.Semaphore=void 0;var mY=Nr(),jS=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||mY.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};dl.Semaphore=jS});var FS=g(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.WriteableStreamMessageWriter=Cr.AbstractMessageWriter=Cr.MessageWriter=void 0;var kS=Nr(),Po=ma(),gY=IS(),AS=ga(),hY="Content-Length: ",LS=`\r
`,vY;(function(e){function t(r){let n=r;return n&&Po.func(n.dispose)&&Po.func(n.onClose)&&Po.func(n.onError)&&Po.func(n.write)}e.is=t})(vY=Cr.MessageWriter||(Cr.MessageWriter={}));var Vh=class{constructor(){this.errorEmitter=new AS.Emitter,this.closeEmitter=new AS.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Po.string(t.message)?t.message:"unknown"}`)}};Cr.AbstractMessageWriter=Vh;var zh;(function(e){function t(r){var n,i;return r===void 0||typeof r=="string"?{charset:r!=null?r:"utf-8",contentTypeEncoder:kS.default().applicationJson.encoder}:{charset:(n=r.charset)!==null&&n!==void 0?n:"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:(i=r.contentTypeEncoder)!==null&&i!==void 0?i:kS.default().applicationJson.encoder}}e.fromOptions=t})(zh||(zh={}));var WS=class extends Vh{constructor(t,r){super();this.writable=t,this.options=zh.fromOptions(r),this.errorCount=0,this.writeSemaphore=new gY.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(hY,n.byteLength.toString(),LS),i.push(LS),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};Cr.WriteableStreamMessageWriter=WS});var HS=g(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.LRUCache=Dr.LinkedMap=Dr.Touch=void 0;var yt;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(yt=Dr.Touch||(Dr.Touch={}));var Qh=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)===null||t===void 0?void 0:t.value}get last(){var t;return(t=this._tail)===null||t===void 0?void 0:t.value}has(t){return this._map.has(t)}get(t,r=yt.None){let n=this._map.get(t);if(!!n)return r!==yt.None&&this.touch(n,r),n.value}set(t,r,n=yt.None){let i=this._map.get(t);if(i)i.value=r,n!==yt.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case yt.None:this.addItemLast(i);break;case yt.First:this.addItemFirst(i);break;case yt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(!!r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.key,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.value,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:[n.key,n.value],done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==yt.First&&r!==yt.Last)){if(r===yt.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===yt.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};Dr.LinkedMap=Qh;var BS=class extends Qh{constructor(t,r=1){super();this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=yt.AsNew){return super.get(t,r)}peek(t){return super.get(t,yt.None)}set(t,r){return super.set(t,r,yt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Dr.LRUCache=BS});var zS=g(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.createMessageConnection=Z.ConnectionOptions=Z.CancellationStrategy=Z.CancellationSenderStrategy=Z.CancellationReceiverStrategy=Z.ConnectionStrategy=Z.ConnectionError=Z.ConnectionErrors=Z.LogTraceNotification=Z.SetTraceNotification=Z.TraceFormat=Z.Trace=Z.NullLogger=Z.ProgressType=void 0;var US=Nr(),it=ma(),K=Wh(),YS=HS(),Co=ga(),Kh=Uh(),Do;(function(e){e.type=new K.NotificationType("$/cancelRequest")})(Do||(Do={}));var cl;(function(e){e.type=new K.NotificationType("$/progress")})(cl||(cl={}));var $S=class{constructor(){}};Z.ProgressType=$S;var Xh;(function(e){function t(r){return it.func(r)}e.is=t})(Xh||(Xh={}));Z.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ye;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"})(Ye=Z.Trace||(Z.Trace={}));(function(e){function t(n){if(!it.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(Ye=Z.Trace||(Z.Trace={}));var Gt;(function(e){e.Text="text",e.JSON="json"})(Gt=Z.TraceFormat||(Z.TraceFormat={}));(function(e){function t(r){return r=r.toLowerCase(),r==="json"?e.JSON:e.Text}e.fromString=t})(Gt=Z.TraceFormat||(Z.TraceFormat={}));var GS;(function(e){e.type=new K.NotificationType("$/setTrace")})(GS=Z.SetTraceNotification||(Z.SetTraceNotification={}));var Jh;(function(e){e.type=new K.NotificationType("$/logTrace")})(Jh=Z.LogTraceNotification||(Z.LogTraceNotification={}));var fl;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(fl=Z.ConnectionErrors||(Z.ConnectionErrors={}));var ii=class extends Error{constructor(t,r){super(r);this.code=t,Object.setPrototypeOf(this,ii.prototype)}};Z.ConnectionError=ii;var VS;(function(e){function t(r){let n=r;return n&&it.func(n.cancelUndispatched)}e.is=t})(VS=Z.ConnectionStrategy||(Z.ConnectionStrategy={}));var Zh;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new Kh.CancellationTokenSource}});function t(r){let n=r;return n&&it.func(n.createCancellationTokenSource)}e.is=t})(Zh=Z.CancellationReceiverStrategy||(Z.CancellationReceiverStrategy={}));var ev;(function(e){e.Message=Object.freeze({sendCancellation(r,n){r.sendNotification(Do.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&it.func(n.sendCancellation)&&it.func(n.cleanup)}e.is=t})(ev=Z.CancellationSenderStrategy||(Z.CancellationSenderStrategy={}));var tv;(function(e){e.Message=Object.freeze({receiver:Zh.Message,sender:ev.Message});function t(r){let n=r;return n&&Zh.is(n.receiver)&&ev.is(n.sender)}e.is=t})(tv=Z.CancellationStrategy||(Z.CancellationStrategy={}));var yY;(function(e){function t(r){let n=r;return n&&(tv.is(n.cancellationStrategy)||VS.is(n.connectionStrategy))}e.is=t})(yY=Z.ConnectionOptions||(Z.ConnectionOptions={}));var Vt;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Vt||(Vt={}));function xY(e,t,r,n){let i=r!==void 0?r:Z.NullLogger,a=0,o=0,s=0,u="2.0",l,d=Object.create(null),c,m=Object.create(null),h=new Map,x,_=new YS.LinkedMap,N=Object.create(null),C=Object.create(null),j=Ye.Off,L=Gt.Text,F,B=Vt.New,he=new Co.Emitter,qe=new Co.Emitter,me=new Co.Emitter,be=new Co.Emitter,Le=new Co.Emitter,st=n&&n.cancellationStrategy?n.cancellationStrategy:tv.Message;function Ve(O){if(O===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+O.toString()}function Ie(O){return O===null?"res-unknown-"+(++s).toString():"res-"+O.toString()}function wt(){return"not-"+(++o).toString()}function Je(O,b){K.isRequestMessage(b)?O.set(Ve(b.id),b):K.isResponseMessage(b)?O.set(Ie(b.id),b):O.set(wt(),b)}function _t(O){}function ke(){return B===Vt.Listening}function Ze(){return B===Vt.Closed}function Be(){return B===Vt.Disposed}function Yr(){(B===Vt.New||B===Vt.Listening)&&(B=Vt.Closed,qe.fire(void 0))}function Di(O){he.fire([O,void 0,void 0])}function In(O){he.fire(O)}e.onClose(Yr),e.onError(Di),t.onClose(Yr),t.onError(In);function Es(){x||_.size===0||(x=US.default().timer.setImmediate(()=>{x=void 0,ng()}))}function ng(){if(_.size===0)return;let O=_.shift();try{K.isRequestMessage(O)?ag(O):K.isNotificationMessage(O)?$a(O):K.isResponseMessage(O)?og(O):sg(O)}finally{Es()}}let ig=O=>{try{if(K.isNotificationMessage(O)&&O.method===Do.type.method){let b=Ve(O.params.id),p=_.get(b);if(K.isRequestMessage(p)){let w=n==null?void 0:n.connectionStrategy,q=w&&w.cancelUndispatched?w.cancelUndispatched(p,_t):_t(p);if(q&&(q.error!==void 0||q.result!==void 0)){_.delete(b),q.id=p.id,Ei(q,O.method,Date.now()),t.write(q);return}}}Je(_,O)}finally{Es()}};function ag(O){if(Be())return;function b(D,H,G){let re={jsonrpc:u,id:O.id};D instanceof K.ResponseError?re.error=D.toJson():re.result=D===void 0?null:D,Ei(re,H,G),t.write(re)}function p(D,H,G){let re={jsonrpc:u,id:O.id,error:D.toJson()};Ei(re,H,G),t.write(re)}function w(D,H,G){D===void 0&&(D=null);let re={jsonrpc:u,id:O.id,result:D};Ei(re,H,G),t.write(re)}dg(O);let q=d[O.method],v,f;q&&(v=q.type,f=q.handler);let P=Date.now();if(f||l){let D=String(O.id),H=st.receiver.createCancellationTokenSource(D);C[D]=H;try{let G;if(f)if(O.params===void 0){if(v!==void 0&&v.numberOfParams!==0){p(new K.ResponseError(K.ErrorCodes.InvalidParams,`Request ${O.method} defines ${v.numberOfParams} params but recevied none.`),O.method,P);return}G=f(H.token)}else if(Array.isArray(O.params)){if(v!==void 0&&v.parameterStructures===K.ParameterStructures.byName){p(new K.ResponseError(K.ErrorCodes.InvalidParams,`Request ${O.method} defines parameters by name but received parameters by position`),O.method,P);return}G=f(...O.params,H.token)}else{if(v!==void 0&&v.parameterStructures===K.ParameterStructures.byPosition){p(new K.ResponseError(K.ErrorCodes.InvalidParams,`Request ${O.method} defines parameters by position but received parameters by name`),O.method,P);return}G=f(O.params,H.token)}else l&&(G=l(O.method,O.params,H.token));let re=G;G?re.then?re.then(we=>{delete C[D],b(we,O.method,P)},we=>{delete C[D],we instanceof K.ResponseError?p(we,O.method,P):we&&it.string(we.message)?p(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${O.method} failed with message: ${we.message}`),O.method,P):p(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${O.method} failed unexpectedly without providing any details.`),O.method,P)}):(delete C[D],b(G,O.method,P)):(delete C[D],w(G,O.method,P))}catch(G){delete C[D],G instanceof K.ResponseError?b(G,O.method,P):G&&it.string(G.message)?p(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${O.method} failed with message: ${G.message}`),O.method,P):p(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${O.method} failed unexpectedly without providing any details.`),O.method,P)}}else p(new K.ResponseError(K.ErrorCodes.MethodNotFound,`Unhandled method ${O.method}`),O.method,P)}function og(O){if(!Be())if(O.id===null)O.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(O.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let b=String(O.id),p=N[b];if(fg(O,p),p){delete N[b];try{if(O.error){let w=O.error;p.reject(new K.ResponseError(w.code,w.message,w.data))}else if(O.result!==void 0)p.resolve(O.result);else throw new Error("Should never happen.")}catch(w){w.message?i.error(`Response handler '${p.method}' failed with message: ${w.message}`):i.error(`Response handler '${p.method}' failed unexpectedly.`)}}}}function $a(O){if(Be())return;let b,p;if(O.method===Do.type.method)p=w=>{let q=w.id,v=C[String(q)];v&&v.cancel()};else{let w=m[O.method];w&&(p=w.handler,b=w.type)}if(p||c)try{cg(O),p?O.params===void 0?(b!==void 0&&b.numberOfParams!==0&&b.parameterStructures!==K.ParameterStructures.byName&&i.error(`Notification ${O.method} defines ${b.numberOfParams} params but recevied none.`),p()):Array.isArray(O.params)?(b!==void 0&&(b.parameterStructures===K.ParameterStructures.byName&&i.error(`Notification ${O.method} defines parameters by name but received parameters by position`),b.numberOfParams!==O.params.length&&i.error(`Notification ${O.method} defines ${b.numberOfParams} params but received ${O.params.length} argumennts`)),p(...O.params)):(b!==void 0&&b.parameterStructures===K.ParameterStructures.byPosition&&i.error(`Notification ${O.method} defines parameters by position but received parameters by name`),p(O.params)):c&&c(O.method,O.params)}catch(w){w.message?i.error(`Notification handler '${O.method}' failed with message: ${w.message}`):i.error(`Notification handler '${O.method}' failed unexpectedly.`)}else me.fire(O)}function sg(O){if(!O){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(O,null,4)}`);let b=O;if(it.string(b.id)||it.number(b.id)){let p=String(b.id),w=N[p];w&&w.reject(new Error("The received response has neither a result nor an error property."))}}function ug(O){if(!(j===Ye.Off||!F))if(L===Gt.Text){let b;j===Ye.Verbose&&O.params&&(b=`Params: ${JSON.stringify(O.params,null,4)}

`),F.log(`Sending request '${O.method} - (${O.id})'.`,b)}else $r("send-request",O)}function lg(O){if(!(j===Ye.Off||!F))if(L===Gt.Text){let b;j===Ye.Verbose&&(O.params?b=`Params: ${JSON.stringify(O.params,null,4)}

`:b=`No parameters provided.

`),F.log(`Sending notification '${O.method}'.`,b)}else $r("send-notification",O)}function Ei(O,b,p){if(!(j===Ye.Off||!F))if(L===Gt.Text){let w;j===Ye.Verbose&&(O.error&&O.error.data?w=`Error data: ${JSON.stringify(O.error.data,null,4)}

`:O.result?w=`Result: ${JSON.stringify(O.result,null,4)}

`:O.error===void 0&&(w=`No result returned.

`)),F.log(`Sending response '${b} - (${O.id})'. Processing request took ${Date.now()-p}ms`,w)}else $r("send-response",O)}function dg(O){if(!(j===Ye.Off||!F))if(L===Gt.Text){let b;j===Ye.Verbose&&O.params&&(b=`Params: ${JSON.stringify(O.params,null,4)}

`),F.log(`Received request '${O.method} - (${O.id})'.`,b)}else $r("receive-request",O)}function cg(O){if(!(j===Ye.Off||!F||O.method===Jh.type.method))if(L===Gt.Text){let b;j===Ye.Verbose&&(O.params?b=`Params: ${JSON.stringify(O.params,null,4)}

`:b=`No parameters provided.

`),F.log(`Received notification '${O.method}'.`,b)}else $r("receive-notification",O)}function fg(O,b){if(!(j===Ye.Off||!F))if(L===Gt.Text){let p;if(j===Ye.Verbose&&(O.error&&O.error.data?p=`Error data: ${JSON.stringify(O.error.data,null,4)}

`:O.result?p=`Result: ${JSON.stringify(O.result,null,4)}

`:O.error===void 0&&(p=`No result returned.

`)),b){let w=O.error?` Request failed: ${O.error.message} (${O.error.code}).`:"";F.log(`Received response '${b.method} - (${O.id})' in ${Date.now()-b.timerStart}ms.${w}`,p)}else F.log(`Received response ${O.id} without active response promise.`,p)}else $r("receive-response",O)}function $r(O,b){if(!F||j===Ye.Off)return;let p={isLSPMessage:!0,type:O,message:b,timestamp:Date.now()};F.log(p)}function kn(){if(Ze())throw new ii(fl.Closed,"Connection is closed.");if(Be())throw new ii(fl.Disposed,"Connection is disposed.")}function pg(){if(ke())throw new ii(fl.AlreadyListening,"Connection is already listening")}function mg(){if(!ke())throw new Error("Call listen() first.")}function An(O){return O===void 0?null:O}function Rs(O){if(O!==null)return O}function js(O){return O!=null&&!Array.isArray(O)&&typeof O=="object"}function Ga(O,b){switch(O){case K.ParameterStructures.auto:if(js(b))return Rs(b);return[An(b)];break;case K.ParameterStructures.byName:if(!js(b))throw new Error("Recevied parameters by name but param is not an object literal.");return Rs(b);case K.ParameterStructures.byPosition:return[An(b)];default:throw new Error(`Unknown parameter structure ${O.toString()}`)}}function Is(O,b){let p,w=O.numberOfParams;switch(w){case 0:p=void 0;break;case 1:p=Ga(O.parameterStructures,b[0]);break;default:p=[];for(let q=0;q<b.length&&q<w;q++)p.push(An(b[q]));if(b.length<w)for(let q=b.length;q<w;q++)p.push(null);break}return p}let Gr={sendNotification:(O,...b)=>{kn();let p,w;if(it.string(O)){p=O;let v=b[0],f=0,P=K.ParameterStructures.auto;K.ParameterStructures.is(v)&&(f=1,P=v);let D=b.length,H=D-f;switch(H){case 0:w=void 0;break;case 1:w=Ga(P,b[f]);break;default:if(P===K.ParameterStructures.byName)throw new Error(`Recevied ${H} parameters for 'by Name' notification parameter structure.`);w=b.slice(f,D).map(G=>An(G));break}}else{let v=b;p=O.method,w=Is(O,v)}let q={jsonrpc:u,method:p,params:w};lg(q),t.write(q)},onNotification:(O,b)=>{kn();let p;return it.func(O)?c=O:b&&(it.string(O)?(p=O,m[O]={type:void 0,handler:b}):(p=O.method,m[O.method]={type:O,handler:b})),{dispose:()=>{p!==void 0?delete m[p]:c=void 0}}},onProgress:(O,b,p)=>{if(h.has(b))throw new Error(`Progress handler for token ${b} already registered`);return h.set(b,p),{dispose:()=>{h.delete(b)}}},sendProgress:(O,b,p)=>{Gr.sendNotification(cl.type,{token:b,value:p})},onUnhandledProgress:be.event,sendRequest:(O,...b)=>{kn(),mg();let p,w,q;if(it.string(O)){p=O;let D=b[0],H=b[b.length-1],G=0,re=K.ParameterStructures.auto;K.ParameterStructures.is(D)&&(G=1,re=D);let we=b.length;Kh.CancellationToken.is(H)&&(we=we-1,q=H);let ze=we-G;switch(ze){case 0:w=void 0;break;case 1:w=Ga(re,b[G]);break;default:if(re===K.ParameterStructures.byName)throw new Error(`Recevied ${ze} parameters for 'by Name' request parameter structure.`);w=b.slice(G,we).map(et=>An(et));break}}else{let D=b;p=O.method,w=Is(O,D);let H=O.numberOfParams;q=Kh.CancellationToken.is(D[H])?D[H]:void 0}let v=a++,f;return q&&(f=q.onCancellationRequested(()=>{st.sender.sendCancellation(Gr,v)})),new Promise((D,H)=>{let G={jsonrpc:u,id:v,method:p,params:w},re=et=>{D(et),st.sender.cleanup(v),f==null||f.dispose()},we=et=>{H(et),st.sender.cleanup(v),f==null||f.dispose()},ze={method:p,timerStart:Date.now(),resolve:re,reject:we};ug(G);try{t.write(G)}catch(et){ze.reject(new K.ResponseError(K.ErrorCodes.MessageWriteError,et.message?et.message:"Unknown reason")),ze=null}ze&&(N[String(v)]=ze)})},onRequest:(O,b)=>{kn();let p=null;return Xh.is(O)?(p=void 0,l=O):it.string(O)?(p=null,b!==void 0&&(p=O,d[O]={handler:b,type:void 0})):b!==void 0&&(p=O.method,d[O.method]={type:O,handler:b}),{dispose:()=>{p!==null&&(p!==void 0?delete d[p]:l=void 0)}}},trace:(O,b,p)=>{let w=!1,q=Gt.Text;p!==void 0&&(it.boolean(p)?w=p:(w=p.sendNotification||!1,q=p.traceFormat||Gt.Text)),j=O,L=q,j===Ye.Off?F=void 0:F=b,w&&!Ze()&&!Be()&&Gr.sendNotification(GS.type,{value:Ye.toString(O)})},onError:he.event,onClose:qe.event,onUnhandledNotification:me.event,onDispose:Le.event,end:()=>{t.end()},dispose:()=>{if(Be())return;B=Vt.Disposed,Le.fire(void 0);let O=new Error("Connection got disposed.");Object.keys(N).forEach(b=>{N[b].reject(O)}),N=Object.create(null),C=Object.create(null),_=new YS.LinkedMap,it.func(t.dispose)&&t.dispose(),it.func(e.dispose)&&e.dispose()},listen:()=>{kn(),pg(),B=Vt.Listening,e.listen(ig)},inspect:()=>{US.default().console.log("inspect")}};return Gr.onNotification(Jh.type,O=>{j===Ye.Off||!F||F.log(O.message,j===Ye.Verbose?O.verbose:void 0)}),Gr.onNotification(cl.type,O=>{let b=h.get(O.token);b?b(O.value):be.fire(O)}),Gr}Z.createMessageConnection=xY});var iv=g(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.CancellationSenderStrategy=A.CancellationReceiverStrategy=A.ConnectionError=A.ConnectionErrors=A.LogTraceNotification=A.SetTraceNotification=A.TraceFormat=A.Trace=A.ProgressType=A.createMessageConnection=A.NullLogger=A.ConnectionOptions=A.ConnectionStrategy=A.WriteableStreamMessageWriter=A.AbstractMessageWriter=A.MessageWriter=A.ReadableStreamMessageReader=A.AbstractMessageReader=A.MessageReader=A.CancellationToken=A.CancellationTokenSource=A.Emitter=A.Event=A.Disposable=A.ParameterStructures=A.NotificationType9=A.NotificationType8=A.NotificationType7=A.NotificationType6=A.NotificationType5=A.NotificationType4=A.NotificationType3=A.NotificationType2=A.NotificationType1=A.NotificationType0=A.NotificationType=A.ErrorCodes=A.ResponseError=A.RequestType9=A.RequestType8=A.RequestType7=A.RequestType6=A.RequestType5=A.RequestType4=A.RequestType3=A.RequestType2=A.RequestType1=A.RequestType0=A.RequestType=A.RAL=void 0;A.CancellationStrategy=void 0;var Se=Wh();Object.defineProperty(A,"RequestType",{enumerable:!0,get:function(){return Se.RequestType}});Object.defineProperty(A,"RequestType0",{enumerable:!0,get:function(){return Se.RequestType0}});Object.defineProperty(A,"RequestType1",{enumerable:!0,get:function(){return Se.RequestType1}});Object.defineProperty(A,"RequestType2",{enumerable:!0,get:function(){return Se.RequestType2}});Object.defineProperty(A,"RequestType3",{enumerable:!0,get:function(){return Se.RequestType3}});Object.defineProperty(A,"RequestType4",{enumerable:!0,get:function(){return Se.RequestType4}});Object.defineProperty(A,"RequestType5",{enumerable:!0,get:function(){return Se.RequestType5}});Object.defineProperty(A,"RequestType6",{enumerable:!0,get:function(){return Se.RequestType6}});Object.defineProperty(A,"RequestType7",{enumerable:!0,get:function(){return Se.RequestType7}});Object.defineProperty(A,"RequestType8",{enumerable:!0,get:function(){return Se.RequestType8}});Object.defineProperty(A,"RequestType9",{enumerable:!0,get:function(){return Se.RequestType9}});Object.defineProperty(A,"ResponseError",{enumerable:!0,get:function(){return Se.ResponseError}});Object.defineProperty(A,"ErrorCodes",{enumerable:!0,get:function(){return Se.ErrorCodes}});Object.defineProperty(A,"NotificationType",{enumerable:!0,get:function(){return Se.NotificationType}});Object.defineProperty(A,"NotificationType0",{enumerable:!0,get:function(){return Se.NotificationType0}});Object.defineProperty(A,"NotificationType1",{enumerable:!0,get:function(){return Se.NotificationType1}});Object.defineProperty(A,"NotificationType2",{enumerable:!0,get:function(){return Se.NotificationType2}});Object.defineProperty(A,"NotificationType3",{enumerable:!0,get:function(){return Se.NotificationType3}});Object.defineProperty(A,"NotificationType4",{enumerable:!0,get:function(){return Se.NotificationType4}});Object.defineProperty(A,"NotificationType5",{enumerable:!0,get:function(){return Se.NotificationType5}});Object.defineProperty(A,"NotificationType6",{enumerable:!0,get:function(){return Se.NotificationType6}});Object.defineProperty(A,"NotificationType7",{enumerable:!0,get:function(){return Se.NotificationType7}});Object.defineProperty(A,"NotificationType8",{enumerable:!0,get:function(){return Se.NotificationType8}});Object.defineProperty(A,"NotificationType9",{enumerable:!0,get:function(){return Se.NotificationType9}});Object.defineProperty(A,"ParameterStructures",{enumerable:!0,get:function(){return Se.ParameterStructures}});var bY=kh();Object.defineProperty(A,"Disposable",{enumerable:!0,get:function(){return bY.Disposable}});var QS=ga();Object.defineProperty(A,"Event",{enumerable:!0,get:function(){return QS.Event}});Object.defineProperty(A,"Emitter",{enumerable:!0,get:function(){return QS.Emitter}});var KS=Uh();Object.defineProperty(A,"CancellationTokenSource",{enumerable:!0,get:function(){return KS.CancellationTokenSource}});Object.defineProperty(A,"CancellationToken",{enumerable:!0,get:function(){return KS.CancellationToken}});var rv=RS();Object.defineProperty(A,"MessageReader",{enumerable:!0,get:function(){return rv.MessageReader}});Object.defineProperty(A,"AbstractMessageReader",{enumerable:!0,get:function(){return rv.AbstractMessageReader}});Object.defineProperty(A,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return rv.ReadableStreamMessageReader}});var nv=FS();Object.defineProperty(A,"MessageWriter",{enumerable:!0,get:function(){return nv.MessageWriter}});Object.defineProperty(A,"AbstractMessageWriter",{enumerable:!0,get:function(){return nv.AbstractMessageWriter}});Object.defineProperty(A,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return nv.WriteableStreamMessageWriter}});var Mt=zS();Object.defineProperty(A,"ConnectionStrategy",{enumerable:!0,get:function(){return Mt.ConnectionStrategy}});Object.defineProperty(A,"ConnectionOptions",{enumerable:!0,get:function(){return Mt.ConnectionOptions}});Object.defineProperty(A,"NullLogger",{enumerable:!0,get:function(){return Mt.NullLogger}});Object.defineProperty(A,"createMessageConnection",{enumerable:!0,get:function(){return Mt.createMessageConnection}});Object.defineProperty(A,"ProgressType",{enumerable:!0,get:function(){return Mt.ProgressType}});Object.defineProperty(A,"Trace",{enumerable:!0,get:function(){return Mt.Trace}});Object.defineProperty(A,"TraceFormat",{enumerable:!0,get:function(){return Mt.TraceFormat}});Object.defineProperty(A,"SetTraceNotification",{enumerable:!0,get:function(){return Mt.SetTraceNotification}});Object.defineProperty(A,"LogTraceNotification",{enumerable:!0,get:function(){return Mt.LogTraceNotification}});Object.defineProperty(A,"ConnectionErrors",{enumerable:!0,get:function(){return Mt.ConnectionErrors}});Object.defineProperty(A,"ConnectionError",{enumerable:!0,get:function(){return Mt.ConnectionError}});Object.defineProperty(A,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Mt.CancellationReceiverStrategy}});Object.defineProperty(A,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Mt.CancellationSenderStrategy}});Object.defineProperty(A,"CancellationStrategy",{enumerable:!0,get:function(){return Mt.CancellationStrategy}});var wY=Nr();A.RAL=wY.default});var ba=g(de=>{"use strict";var _Y=de&&de.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OY=de&&de.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_Y(t,e,r)};Object.defineProperty(de,"__esModule",{value:!0});de.createMessageConnection=de.createServerSocketTransport=de.createClientSocketTransport=de.createServerPipeTransport=de.createClientPipeTransport=de.generateRandomPipeName=de.StreamMessageWriter=de.StreamMessageReader=de.SocketMessageWriter=de.SocketMessageReader=de.IPCMessageWriter=de.IPCMessageReader=void 0;var va=nS();va.default.install();var or=iv(),XS=require("path"),TY=require("os"),SY=require("crypto"),pl=require("net");OY(iv(),de);var JS=class extends or.AbstractMessageReader{constructor(t){super();this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),or.Disposable.create(()=>this.process.off("message",t))}};de.IPCMessageReader=JS;var ZS=class extends or.AbstractMessageWriter{constructor(t){super();this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};de.IPCMessageWriter=ZS;var ya=class extends or.ReadableStreamMessageReader{constructor(t,r="utf-8"){super(va.default().stream.asReadableStream(t),r)}};de.SocketMessageReader=ya;var xa=class extends or.WriteableStreamMessageWriter{constructor(t,r){super(va.default().stream.asWritableStream(t),r);this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};de.SocketMessageWriter=xa;var av=class extends or.ReadableStreamMessageReader{constructor(t,r){super(va.default().stream.asReadableStream(t),r)}};de.StreamMessageReader=av;var ov=class extends or.WriteableStreamMessageWriter{constructor(t,r){super(va.default().stream.asWritableStream(t),r)}};de.StreamMessageWriter=ov;var eM=process.env.XDG_RUNTIME_DIR,MY=new Map([["linux",107],["darwin",103]]);function qY(){let e=SY.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;eM?t=XS.join(eM,`vscode-ipc-${e}.sock`):t=XS.join(TY.tmpdir(),`vscode-${e}.sock`);let r=MY.get(process.platform);return r!==void 0&&t.length>=r&&va.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}de.generateRandomPipeName=qY;function NY(e,t="utf-8"){let r,n=new Promise((i,a)=>{r=i});return new Promise((i,a)=>{let o=pl.createServer(s=>{o.close(),r([new ya(s,t),new xa(s,t)])});o.on("error",a),o.listen(e,()=>{o.removeListener("error",a),i({onConnected:()=>n})})})}de.createClientPipeTransport=NY;function PY(e,t="utf-8"){let r=pl.createConnection(e);return[new ya(r,t),new xa(r,t)]}de.createServerPipeTransport=PY;function CY(e,t="utf-8"){let r,n=new Promise((i,a)=>{r=i});return new Promise((i,a)=>{let o=pl.createServer(s=>{o.close(),r([new ya(s,t),new xa(s,t)])});o.on("error",a),o.listen(e,"127.0.0.1",()=>{o.removeListener("error",a),i({onConnected:()=>n})})})}de.createClientSocketTransport=CY;function DY(e,t="utf-8"){let r=pl.createConnection(e,"127.0.0.1");return[new ya(r,t),new xa(r,t)]}de.createServerSocketTransport=DY;function EY(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function RY(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function jY(e,t,r,n){r||(r=or.NullLogger);let i=EY(e)?new av(e):e,a=RY(t)?new ov(t):t;return or.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),or.createMessageConnection(i,a,r,n)}de.createMessageConnection=jY});var sv=g((Lbe,tM)=>{"use strict";tM.exports=ba()});var uv=g((rM,ml)=>{(function(e){if(typeof ml=="object"&&typeof ml.exports=="object"){var t=e(require,rM);t!==void 0&&(ml.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionKind=t.DocumentSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=void 0;var r;(function(p){p.MIN_VALUE=-2147483648,p.MAX_VALUE=2147483647})(r=t.integer||(t.integer={}));var n;(function(p){p.MIN_VALUE=0,p.MAX_VALUE=2147483647})(n=t.uinteger||(t.uinteger={}));var i;(function(p){function w(v,f){return v===Number.MAX_VALUE&&(v=n.MAX_VALUE),f===Number.MAX_VALUE&&(f=n.MAX_VALUE),{line:v,character:f}}p.create=w;function q(v){var f=v;return b.objectLiteral(f)&&b.uinteger(f.line)&&b.uinteger(f.character)}p.is=q})(i=t.Position||(t.Position={}));var a;(function(p){function w(v,f,P,D){if(b.uinteger(v)&&b.uinteger(f)&&b.uinteger(P)&&b.uinteger(D))return{start:i.create(v,f),end:i.create(P,D)};if(i.is(v)&&i.is(f))return{start:v,end:f};throw new Error("Range#create called with invalid arguments["+v+", "+f+", "+P+", "+D+"]")}p.create=w;function q(v){var f=v;return b.objectLiteral(f)&&i.is(f.start)&&i.is(f.end)}p.is=q})(a=t.Range||(t.Range={}));var o;(function(p){function w(v,f){return{uri:v,range:f}}p.create=w;function q(v){var f=v;return b.defined(f)&&a.is(f.range)&&(b.string(f.uri)||b.undefined(f.uri))}p.is=q})(o=t.Location||(t.Location={}));var s;(function(p){function w(v,f,P,D){return{targetUri:v,targetRange:f,targetSelectionRange:P,originSelectionRange:D}}p.create=w;function q(v){var f=v;return b.defined(f)&&a.is(f.targetRange)&&b.string(f.targetUri)&&(a.is(f.targetSelectionRange)||b.undefined(f.targetSelectionRange))&&(a.is(f.originSelectionRange)||b.undefined(f.originSelectionRange))}p.is=q})(s=t.LocationLink||(t.LocationLink={}));var u;(function(p){function w(v,f,P,D){return{red:v,green:f,blue:P,alpha:D}}p.create=w;function q(v){var f=v;return b.numberRange(f.red,0,1)&&b.numberRange(f.green,0,1)&&b.numberRange(f.blue,0,1)&&b.numberRange(f.alpha,0,1)}p.is=q})(u=t.Color||(t.Color={}));var l;(function(p){function w(v,f){return{range:v,color:f}}p.create=w;function q(v){var f=v;return a.is(f.range)&&u.is(f.color)}p.is=q})(l=t.ColorInformation||(t.ColorInformation={}));var d;(function(p){function w(v,f,P){return{label:v,textEdit:f,additionalTextEdits:P}}p.create=w;function q(v){var f=v;return b.string(f.label)&&(b.undefined(f.textEdit)||L.is(f))&&(b.undefined(f.additionalTextEdits)||b.typedArray(f.additionalTextEdits,L.is))}p.is=q})(d=t.ColorPresentation||(t.ColorPresentation={}));var c;(function(p){p.Comment="comment",p.Imports="imports",p.Region="region"})(c=t.FoldingRangeKind||(t.FoldingRangeKind={}));var m;(function(p){function w(v,f,P,D,H){var G={startLine:v,endLine:f};return b.defined(P)&&(G.startCharacter=P),b.defined(D)&&(G.endCharacter=D),b.defined(H)&&(G.kind=H),G}p.create=w;function q(v){var f=v;return b.uinteger(f.startLine)&&b.uinteger(f.startLine)&&(b.undefined(f.startCharacter)||b.uinteger(f.startCharacter))&&(b.undefined(f.endCharacter)||b.uinteger(f.endCharacter))&&(b.undefined(f.kind)||b.string(f.kind))}p.is=q})(m=t.FoldingRange||(t.FoldingRange={}));var h;(function(p){function w(v,f){return{location:v,message:f}}p.create=w;function q(v){var f=v;return b.defined(f)&&o.is(f.location)&&b.string(f.message)}p.is=q})(h=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var x;(function(p){p.Error=1,p.Warning=2,p.Information=3,p.Hint=4})(x=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var _;(function(p){p.Unnecessary=1,p.Deprecated=2})(_=t.DiagnosticTag||(t.DiagnosticTag={}));var N;(function(p){function w(q){var v=q;return v!=null&&b.string(v.href)}p.is=w})(N=t.CodeDescription||(t.CodeDescription={}));var C;(function(p){function w(v,f,P,D,H,G){var re={range:v,message:f};return b.defined(P)&&(re.severity=P),b.defined(D)&&(re.code=D),b.defined(H)&&(re.source=H),b.defined(G)&&(re.relatedInformation=G),re}p.create=w;function q(v){var f,P=v;return b.defined(P)&&a.is(P.range)&&b.string(P.message)&&(b.number(P.severity)||b.undefined(P.severity))&&(b.integer(P.code)||b.string(P.code)||b.undefined(P.code))&&(b.undefined(P.codeDescription)||b.string((f=P.codeDescription)===null||f===void 0?void 0:f.href))&&(b.string(P.source)||b.undefined(P.source))&&(b.undefined(P.relatedInformation)||b.typedArray(P.relatedInformation,h.is))}p.is=q})(C=t.Diagnostic||(t.Diagnostic={}));var j;(function(p){function w(v,f){for(var P=[],D=2;D<arguments.length;D++)P[D-2]=arguments[D];var H={title:v,command:f};return b.defined(P)&&P.length>0&&(H.arguments=P),H}p.create=w;function q(v){var f=v;return b.defined(f)&&b.string(f.title)&&b.string(f.command)}p.is=q})(j=t.Command||(t.Command={}));var L;(function(p){function w(P,D){return{range:P,newText:D}}p.replace=w;function q(P,D){return{range:{start:P,end:P},newText:D}}p.insert=q;function v(P){return{range:P,newText:""}}p.del=v;function f(P){var D=P;return b.objectLiteral(D)&&b.string(D.newText)&&a.is(D.range)}p.is=f})(L=t.TextEdit||(t.TextEdit={}));var F;(function(p){function w(v,f,P){var D={label:v};return f!==void 0&&(D.needsConfirmation=f),P!==void 0&&(D.description=P),D}p.create=w;function q(v){var f=v;return f!==void 0&&b.objectLiteral(f)&&b.string(f.label)&&(b.boolean(f.needsConfirmation)||f.needsConfirmation===void 0)&&(b.string(f.description)||f.description===void 0)}p.is=q})(F=t.ChangeAnnotation||(t.ChangeAnnotation={}));var B;(function(p){function w(q){var v=q;return typeof v=="string"}p.is=w})(B=t.ChangeAnnotationIdentifier||(t.ChangeAnnotationIdentifier={}));var he;(function(p){function w(P,D,H){return{range:P,newText:D,annotationId:H}}p.replace=w;function q(P,D,H){return{range:{start:P,end:P},newText:D,annotationId:H}}p.insert=q;function v(P,D){return{range:P,newText:"",annotationId:D}}p.del=v;function f(P){var D=P;return L.is(D)&&(F.is(D.annotationId)||B.is(D.annotationId))}p.is=f})(he=t.AnnotatedTextEdit||(t.AnnotatedTextEdit={}));var qe;(function(p){function w(v,f){return{textDocument:v,edits:f}}p.create=w;function q(v){var f=v;return b.defined(f)&&ke.is(f.textDocument)&&Array.isArray(f.edits)}p.is=q})(qe=t.TextDocumentEdit||(t.TextDocumentEdit={}));var me;(function(p){function w(v,f,P){var D={kind:"create",uri:v};return f!==void 0&&(f.overwrite!==void 0||f.ignoreIfExists!==void 0)&&(D.options=f),P!==void 0&&(D.annotationId=P),D}p.create=w;function q(v){var f=v;return f&&f.kind==="create"&&b.string(f.uri)&&(f.options===void 0||(f.options.overwrite===void 0||b.boolean(f.options.overwrite))&&(f.options.ignoreIfExists===void 0||b.boolean(f.options.ignoreIfExists)))&&(f.annotationId===void 0||B.is(f.annotationId))}p.is=q})(me=t.CreateFile||(t.CreateFile={}));var be;(function(p){function w(v,f,P,D){var H={kind:"rename",oldUri:v,newUri:f};return P!==void 0&&(P.overwrite!==void 0||P.ignoreIfExists!==void 0)&&(H.options=P),D!==void 0&&(H.annotationId=D),H}p.create=w;function q(v){var f=v;return f&&f.kind==="rename"&&b.string(f.oldUri)&&b.string(f.newUri)&&(f.options===void 0||(f.options.overwrite===void 0||b.boolean(f.options.overwrite))&&(f.options.ignoreIfExists===void 0||b.boolean(f.options.ignoreIfExists)))&&(f.annotationId===void 0||B.is(f.annotationId))}p.is=q})(be=t.RenameFile||(t.RenameFile={}));var Le;(function(p){function w(v,f,P){var D={kind:"delete",uri:v};return f!==void 0&&(f.recursive!==void 0||f.ignoreIfNotExists!==void 0)&&(D.options=f),P!==void 0&&(D.annotationId=P),D}p.create=w;function q(v){var f=v;return f&&f.kind==="delete"&&b.string(f.uri)&&(f.options===void 0||(f.options.recursive===void 0||b.boolean(f.options.recursive))&&(f.options.ignoreIfNotExists===void 0||b.boolean(f.options.ignoreIfNotExists)))&&(f.annotationId===void 0||B.is(f.annotationId))}p.is=q})(Le=t.DeleteFile||(t.DeleteFile={}));var st;(function(p){function w(q){var v=q;return v&&(v.changes!==void 0||v.documentChanges!==void 0)&&(v.documentChanges===void 0||v.documentChanges.every(function(f){return b.string(f.kind)?me.is(f)||be.is(f)||Le.is(f):qe.is(f)}))}p.is=w})(st=t.WorkspaceEdit||(t.WorkspaceEdit={}));var Ve=function(){function p(w,q){this.edits=w,this.changeAnnotations=q}return p.prototype.insert=function(w,q,v){var f,P;if(v===void 0?f=L.insert(w,q):B.is(v)?(P=v,f=he.insert(w,q,v)):(this.assertChangeAnnotations(this.changeAnnotations),P=this.changeAnnotations.manage(v),f=he.insert(w,q,P)),this.edits.push(f),P!==void 0)return P},p.prototype.replace=function(w,q,v){var f,P;if(v===void 0?f=L.replace(w,q):B.is(v)?(P=v,f=he.replace(w,q,v)):(this.assertChangeAnnotations(this.changeAnnotations),P=this.changeAnnotations.manage(v),f=he.replace(w,q,P)),this.edits.push(f),P!==void 0)return P},p.prototype.delete=function(w,q){var v,f;if(q===void 0?v=L.del(w):B.is(q)?(f=q,v=he.del(w,q)):(this.assertChangeAnnotations(this.changeAnnotations),f=this.changeAnnotations.manage(q),v=he.del(w,f)),this.edits.push(v),f!==void 0)return f},p.prototype.add=function(w){this.edits.push(w)},p.prototype.all=function(){return this.edits},p.prototype.clear=function(){this.edits.splice(0,this.edits.length)},p.prototype.assertChangeAnnotations=function(w){if(w===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},p}(),Ie=function(){function p(w){this._annotations=w===void 0?Object.create(null):w,this._counter=0,this._size=0}return p.prototype.all=function(){return this._annotations},Object.defineProperty(p.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),p.prototype.manage=function(w,q){var v;if(B.is(w)?v=w:(v=this.nextId(),q=w),this._annotations[v]!==void 0)throw new Error("Id "+v+" is already in use.");if(q===void 0)throw new Error("No annotation provided for id "+v);return this._annotations[v]=q,this._size++,v},p.prototype.nextId=function(){return this._counter++,this._counter.toString()},p}(),wt=function(){function p(w){var q=this;this._textEditChanges=Object.create(null),w!==void 0?(this._workspaceEdit=w,w.documentChanges?(this._changeAnnotations=new Ie(w.changeAnnotations),w.changeAnnotations=this._changeAnnotations.all(),w.documentChanges.forEach(function(v){if(qe.is(v)){var f=new Ve(v.edits,q._changeAnnotations);q._textEditChanges[v.textDocument.uri]=f}})):w.changes&&Object.keys(w.changes).forEach(function(v){var f=new Ve(w.changes[v]);q._textEditChanges[v]=f})):this._workspaceEdit={}}return Object.defineProperty(p.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),p.prototype.getTextEditChange=function(w){if(ke.is(w)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var q={uri:w.uri,version:w.version},v=this._textEditChanges[q.uri];if(!v){var f=[],P={textDocument:q,edits:f};this._workspaceEdit.documentChanges.push(P),v=new Ve(f,this._changeAnnotations),this._textEditChanges[q.uri]=v}return v}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var v=this._textEditChanges[w];if(!v){var f=[];this._workspaceEdit.changes[w]=f,v=new Ve(f),this._textEditChanges[w]=v}return v}},p.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Ie,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},p.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},p.prototype.createFile=function(w,q,v){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var f;F.is(q)||B.is(q)?f=q:v=q;var P,D;if(f===void 0?P=me.create(w,v):(D=B.is(f)?f:this._changeAnnotations.manage(f),P=me.create(w,v,D)),this._workspaceEdit.documentChanges.push(P),D!==void 0)return D},p.prototype.renameFile=function(w,q,v,f){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var P;F.is(v)||B.is(v)?P=v:f=v;var D,H;if(P===void 0?D=be.create(w,q,f):(H=B.is(P)?P:this._changeAnnotations.manage(P),D=be.create(w,q,f,H)),this._workspaceEdit.documentChanges.push(D),H!==void 0)return H},p.prototype.deleteFile=function(w,q,v){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var f;F.is(q)||B.is(q)?f=q:v=q;var P,D;if(f===void 0?P=Le.create(w,v):(D=B.is(f)?f:this._changeAnnotations.manage(f),P=Le.create(w,v,D)),this._workspaceEdit.documentChanges.push(P),D!==void 0)return D},p}();t.WorkspaceChange=wt;var Je;(function(p){function w(v){return{uri:v}}p.create=w;function q(v){var f=v;return b.defined(f)&&b.string(f.uri)}p.is=q})(Je=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var _t;(function(p){function w(v,f){return{uri:v,version:f}}p.create=w;function q(v){var f=v;return b.defined(f)&&b.string(f.uri)&&b.integer(f.version)}p.is=q})(_t=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var ke;(function(p){function w(v,f){return{uri:v,version:f}}p.create=w;function q(v){var f=v;return b.defined(f)&&b.string(f.uri)&&(f.version===null||b.integer(f.version))}p.is=q})(ke=t.OptionalVersionedTextDocumentIdentifier||(t.OptionalVersionedTextDocumentIdentifier={}));var Ze;(function(p){function w(v,f,P,D){return{uri:v,languageId:f,version:P,text:D}}p.create=w;function q(v){var f=v;return b.defined(f)&&b.string(f.uri)&&b.string(f.languageId)&&b.integer(f.version)&&b.string(f.text)}p.is=q})(Ze=t.TextDocumentItem||(t.TextDocumentItem={}));var Be;(function(p){p.PlainText="plaintext",p.Markdown="markdown"})(Be=t.MarkupKind||(t.MarkupKind={})),function(p){function w(q){var v=q;return v===p.PlainText||v===p.Markdown}p.is=w}(Be=t.MarkupKind||(t.MarkupKind={}));var Yr;(function(p){function w(q){var v=q;return b.objectLiteral(q)&&Be.is(v.kind)&&b.string(v.value)}p.is=w})(Yr=t.MarkupContent||(t.MarkupContent={}));var Di;(function(p){p.Text=1,p.Method=2,p.Function=3,p.Constructor=4,p.Field=5,p.Variable=6,p.Class=7,p.Interface=8,p.Module=9,p.Property=10,p.Unit=11,p.Value=12,p.Enum=13,p.Keyword=14,p.Snippet=15,p.Color=16,p.File=17,p.Reference=18,p.Folder=19,p.EnumMember=20,p.Constant=21,p.Struct=22,p.Event=23,p.Operator=24,p.TypeParameter=25})(Di=t.CompletionItemKind||(t.CompletionItemKind={}));var In;(function(p){p.PlainText=1,p.Snippet=2})(In=t.InsertTextFormat||(t.InsertTextFormat={}));var Es;(function(p){p.Deprecated=1})(Es=t.CompletionItemTag||(t.CompletionItemTag={}));var ng;(function(p){function w(v,f,P){return{newText:v,insert:f,replace:P}}p.create=w;function q(v){var f=v;return f&&b.string(f.newText)&&a.is(f.insert)&&a.is(f.replace)}p.is=q})(ng=t.InsertReplaceEdit||(t.InsertReplaceEdit={}));var ig;(function(p){p.asIs=1,p.adjustIndentation=2})(ig=t.InsertTextMode||(t.InsertTextMode={}));var ag;(function(p){function w(q){return{label:q}}p.create=w})(ag=t.CompletionItem||(t.CompletionItem={}));var og;(function(p){function w(q,v){return{items:q||[],isIncomplete:!!v}}p.create=w})(og=t.CompletionList||(t.CompletionList={}));var $a;(function(p){function w(v){return v.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}p.fromPlainText=w;function q(v){var f=v;return b.string(f)||b.objectLiteral(f)&&b.string(f.language)&&b.string(f.value)}p.is=q})($a=t.MarkedString||(t.MarkedString={}));var sg;(function(p){function w(q){var v=q;return!!v&&b.objectLiteral(v)&&(Yr.is(v.contents)||$a.is(v.contents)||b.typedArray(v.contents,$a.is))&&(q.range===void 0||a.is(q.range))}p.is=w})(sg=t.Hover||(t.Hover={}));var ug;(function(p){function w(q,v){return v?{label:q,documentation:v}:{label:q}}p.create=w})(ug=t.ParameterInformation||(t.ParameterInformation={}));var lg;(function(p){function w(q,v){for(var f=[],P=2;P<arguments.length;P++)f[P-2]=arguments[P];var D={label:q};return b.defined(v)&&(D.documentation=v),b.defined(f)?D.parameters=f:D.parameters=[],D}p.create=w})(lg=t.SignatureInformation||(t.SignatureInformation={}));var Ei;(function(p){p.Text=1,p.Read=2,p.Write=3})(Ei=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var dg;(function(p){function w(q,v){var f={range:q};return b.number(v)&&(f.kind=v),f}p.create=w})(dg=t.DocumentHighlight||(t.DocumentHighlight={}));var cg;(function(p){p.File=1,p.Module=2,p.Namespace=3,p.Package=4,p.Class=5,p.Method=6,p.Property=7,p.Field=8,p.Constructor=9,p.Enum=10,p.Interface=11,p.Function=12,p.Variable=13,p.Constant=14,p.String=15,p.Number=16,p.Boolean=17,p.Array=18,p.Object=19,p.Key=20,p.Null=21,p.EnumMember=22,p.Struct=23,p.Event=24,p.Operator=25,p.TypeParameter=26})(cg=t.SymbolKind||(t.SymbolKind={}));var fg;(function(p){p.Deprecated=1})(fg=t.SymbolTag||(t.SymbolTag={}));var $r;(function(p){function w(q,v,f,P,D){var H={name:q,kind:v,location:{uri:P,range:f}};return D&&(H.containerName=D),H}p.create=w})($r=t.SymbolInformation||(t.SymbolInformation={}));var kn;(function(p){function w(v,f,P,D,H,G){var re={name:v,detail:f,kind:P,range:D,selectionRange:H};return G!==void 0&&(re.children=G),re}p.create=w;function q(v){var f=v;return f&&b.string(f.name)&&b.number(f.kind)&&a.is(f.range)&&a.is(f.selectionRange)&&(f.detail===void 0||b.string(f.detail))&&(f.deprecated===void 0||b.boolean(f.deprecated))&&(f.children===void 0||Array.isArray(f.children))&&(f.tags===void 0||Array.isArray(f.tags))}p.is=q})(kn=t.DocumentSymbol||(t.DocumentSymbol={}));var pg;(function(p){p.Empty="",p.QuickFix="quickfix",p.Refactor="refactor",p.RefactorExtract="refactor.extract",p.RefactorInline="refactor.inline",p.RefactorRewrite="refactor.rewrite",p.Source="source",p.SourceOrganizeImports="source.organizeImports",p.SourceFixAll="source.fixAll"})(pg=t.CodeActionKind||(t.CodeActionKind={}));var mg;(function(p){function w(v,f){var P={diagnostics:v};return f!=null&&(P.only=f),P}p.create=w;function q(v){var f=v;return b.defined(f)&&b.typedArray(f.diagnostics,C.is)&&(f.only===void 0||b.typedArray(f.only,b.string))}p.is=q})(mg=t.CodeActionContext||(t.CodeActionContext={}));var An;(function(p){function w(v,f,P){var D={title:v},H=!0;return typeof f=="string"?(H=!1,D.kind=f):j.is(f)?D.command=f:D.edit=f,H&&P!==void 0&&(D.kind=P),D}p.create=w;function q(v){var f=v;return f&&b.string(f.title)&&(f.diagnostics===void 0||b.typedArray(f.diagnostics,C.is))&&(f.kind===void 0||b.string(f.kind))&&(f.edit!==void 0||f.command!==void 0)&&(f.command===void 0||j.is(f.command))&&(f.isPreferred===void 0||b.boolean(f.isPreferred))&&(f.edit===void 0||st.is(f.edit))}p.is=q})(An=t.CodeAction||(t.CodeAction={}));var Rs;(function(p){function w(v,f){var P={range:v};return b.defined(f)&&(P.data=f),P}p.create=w;function q(v){var f=v;return b.defined(f)&&a.is(f.range)&&(b.undefined(f.command)||j.is(f.command))}p.is=q})(Rs=t.CodeLens||(t.CodeLens={}));var js;(function(p){function w(v,f){return{tabSize:v,insertSpaces:f}}p.create=w;function q(v){var f=v;return b.defined(f)&&b.uinteger(f.tabSize)&&b.boolean(f.insertSpaces)}p.is=q})(js=t.FormattingOptions||(t.FormattingOptions={}));var Ga;(function(p){function w(v,f,P){return{range:v,target:f,data:P}}p.create=w;function q(v){var f=v;return b.defined(f)&&a.is(f.range)&&(b.undefined(f.target)||b.string(f.target))}p.is=q})(Ga=t.DocumentLink||(t.DocumentLink={}));var Is;(function(p){function w(v,f){return{range:v,parent:f}}p.create=w;function q(v){var f=v;return f!==void 0&&a.is(f.range)&&(f.parent===void 0||p.is(f.parent))}p.is=q})(Is=t.SelectionRange||(t.SelectionRange={})),t.EOL=[`
`,`\r
`,"\r"];var Gr;(function(p){function w(P,D,H,G){return new O(P,D,H,G)}p.create=w;function q(P){var D=P;return!!(b.defined(D)&&b.string(D.uri)&&(b.undefined(D.languageId)||b.string(D.languageId))&&b.uinteger(D.lineCount)&&b.func(D.getText)&&b.func(D.positionAt)&&b.func(D.offsetAt))}p.is=q;function v(P,D){for(var H=P.getText(),G=f(D,function(Ri,ks){var Eb=Ri.range.start.line-ks.range.start.line;return Eb===0?Ri.range.start.character-ks.range.start.character:Eb}),re=H.length,we=G.length-1;we>=0;we--){var ze=G[we],et=P.offsetAt(ze.range.start),ae=P.offsetAt(ze.range.end);if(ae<=re)H=H.substring(0,et)+ze.newText+H.substring(ae,H.length);else throw new Error("Overlapping edit");re=et}return H}p.applyEdits=v;function f(P,D){if(P.length<=1)return P;var H=P.length/2|0,G=P.slice(0,H),re=P.slice(H);f(G,D),f(re,D);for(var we=0,ze=0,et=0;we<G.length&&ze<re.length;){var ae=D(G[we],re[ze]);ae<=0?P[et++]=G[we++]:P[et++]=re[ze++]}for(;we<G.length;)P[et++]=G[we++];for(;ze<re.length;)P[et++]=re[ze++];return P}})(Gr=t.TextDocument||(t.TextDocument={}));var O=function(){function p(w,q,v,f){this._uri=w,this._languageId=q,this._version=v,this._content=f,this._lineOffsets=void 0}return Object.defineProperty(p.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),p.prototype.getText=function(w){if(w){var q=this.offsetAt(w.start),v=this.offsetAt(w.end);return this._content.substring(q,v)}return this._content},p.prototype.update=function(w,q){this._content=w.text,this._version=q,this._lineOffsets=void 0},p.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var w=[],q=this._content,v=!0,f=0;f<q.length;f++){v&&(w.push(f),v=!1);var P=q.charAt(f);v=P==="\r"||P===`
`,P==="\r"&&f+1<q.length&&q.charAt(f+1)===`
`&&f++}v&&q.length>0&&w.push(q.length),this._lineOffsets=w}return this._lineOffsets},p.prototype.positionAt=function(w){w=Math.max(Math.min(w,this._content.length),0);var q=this.getLineOffsets(),v=0,f=q.length;if(f===0)return i.create(0,w);for(;v<f;){var P=Math.floor((v+f)/2);q[P]>w?f=P:v=P+1}var D=v-1;return i.create(D,w-q[D])},p.prototype.offsetAt=function(w){var q=this.getLineOffsets();if(w.line>=q.length)return this._content.length;if(w.line<0)return 0;var v=q[w.line],f=w.line+1<q.length?q[w.line+1]:this._content.length;return Math.max(Math.min(v+w.character,f),v)},Object.defineProperty(p.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),p}(),b;(function(p){var w=Object.prototype.toString;function q(ae){return typeof ae!="undefined"}p.defined=q;function v(ae){return typeof ae=="undefined"}p.undefined=v;function f(ae){return ae===!0||ae===!1}p.boolean=f;function P(ae){return w.call(ae)==="[object String]"}p.string=P;function D(ae){return w.call(ae)==="[object Number]"}p.number=D;function H(ae,Ri,ks){return w.call(ae)==="[object Number]"&&Ri<=ae&&ae<=ks}p.numberRange=H;function G(ae){return w.call(ae)==="[object Number]"&&-2147483648<=ae&&ae<=2147483647}p.integer=G;function re(ae){return w.call(ae)==="[object Number]"&&0<=ae&&ae<=2147483647}p.uinteger=re;function we(ae){return w.call(ae)==="[object Function]"}p.func=we;function ze(ae){return ae!==null&&typeof ae=="object"}p.objectLiteral=ze;function et(ae,Ri){return Array.isArray(ae)&&ae.every(Ri)}p.typedArray=et})(b||(b={}))})});var at=g(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.ProtocolNotificationType=Lt.ProtocolNotificationType0=Lt.ProtocolRequestType=Lt.ProtocolRequestType0=Lt.RegistrationType=void 0;var wa=ba(),nM=class{constructor(t){this.method=t}};Lt.RegistrationType=nM;var iM=class extends wa.RequestType0{constructor(t){super(t)}};Lt.ProtocolRequestType0=iM;var aM=class extends wa.RequestType{constructor(t){super(t,wa.ParameterStructures.byName)}};Lt.ProtocolRequestType=aM;var oM=class extends wa.NotificationType0{constructor(t){super(t)}};Lt.ProtocolNotificationType0=oM;var sM=class extends wa.NotificationType{constructor(t){super(t,wa.ParameterStructures.byName)}};Lt.ProtocolNotificationType=sM});var dM=g($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.objectLiteral=$e.typedArray=$e.stringArray=$e.array=$e.func=$e.error=$e.number=$e.string=$e.boolean=void 0;function IY(e){return e===!0||e===!1}$e.boolean=IY;function uM(e){return typeof e=="string"||e instanceof String}$e.string=uM;function kY(e){return typeof e=="number"||e instanceof Number}$e.number=kY;function AY(e){return e instanceof Error}$e.error=AY;function LY(e){return typeof e=="function"}$e.func=LY;function lM(e){return Array.isArray(e)}$e.array=lM;function WY(e){return lM(e)&&e.every(t=>uM(t))}$e.stringArray=WY;function FY(e,t){return Array.isArray(e)&&e.every(t)}$e.typedArray=FY;function BY(e){return e!==null&&typeof e=="object"}$e.objectLiteral=BY});var cM=g(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.ImplementationRequest=void 0;var HY=at(),UY;(function(e){e.method="textDocument/implementation",e.type=new HY.ProtocolRequestType(e.method)})(UY=Eo.ImplementationRequest||(Eo.ImplementationRequest={}))});var fM=g(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.TypeDefinitionRequest=void 0;var YY=at(),$Y;(function(e){e.method="textDocument/typeDefinition",e.type=new YY.ProtocolRequestType(e.method)})($Y=Ro.TypeDefinitionRequest||(Ro.TypeDefinitionRequest={}))});var mM=g(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.DidChangeWorkspaceFoldersNotification=fn.WorkspaceFoldersRequest=void 0;var pM=at(),GY;(function(e){e.type=new pM.ProtocolRequestType0("workspace/workspaceFolders")})(GY=fn.WorkspaceFoldersRequest||(fn.WorkspaceFoldersRequest={}));var VY;(function(e){e.type=new pM.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(VY=fn.DidChangeWorkspaceFoldersNotification||(fn.DidChangeWorkspaceFoldersNotification={}))});var gM=g(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.ConfigurationRequest=void 0;var zY=at(),QY;(function(e){e.type=new zY.ProtocolRequestType("workspace/configuration")})(QY=jo.ConfigurationRequest||(jo.ConfigurationRequest={}))});var vM=g(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.ColorPresentationRequest=pn.DocumentColorRequest=void 0;var hM=at(),KY;(function(e){e.method="textDocument/documentColor",e.type=new hM.ProtocolRequestType(e.method)})(KY=pn.DocumentColorRequest||(pn.DocumentColorRequest={}));var XY;(function(e){e.type=new hM.ProtocolRequestType("textDocument/colorPresentation")})(XY=pn.ColorPresentationRequest||(pn.ColorPresentationRequest={}))});var yM=g(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.FoldingRangeRequest=mn.FoldingRangeKind=void 0;var JY=at(),ZY;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(ZY=mn.FoldingRangeKind||(mn.FoldingRangeKind={}));var e$;(function(e){e.method="textDocument/foldingRange",e.type=new JY.ProtocolRequestType(e.method)})(e$=mn.FoldingRangeRequest||(mn.FoldingRangeRequest={}))});var xM=g(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.DeclarationRequest=void 0;var t$=at(),r$;(function(e){e.method="textDocument/declaration",e.type=new t$.ProtocolRequestType(e.method)})(r$=Io.DeclarationRequest||(Io.DeclarationRequest={}))});var bM=g(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.SelectionRangeRequest=void 0;var n$=at(),i$;(function(e){e.method="textDocument/selectionRange",e.type=new n$.ProtocolRequestType(e.method)})(i$=ko.SelectionRangeRequest||(ko.SelectionRangeRequest={}))});var _M=g(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.WorkDoneProgressCancelNotification=zt.WorkDoneProgressCreateRequest=zt.WorkDoneProgress=void 0;var a$=ba(),wM=at(),o$;(function(e){e.type=new a$.ProgressType;function t(r){return r===e.type}e.is=t})(o$=zt.WorkDoneProgress||(zt.WorkDoneProgress={}));var s$;(function(e){e.type=new wM.ProtocolRequestType("window/workDoneProgress/create")})(s$=zt.WorkDoneProgressCreateRequest||(zt.WorkDoneProgressCreateRequest={}));var u$;(function(e){e.type=new wM.ProtocolNotificationType("window/workDoneProgress/cancel")})(u$=zt.WorkDoneProgressCancelNotification||(zt.WorkDoneProgressCancelNotification={}))});var OM=g(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.CallHierarchyOutgoingCallsRequest=Qt.CallHierarchyIncomingCallsRequest=Qt.CallHierarchyPrepareRequest=void 0;var lv=at(),l$;(function(e){e.method="textDocument/prepareCallHierarchy",e.type=new lv.ProtocolRequestType(e.method)})(l$=Qt.CallHierarchyPrepareRequest||(Qt.CallHierarchyPrepareRequest={}));var d$;(function(e){e.method="callHierarchy/incomingCalls",e.type=new lv.ProtocolRequestType(e.method)})(d$=Qt.CallHierarchyIncomingCallsRequest||(Qt.CallHierarchyIncomingCallsRequest={}));var c$;(function(e){e.method="callHierarchy/outgoingCalls",e.type=new lv.ProtocolRequestType(e.method)})(c$=Qt.CallHierarchyOutgoingCallsRequest||(Qt.CallHierarchyOutgoingCallsRequest={}))});var TM=g(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.SemanticTokensRefreshRequest=ge.SemanticTokensRangeRequest=ge.SemanticTokensDeltaRequest=ge.SemanticTokensRequest=ge.SemanticTokensRegistrationType=ge.TokenFormat=ge.SemanticTokens=ge.SemanticTokenModifiers=ge.SemanticTokenTypes=void 0;var Ao=at(),f$;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator"})(f$=ge.SemanticTokenTypes||(ge.SemanticTokenTypes={}));var p$;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(p$=ge.SemanticTokenModifiers||(ge.SemanticTokenModifiers={}));var m$;(function(e){function t(r){let n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(m$=ge.SemanticTokens||(ge.SemanticTokens={}));var g$;(function(e){e.Relative="relative"})(g$=ge.TokenFormat||(ge.TokenFormat={}));var h$;(function(e){e.method="textDocument/semanticTokens",e.type=new Ao.RegistrationType(e.method)})(h$=ge.SemanticTokensRegistrationType||(ge.SemanticTokensRegistrationType={}));var v$;(function(e){e.method="textDocument/semanticTokens/full",e.type=new Ao.ProtocolRequestType(e.method)})(v$=ge.SemanticTokensRequest||(ge.SemanticTokensRequest={}));var y$;(function(e){e.method="textDocument/semanticTokens/full/delta",e.type=new Ao.ProtocolRequestType(e.method)})(y$=ge.SemanticTokensDeltaRequest||(ge.SemanticTokensDeltaRequest={}));var x$;(function(e){e.method="textDocument/semanticTokens/range",e.type=new Ao.ProtocolRequestType(e.method)})(x$=ge.SemanticTokensRangeRequest||(ge.SemanticTokensRangeRequest={}));var b$;(function(e){e.method="workspace/semanticTokens/refresh",e.type=new Ao.ProtocolRequestType0(e.method)})(b$=ge.SemanticTokensRefreshRequest||(ge.SemanticTokensRefreshRequest={}))});var SM=g(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.ShowDocumentRequest=void 0;var w$=at(),_$;(function(e){e.method="window/showDocument",e.type=new w$.ProtocolRequestType(e.method)})(_$=Lo.ShowDocumentRequest||(Lo.ShowDocumentRequest={}))});var MM=g(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.LinkedEditingRangeRequest=void 0;var O$=at(),T$;(function(e){e.method="textDocument/linkedEditingRange",e.type=new O$.ProtocolRequestType(e.method)})(T$=Wo.LinkedEditingRangeRequest||(Wo.LinkedEditingRangeRequest={}))});var qM=g(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.WillDeleteFilesRequest=Ee.DidDeleteFilesNotification=Ee.DidRenameFilesNotification=Ee.WillRenameFilesRequest=Ee.DidCreateFilesNotification=Ee.WillCreateFilesRequest=Ee.FileOperationPatternKind=void 0;var _a=at(),S$;(function(e){e.file="file",e.folder="folder"})(S$=Ee.FileOperationPatternKind||(Ee.FileOperationPatternKind={}));var M$;(function(e){e.method="workspace/willCreateFiles",e.type=new _a.ProtocolRequestType(e.method)})(M$=Ee.WillCreateFilesRequest||(Ee.WillCreateFilesRequest={}));var q$;(function(e){e.method="workspace/didCreateFiles",e.type=new _a.ProtocolNotificationType(e.method)})(q$=Ee.DidCreateFilesNotification||(Ee.DidCreateFilesNotification={}));var N$;(function(e){e.method="workspace/willRenameFiles",e.type=new _a.ProtocolRequestType(e.method)})(N$=Ee.WillRenameFilesRequest||(Ee.WillRenameFilesRequest={}));var P$;(function(e){e.method="workspace/didRenameFiles",e.type=new _a.ProtocolNotificationType(e.method)})(P$=Ee.DidRenameFilesNotification||(Ee.DidRenameFilesNotification={}));var C$;(function(e){e.method="workspace/didDeleteFiles",e.type=new _a.ProtocolNotificationType(e.method)})(C$=Ee.DidDeleteFilesNotification||(Ee.DidDeleteFilesNotification={}));var D$;(function(e){e.method="workspace/willDeleteFiles",e.type=new _a.ProtocolRequestType(e.method)})(D$=Ee.WillDeleteFilesRequest||(Ee.WillDeleteFilesRequest={}))});var NM=g(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.MonikerRequest=Kt.MonikerKind=Kt.UniquenessLevel=void 0;var E$=at(),R$;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(R$=Kt.UniquenessLevel||(Kt.UniquenessLevel={}));var j$;(function(e){e.import="import",e.export="export",e.local="local"})(j$=Kt.MonikerKind||(Kt.MonikerKind={}));var I$;(function(e){e.method="textDocument/moniker",e.type=new E$.ProtocolRequestType(e.method)})(I$=Kt.MonikerRequest||(Kt.MonikerRequest={}))});var RM=g(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.DocumentLinkRequest=y.CodeLensRefreshRequest=y.CodeLensResolveRequest=y.CodeLensRequest=y.WorkspaceSymbolRequest=y.CodeActionResolveRequest=y.CodeActionRequest=y.DocumentSymbolRequest=y.DocumentHighlightRequest=y.ReferencesRequest=y.DefinitionRequest=y.SignatureHelpRequest=y.SignatureHelpTriggerKind=y.HoverRequest=y.CompletionResolveRequest=y.CompletionRequest=y.CompletionTriggerKind=y.PublishDiagnosticsNotification=y.WatchKind=y.FileChangeType=y.DidChangeWatchedFilesNotification=y.WillSaveTextDocumentWaitUntilRequest=y.WillSaveTextDocumentNotification=y.TextDocumentSaveReason=y.DidSaveTextDocumentNotification=y.DidCloseTextDocumentNotification=y.DidChangeTextDocumentNotification=y.TextDocumentContentChangeEvent=y.DidOpenTextDocumentNotification=y.TextDocumentSyncKind=y.TelemetryEventNotification=y.LogMessageNotification=y.ShowMessageRequest=y.ShowMessageNotification=y.MessageType=y.DidChangeConfigurationNotification=y.ExitNotification=y.ShutdownRequest=y.InitializedNotification=y.InitializeError=y.InitializeRequest=y.WorkDoneProgressOptions=y.TextDocumentRegistrationOptions=y.StaticRegistrationOptions=y.FailureHandlingKind=y.ResourceOperationKind=y.UnregistrationRequest=y.RegistrationRequest=y.DocumentSelector=y.DocumentFilter=void 0;y.MonikerRequest=y.MonikerKind=y.UniquenessLevel=y.WillDeleteFilesRequest=y.DidDeleteFilesNotification=y.WillRenameFilesRequest=y.DidRenameFilesNotification=y.WillCreateFilesRequest=y.DidCreateFilesNotification=y.FileOperationPatternKind=y.LinkedEditingRangeRequest=y.ShowDocumentRequest=y.SemanticTokensRegistrationType=y.SemanticTokensRefreshRequest=y.SemanticTokensRangeRequest=y.SemanticTokensDeltaRequest=y.SemanticTokensRequest=y.TokenFormat=y.SemanticTokens=y.SemanticTokenModifiers=y.SemanticTokenTypes=y.CallHierarchyPrepareRequest=y.CallHierarchyOutgoingCallsRequest=y.CallHierarchyIncomingCallsRequest=y.WorkDoneProgressCancelNotification=y.WorkDoneProgressCreateRequest=y.WorkDoneProgress=y.SelectionRangeRequest=y.DeclarationRequest=y.FoldingRangeRequest=y.ColorPresentationRequest=y.DocumentColorRequest=y.ConfigurationRequest=y.DidChangeWorkspaceFoldersNotification=y.WorkspaceFoldersRequest=y.TypeDefinitionRequest=y.ImplementationRequest=y.ApplyWorkspaceEditRequest=y.ExecuteCommandRequest=y.PrepareRenameRequest=y.RenameRequest=y.PrepareSupportDefaultBehavior=y.DocumentOnTypeFormattingRequest=y.DocumentRangeFormattingRequest=y.DocumentFormattingRequest=y.DocumentLinkResolveRequest=void 0;var gn=dM(),ee=at(),k$=cM();Object.defineProperty(y,"ImplementationRequest",{enumerable:!0,get:function(){return k$.ImplementationRequest}});var A$=fM();Object.defineProperty(y,"TypeDefinitionRequest",{enumerable:!0,get:function(){return A$.TypeDefinitionRequest}});var PM=mM();Object.defineProperty(y,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return PM.WorkspaceFoldersRequest}});Object.defineProperty(y,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return PM.DidChangeWorkspaceFoldersNotification}});var L$=gM();Object.defineProperty(y,"ConfigurationRequest",{enumerable:!0,get:function(){return L$.ConfigurationRequest}});var CM=vM();Object.defineProperty(y,"DocumentColorRequest",{enumerable:!0,get:function(){return CM.DocumentColorRequest}});Object.defineProperty(y,"ColorPresentationRequest",{enumerable:!0,get:function(){return CM.ColorPresentationRequest}});var W$=yM();Object.defineProperty(y,"FoldingRangeRequest",{enumerable:!0,get:function(){return W$.FoldingRangeRequest}});var F$=xM();Object.defineProperty(y,"DeclarationRequest",{enumerable:!0,get:function(){return F$.DeclarationRequest}});var B$=bM();Object.defineProperty(y,"SelectionRangeRequest",{enumerable:!0,get:function(){return B$.SelectionRangeRequest}});var dv=_M();Object.defineProperty(y,"WorkDoneProgress",{enumerable:!0,get:function(){return dv.WorkDoneProgress}});Object.defineProperty(y,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return dv.WorkDoneProgressCreateRequest}});Object.defineProperty(y,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return dv.WorkDoneProgressCancelNotification}});var cv=OM();Object.defineProperty(y,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return cv.CallHierarchyIncomingCallsRequest}});Object.defineProperty(y,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return cv.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(y,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return cv.CallHierarchyPrepareRequest}});var Er=TM();Object.defineProperty(y,"SemanticTokenTypes",{enumerable:!0,get:function(){return Er.SemanticTokenTypes}});Object.defineProperty(y,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Er.SemanticTokenModifiers}});Object.defineProperty(y,"SemanticTokens",{enumerable:!0,get:function(){return Er.SemanticTokens}});Object.defineProperty(y,"TokenFormat",{enumerable:!0,get:function(){return Er.TokenFormat}});Object.defineProperty(y,"SemanticTokensRequest",{enumerable:!0,get:function(){return Er.SemanticTokensRequest}});Object.defineProperty(y,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Er.SemanticTokensDeltaRequest}});Object.defineProperty(y,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Er.SemanticTokensRangeRequest}});Object.defineProperty(y,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Er.SemanticTokensRefreshRequest}});Object.defineProperty(y,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Er.SemanticTokensRegistrationType}});var H$=SM();Object.defineProperty(y,"ShowDocumentRequest",{enumerable:!0,get:function(){return H$.ShowDocumentRequest}});var U$=MM();Object.defineProperty(y,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return U$.LinkedEditingRangeRequest}});var ai=qM();Object.defineProperty(y,"FileOperationPatternKind",{enumerable:!0,get:function(){return ai.FileOperationPatternKind}});Object.defineProperty(y,"DidCreateFilesNotification",{enumerable:!0,get:function(){return ai.DidCreateFilesNotification}});Object.defineProperty(y,"WillCreateFilesRequest",{enumerable:!0,get:function(){return ai.WillCreateFilesRequest}});Object.defineProperty(y,"DidRenameFilesNotification",{enumerable:!0,get:function(){return ai.DidRenameFilesNotification}});Object.defineProperty(y,"WillRenameFilesRequest",{enumerable:!0,get:function(){return ai.WillRenameFilesRequest}});Object.defineProperty(y,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return ai.DidDeleteFilesNotification}});Object.defineProperty(y,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return ai.WillDeleteFilesRequest}});var fv=NM();Object.defineProperty(y,"UniquenessLevel",{enumerable:!0,get:function(){return fv.UniquenessLevel}});Object.defineProperty(y,"MonikerKind",{enumerable:!0,get:function(){return fv.MonikerKind}});Object.defineProperty(y,"MonikerRequest",{enumerable:!0,get:function(){return fv.MonikerRequest}});var DM;(function(e){function t(r){let n=r;return gn.string(n.language)||gn.string(n.scheme)||gn.string(n.pattern)}e.is=t})(DM=y.DocumentFilter||(y.DocumentFilter={}));var EM;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!gn.string(n)&&!DM.is(n))return!1;return!0}e.is=t})(EM=y.DocumentSelector||(y.DocumentSelector={}));var Y$;(function(e){e.type=new ee.ProtocolRequestType("client/registerCapability")})(Y$=y.RegistrationRequest||(y.RegistrationRequest={}));var $$;(function(e){e.type=new ee.ProtocolRequestType("client/unregisterCapability")})($$=y.UnregistrationRequest||(y.UnregistrationRequest={}));var G$;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(G$=y.ResourceOperationKind||(y.ResourceOperationKind={}));var V$;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(V$=y.FailureHandlingKind||(y.FailureHandlingKind={}));var z$;(function(e){function t(r){let n=r;return n&&gn.string(n.id)&&n.id.length>0}e.hasId=t})(z$=y.StaticRegistrationOptions||(y.StaticRegistrationOptions={}));var Q$;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||EM.is(n.documentSelector))}e.is=t})(Q$=y.TextDocumentRegistrationOptions||(y.TextDocumentRegistrationOptions={}));var K$;(function(e){function t(n){let i=n;return gn.objectLiteral(i)&&(i.workDoneProgress===void 0||gn.boolean(i.workDoneProgress))}e.is=t;function r(n){let i=n;return i&&gn.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(K$=y.WorkDoneProgressOptions||(y.WorkDoneProgressOptions={}));var X$;(function(e){e.type=new ee.ProtocolRequestType("initialize")})(X$=y.InitializeRequest||(y.InitializeRequest={}));var J$;(function(e){e.unknownProtocolVersion=1})(J$=y.InitializeError||(y.InitializeError={}));var Z$;(function(e){e.type=new ee.ProtocolNotificationType("initialized")})(Z$=y.InitializedNotification||(y.InitializedNotification={}));var e6;(function(e){e.type=new ee.ProtocolRequestType0("shutdown")})(e6=y.ShutdownRequest||(y.ShutdownRequest={}));var t6;(function(e){e.type=new ee.ProtocolNotificationType0("exit")})(t6=y.ExitNotification||(y.ExitNotification={}));var r6;(function(e){e.type=new ee.ProtocolNotificationType("workspace/didChangeConfiguration")})(r6=y.DidChangeConfigurationNotification||(y.DidChangeConfigurationNotification={}));var n6;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(n6=y.MessageType||(y.MessageType={}));var i6;(function(e){e.type=new ee.ProtocolNotificationType("window/showMessage")})(i6=y.ShowMessageNotification||(y.ShowMessageNotification={}));var a6;(function(e){e.type=new ee.ProtocolRequestType("window/showMessageRequest")})(a6=y.ShowMessageRequest||(y.ShowMessageRequest={}));var o6;(function(e){e.type=new ee.ProtocolNotificationType("window/logMessage")})(o6=y.LogMessageNotification||(y.LogMessageNotification={}));var s6;(function(e){e.type=new ee.ProtocolNotificationType("telemetry/event")})(s6=y.TelemetryEventNotification||(y.TelemetryEventNotification={}));var u6;(function(e){e.None=0,e.Full=1,e.Incremental=2})(u6=y.TextDocumentSyncKind||(y.TextDocumentSyncKind={}));var l6;(function(e){e.method="textDocument/didOpen",e.type=new ee.ProtocolNotificationType(e.method)})(l6=y.DidOpenTextDocumentNotification||(y.DidOpenTextDocumentNotification={}));var d6;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}e.isFull=r})(d6=y.TextDocumentContentChangeEvent||(y.TextDocumentContentChangeEvent={}));var c6;(function(e){e.method="textDocument/didChange",e.type=new ee.ProtocolNotificationType(e.method)})(c6=y.DidChangeTextDocumentNotification||(y.DidChangeTextDocumentNotification={}));var f6;(function(e){e.method="textDocument/didClose",e.type=new ee.ProtocolNotificationType(e.method)})(f6=y.DidCloseTextDocumentNotification||(y.DidCloseTextDocumentNotification={}));var p6;(function(e){e.method="textDocument/didSave",e.type=new ee.ProtocolNotificationType(e.method)})(p6=y.DidSaveTextDocumentNotification||(y.DidSaveTextDocumentNotification={}));var m6;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(m6=y.TextDocumentSaveReason||(y.TextDocumentSaveReason={}));var g6;(function(e){e.method="textDocument/willSave",e.type=new ee.ProtocolNotificationType(e.method)})(g6=y.WillSaveTextDocumentNotification||(y.WillSaveTextDocumentNotification={}));var h6;(function(e){e.method="textDocument/willSaveWaitUntil",e.type=new ee.ProtocolRequestType(e.method)})(h6=y.WillSaveTextDocumentWaitUntilRequest||(y.WillSaveTextDocumentWaitUntilRequest={}));var v6;(function(e){e.type=new ee.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(v6=y.DidChangeWatchedFilesNotification||(y.DidChangeWatchedFilesNotification={}));var y6;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(y6=y.FileChangeType||(y.FileChangeType={}));var x6;(function(e){e.Create=1,e.Change=2,e.Delete=4})(x6=y.WatchKind||(y.WatchKind={}));var b6;(function(e){e.type=new ee.ProtocolNotificationType("textDocument/publishDiagnostics")})(b6=y.PublishDiagnosticsNotification||(y.PublishDiagnosticsNotification={}));var w6;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(w6=y.CompletionTriggerKind||(y.CompletionTriggerKind={}));var _6;(function(e){e.method="textDocument/completion",e.type=new ee.ProtocolRequestType(e.method)})(_6=y.CompletionRequest||(y.CompletionRequest={}));var O6;(function(e){e.method="completionItem/resolve",e.type=new ee.ProtocolRequestType(e.method)})(O6=y.CompletionResolveRequest||(y.CompletionResolveRequest={}));var T6;(function(e){e.method="textDocument/hover",e.type=new ee.ProtocolRequestType(e.method)})(T6=y.HoverRequest||(y.HoverRequest={}));var S6;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(S6=y.SignatureHelpTriggerKind||(y.SignatureHelpTriggerKind={}));var M6;(function(e){e.method="textDocument/signatureHelp",e.type=new ee.ProtocolRequestType(e.method)})(M6=y.SignatureHelpRequest||(y.SignatureHelpRequest={}));var q6;(function(e){e.method="textDocument/definition",e.type=new ee.ProtocolRequestType(e.method)})(q6=y.DefinitionRequest||(y.DefinitionRequest={}));var N6;(function(e){e.method="textDocument/references",e.type=new ee.ProtocolRequestType(e.method)})(N6=y.ReferencesRequest||(y.ReferencesRequest={}));var P6;(function(e){e.method="textDocument/documentHighlight",e.type=new ee.ProtocolRequestType(e.method)})(P6=y.DocumentHighlightRequest||(y.DocumentHighlightRequest={}));var C6;(function(e){e.method="textDocument/documentSymbol",e.type=new ee.ProtocolRequestType(e.method)})(C6=y.DocumentSymbolRequest||(y.DocumentSymbolRequest={}));var D6;(function(e){e.method="textDocument/codeAction",e.type=new ee.ProtocolRequestType(e.method)})(D6=y.CodeActionRequest||(y.CodeActionRequest={}));var E6;(function(e){e.method="codeAction/resolve",e.type=new ee.ProtocolRequestType(e.method)})(E6=y.CodeActionResolveRequest||(y.CodeActionResolveRequest={}));var R6;(function(e){e.method="workspace/symbol",e.type=new ee.ProtocolRequestType(e.method)})(R6=y.WorkspaceSymbolRequest||(y.WorkspaceSymbolRequest={}));var j6;(function(e){e.method="textDocument/codeLens",e.type=new ee.ProtocolRequestType(e.method)})(j6=y.CodeLensRequest||(y.CodeLensRequest={}));var I6;(function(e){e.method="codeLens/resolve",e.type=new ee.ProtocolRequestType(e.method)})(I6=y.CodeLensResolveRequest||(y.CodeLensResolveRequest={}));var k6;(function(e){e.method="workspace/codeLens/refresh",e.type=new ee.ProtocolRequestType0(e.method)})(k6=y.CodeLensRefreshRequest||(y.CodeLensRefreshRequest={}));var A6;(function(e){e.method="textDocument/documentLink",e.type=new ee.ProtocolRequestType(e.method)})(A6=y.DocumentLinkRequest||(y.DocumentLinkRequest={}));var L6;(function(e){e.method="documentLink/resolve",e.type=new ee.ProtocolRequestType(e.method)})(L6=y.DocumentLinkResolveRequest||(y.DocumentLinkResolveRequest={}));var W6;(function(e){e.method="textDocument/formatting",e.type=new ee.ProtocolRequestType(e.method)})(W6=y.DocumentFormattingRequest||(y.DocumentFormattingRequest={}));var F6;(function(e){e.method="textDocument/rangeFormatting",e.type=new ee.ProtocolRequestType(e.method)})(F6=y.DocumentRangeFormattingRequest||(y.DocumentRangeFormattingRequest={}));var B6;(function(e){e.method="textDocument/onTypeFormatting",e.type=new ee.ProtocolRequestType(e.method)})(B6=y.DocumentOnTypeFormattingRequest||(y.DocumentOnTypeFormattingRequest={}));var H6;(function(e){e.Identifier=1})(H6=y.PrepareSupportDefaultBehavior||(y.PrepareSupportDefaultBehavior={}));var U6;(function(e){e.method="textDocument/rename",e.type=new ee.ProtocolRequestType(e.method)})(U6=y.RenameRequest||(y.RenameRequest={}));var Y6;(function(e){e.method="textDocument/prepareRename",e.type=new ee.ProtocolRequestType(e.method)})(Y6=y.PrepareRenameRequest||(y.PrepareRenameRequest={}));var $6;(function(e){e.type=new ee.ProtocolRequestType("workspace/executeCommand")})($6=y.ExecuteCommandRequest||(y.ExecuteCommandRequest={}));var G6;(function(e){e.type=new ee.ProtocolRequestType("workspace/applyEdit")})(G6=y.ApplyWorkspaceEditRequest||(y.ApplyWorkspaceEditRequest={}))});var IM=g(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.createProtocolConnection=void 0;var jM=ba();function V6(e,t,r,n){return jM.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),jM.createMessageConnection(e,t,r,n)}gl.createProtocolConnection=V6});var kM=g(xt=>{"use strict";var z6=xt&&xt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hl=xt&&xt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&z6(t,e,r)};Object.defineProperty(xt,"__esModule",{value:!0});xt.LSPErrorCodes=xt.createProtocolConnection=void 0;hl(ba(),xt);hl(uv(),xt);hl(at(),xt);hl(RM(),xt);var Q6=IM();Object.defineProperty(xt,"createProtocolConnection",{enumerable:!0,get:function(){return Q6.createProtocolConnection}});var K6;(function(e){e.lspReservedErrorRangeStart=-32899,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(K6=xt.LSPErrorCodes||(xt.LSPErrorCodes={}))});var Fo=g(sr=>{"use strict";var X6=sr&&sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),AM=sr&&sr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&X6(t,e,r)};Object.defineProperty(sr,"__esModule",{value:!0});sr.createProtocolConnection=void 0;var J6=sv();AM(sv(),sr);AM(kM(),sr);function Z6(e,t,r,n){return J6.createMessageConnection(e,t,r,n)}sr.createProtocolConnection=Z6});var WM=g((owe,LM)=>{"use strict";LM.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var pv=g((swe,FM)=>{var Bo=WM(),BM={};for(let e of Object.keys(Bo))BM[Bo[e]]=e;var Y={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};FM.exports=Y;for(let e of Object.keys(Y)){if(!("channels"in Y[e]))throw new Error("missing channels property: "+e);if(!("labels"in Y[e]))throw new Error("missing channel labels property: "+e);if(Y[e].labels.length!==Y[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=Y[e];delete Y[e].channels,delete Y[e].labels,Object.defineProperty(Y[e],"channels",{value:t}),Object.defineProperty(Y[e],"labels",{value:r})}Y.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=a-i,s,u;a===i?s=0:t===a?s=(r-n)/o:r===a?s=2+(n-t)/o:n===a&&(s=4+(t-r)/o),s=Math.min(s*60,360),s<0&&(s+=360);let l=(i+a)/2;return a===i?u=0:l<=.5?u=o/(a+i):u=o/(2-a-i),[s,u*100,l*100]};Y.rgb.hsv=function(e){let t,r,n,i,a,o=e[0]/255,s=e[1]/255,u=e[2]/255,l=Math.max(o,s,u),d=l-Math.min(o,s,u),c=function(m){return(l-m)/6/d+1/2};return d===0?(i=0,a=0):(a=d/l,t=c(o),r=c(s),n=c(u),o===l?i=n-r:s===l?i=1/3+t-n:u===l&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,a*100,l*100]};Y.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=Y.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,a*100,n*100]};Y.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),a=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,s=(1-n-i)/(1-i)||0;return[a*100,o*100,s*100,i*100]};function eG(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}Y.rgb.keyword=function(e){let t=BM[e];if(t)return t;let r=Infinity,n;for(let i of Object.keys(Bo)){let a=Bo[i],o=eG(e,a);o<r&&(r=o,n=i)}return n};Y.keyword.rgb=function(e){return Bo[e]};Y.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,a=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,a*100,o*100]};Y.rgb.lab=function(e){let t=Y.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let a=116*n-16,o=500*(r-n),s=200*(n-i);return[a,o,s]};Y.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,a,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let s=2*n-i,u=[0,0,0];for(let l=0;l<3;l++)a=t+1/3*-(l-1),a<0&&a++,a>1&&a--,6*a<1?o=s+(i-s)*6*a:2*a<1?o=i:3*a<2?o=s+(i-s)*(2/3-a)*6:o=s,u[l]=o*255;return u};Y.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,a=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=a<=1?a:2-a;let o=(n+r)/2,s=n===0?2*i/(a+i):2*r/(n+r);return[t,s*100,o*100]};Y.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,a=t-Math.floor(t),o=255*n*(1-r),s=255*n*(1-r*a),u=255*n*(1-r*(1-a));switch(n*=255,i){case 0:return[n,u,o];case 1:return[s,n,o];case 2:return[o,n,u];case 3:return[o,s,n];case 4:return[u,o,n];case 5:return[n,o,s]}};Y.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),a,o;o=(2-r)*n;let s=(2-r)*i;return a=r*i,a/=s<=1?s:2-s,a=a||0,o/=2,[t,a*100,o*100]};Y.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,a;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),s=1-n;a=6*t-o,(o&1)!=0&&(a=1-a);let u=r+a*(s-r),l,d,c;switch(o){default:case 6:case 0:l=s,d=u,c=r;break;case 1:l=u,d=s,c=r;break;case 2:l=r,d=s,c=u;break;case 3:l=r,d=u,c=s;break;case 4:l=u,d=r,c=s;break;case 5:l=s,d=r,c=u;break}return[l*255,d*255,c*255]};Y.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,a=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),s=1-Math.min(1,n*(1-i)+i);return[a*255,o*255,s*255]};Y.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,a,o;return i=t*3.2406+r*-1.5372+n*-.4986,a=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[i*255,a*255,o*255]};Y.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,a=500*(t-r),o=200*(r-n);return[i,a,o]};Y.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,a,o;a=(t+16)/116,i=r/500+a,o=a-n/200;let s=a**3,u=i**3,l=o**3;return a=s>.008856?s:(a-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=l>.008856?l:(o-16/116)/7.787,i*=95.047,a*=100,o*=108.883,[i,a,o]};Y.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};Y.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,a=r*Math.cos(i),o=r*Math.sin(i);return[t,a,o]};Y.rgb.ansi16=function(e,t=null){let[r,n,i]=e,a=t===null?Y.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),a===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return a===2&&(o+=60),o};Y.hsv.ansi16=function(e){return Y.rgb.ansi16(Y.hsv.rgb(e),e[2])};Y.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};Y.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,a=(t>>2&1)*r*255;return[n,i,a]};Y.ansi256.rgb=function(e){if(e>=232){let a=(e-232)*10+8;return[a,a,a]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};Y.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};Y.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(s=>s+s).join(""));let n=parseInt(r,16),i=n>>16&255,a=n>>8&255,o=n&255;return[i,a,o]};Y.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),a=Math.min(Math.min(t,r),n),o=i-a,s,u;return o<1?s=a/(1-o):s=0,o<=0?u=0:i===t?u=(r-n)/o%6:i===r?u=2+(n-t)/o:u=4+(t-r)/o,u/=6,u%=1,[u*360,o*100,s*100]};Y.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};Y.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};Y.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],a=t%1*6,o=a%1,s=1-o,u=0;switch(Math.floor(a)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};Y.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};Y.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};Y.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};Y.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,a=0;return i<1&&(a=(n-i)/(1-i)),[e[0],i*100,a*100]};Y.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};Y.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};Y.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};Y.gray.hsl=function(e){return[0,0,e[0]]};Y.gray.hsv=Y.gray.hsl;Y.gray.hwb=function(e){return[0,100,e[0]]};Y.gray.cmyk=function(e){return[0,0,0,e[0]]};Y.gray.lab=function(e){return[e[0],0,0]};Y.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};Y.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var UM=g((uwe,HM)=>{var vl=pv();function tG(){let e={},t=Object.keys(vl);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function rG(e){let t=tG(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(vl[n]);for(let a=i.length,o=0;o<a;o++){let s=i[o],u=t[s];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(s))}}return t}function nG(e,t){return function(r){return t(e(r))}}function iG(e,t){let r=[t[e].parent,e],n=vl[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=nG(vl[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}HM.exports=function(e){let t=rG(e),r={},n=Object.keys(t);for(let i=n.length,a=0;a<i;a++){let o=n[a];t[o].parent!==null&&(r[o]=iG(o,t))}return r}});var yl=g((lwe,YM)=>{var mv=pv(),aG=UM(),Oa={},oG=Object.keys(mv);function sG(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function uG(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let a=i.length,o=0;o<a;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}oG.forEach(e=>{Oa[e]={},Object.defineProperty(Oa[e],"channels",{value:mv[e].channels}),Object.defineProperty(Oa[e],"labels",{value:mv[e].labels});let t=aG(e);Object.keys(t).forEach(n=>{let i=t[n];Oa[e][n]=uG(i),Oa[e][n].raw=sG(i)})});YM.exports=Oa});var JM=g((Jwe,_v)=>{"use strict";var XM=(e,t,r)=>new Promise((n,i)=>{if(r=Object.assign({concurrency:Infinity},r),typeof t!="function")throw new TypeError("Mapper function is required");let{concurrency:a}=r;if(!(typeof a=="number"&&a>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${a}\` (${typeof a})`);let o=[],s=e[Symbol.iterator](),u=!1,l=!1,d=0,c=0,m=()=>{if(u)return;let h=s.next(),x=c;if(c++,h.done){l=!0,d===0&&n(o);return}d++,Promise.resolve(h.value).then(_=>t(_,x)).then(_=>{o[x]=_,d--,m()},_=>{u=!0,i(_)})};for(let h=0;h<a&&(m(),!l);h++);});_v.exports=XM;_v.exports.default=XM});var Tv=g((Zwe,Ov)=>{"use strict";var cG=JM(),ZM=async(e,t,r)=>(await cG(e,(i,a)=>Promise.all([t(i,a),i]),r)).filter(i=>Boolean(i[0])).map(i=>i[1]);Ov.exports=ZM;Ov.exports.default=ZM});var qv=g(Sv=>{"use strict";var Mv=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};Sv.Semaphore=Mv;var eq=class extends Mv{constructor(){super(1)}};Sv.Mutex=eq});var pq=g((x_e,Ev)=>{"use strict";var uq=require("child_process").exec,lq=require("child_process").execSync,ql=require("fs"),dq=require("path"),cq=ql.access,fq=ql.accessSync,Ma=ql.constants||ql,Rv=process.platform=="win32",gG=function(e,t){cq(e,Ma.F_OK,function(r){t(!r)})},hG=function(e){try{return fq(e,Ma.F_OK),!1}catch(t){return!0}},vG=function(e,t){cq(e,Ma.F_OK|Ma.X_OK,function(r){t(null,!r)})},yG=function(e){try{return fq(e,Ma.F_OK|Ma.X_OK),!0}catch(t){return!1}},xG=function(e,t,r){gG(e,function(n){if(!n){var i=uq("command -v "+t+" 2>/dev/null && { echo >&1 "+t+"; exit 0; }",function(a,o,s){r(null,!!o)});return}vG(e,r)})},bG=function(e,t,r){if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(e)){r(null,!1);return}var n=uq("where "+t,function(i){i!==null?r(null,!1):r(null,!0)})},wG=function(e,t){if(hG(e))try{var r=lq("command -v "+t+" 2>/dev/null && { echo >&1 "+t+"; exit 0; }");return!!r}catch(n){return!1}return yG(e)},_G=function(e,t,r){if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(e))return!1;try{var n=lq("where "+t,{stdio:[]});return!!n}catch(i){return!1}},jv=function(e){return/[^A-Za-z0-9_\/:=-]/.test(e)&&(e="'"+e.replace(/'/g,"'\\''")+"'",e=e.replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")),e};Rv&&(jv=function(e){var t=/[\\]/.test(e);if(t){var r='"'+dq.dirname(e)+'"',n='"'+dq.basename(e)+'"';return r+":"+n}return'"'+e+'"'});Ev.exports=function e(t,r){var n=jv(t);if(!r&&typeof Promise!="undefined")return new Promise(function(i,a){e(t,function(o,s){s?i(t):a(o)})});Rv?bG(t,n,r):xG(t,n,r)};Ev.exports.sync=function(e){var t=jv(e);return Rv?_G(e,t):wG(e,t)}});var gq=g((b_e,mq)=>{mq.exports=pq()});var jq=g(qa=>{"use strict";var OG=qa&&qa.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{l(n.next(d))}catch(c){o(c)}}function u(d){try{l(n.throw(d))}catch(c){o(c)}}function l(d){d.done?a(d.value):i(d.value).then(s,u)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(qa,"__esModule",{value:!0});var yn=require("fs"),Fv=require("util"),TG=Fv.promisify(yn.stat),SG=Fv.promisify(yn.open),MG=Fv.promisify(yn.close),Vo=512;function qG(e,t){return OG(this,void 0,void 0,function*(){if(Eq(e)){let r=yield TG(e);Rq(r);let n=yield SG(e,"r"),i=Buffer.alloc(Vo);return new Promise((a,o)=>{yn.read(n,i,0,Vo,0,(s,u,l)=>{MG(n),s?o(s):a(Nl(i,u))})})}else return t===void 0&&(t=e.length),Nl(e,t)})}qa.isBinaryFile=qG;function NG(e,t){if(Eq(e)){let r=yn.statSync(e);Rq(r);let n=yn.openSync(e,"r"),i=Buffer.alloc(Vo),a=yn.readSync(n,i,0,Vo,0);return yn.closeSync(n),Nl(i,a)}else return t===void 0&&(t=e.length),Nl(e,t)}qa.isBinaryFileSync=NG;function Nl(e,t){if(t===0)return!1;let r=0,n=Math.min(t,Vo);if(t>=3&&e[0]===239&&e[1]===187&&e[2]===191||t>=4&&e[0]===0&&e[1]===0&&e[2]===254&&e[3]===255||t>=4&&e[0]===255&&e[1]===254&&e[2]===0&&e[3]===0||t>=4&&e[0]===132&&e[1]===49&&e[2]===149&&e[3]===51)return!1;if(n>=5&&e.slice(0,5).toString()==="%PDF-")return!0;if(t>=2&&e[0]===254&&e[1]===255||t>=2&&e[0]===255&&e[1]===254)return!1;for(let i=0;i<n;i++){if(e[i]===0)return!0;if((e[i]<7||e[i]>14)&&(e[i]<32||e[i]>127)){if(e[i]>193&&e[i]<224&&i+1<n){if(i++,e[i]>127&&e[i]<192)continue}else if(e[i]>223&&e[i]<240&&i+2<n&&(i++,e[i]>127&&e[i]<192&&e[i+1]>127&&e[i+1]<192)){i++;continue}if(r++,i>32&&r*100/n>10)return!0}}return r*100/n>10}function Eq(e){return typeof e=="string"}function Rq(e){if(!e.isFile())throw new Error("Path provided was not a file!")}});var EN=g((cSe,CN)=>{"use strict";var ZG=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],e9=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],t9=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],r9=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],DN=(e,t)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t):t===!0&&(r=e.toLocaleString()),r};CN.exports=(e,t)=>{if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t=Object.assign({bits:!1,binary:!1},t);let r=t.bits?t.binary?r9:t9:t.binary?e9:ZG;if(t.signed&&e===0)return` 0 ${r[0]}`;let n=e<0,i=n?"-":t.signed?"+":"";if(n&&(e=-e),e<1){let u=DN(e,t.locale);return i+u+" "+r[0]}let a=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),r.length-1);e=Number((e/Math.pow(t.binary?1024:1e3,a)).toPrecision(3));let o=DN(e,t.locale),s=r[a];return i+o+" "+s}});var $=g((Bl,jN)=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.default=n9;function n9(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}jN.exports=Bl.default});var S=g((Hl,IN)=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.default=i9;function i9(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}IN.exports=Hl.default});var E=g((Ul,kN)=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.default=a9;var s9=o9(S());function o9(e){return e&&e.__esModule?e:{default:e}}function a9(e){(0,s9.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}kN.exports=Ul.default});var Ar=g((Yl,AN)=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.default=u9;var l9=sy($()),d9=sy(E()),c9=sy(S());function sy(e){return e&&e.__esModule?e:{default:e}}function u9(e,t){(0,c9.default)(2,arguments);var r=(0,d9.default)(e),n=(0,l9.default)(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}AN.exports=Yl.default});var Ia=g(($l,LN)=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.default=f9;var p9=uy($()),m9=uy(E()),g9=uy(S());function uy(e){return e&&e.__esModule?e:{default:e}}function f9(e,t){(0,g9.default)(2,arguments);var r=(0,m9.default)(e),n=(0,p9.default)(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}LN.exports=$l.default});var FN=g((Gl,WN)=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.default=h9;var v9=ts(Ar()),y9=ts(Ia()),x9=ts(E()),b9=ts(S()),yi=ts($());function ts(e){return e&&e.__esModule?e:{default:e}}function h9(e,t){if((0,b9.default)(2,arguments),!t||typeof t!="object")return new Date(NaN);var r="years"in t?(0,yi.default)(t.years):0,n="months"in t?(0,yi.default)(t.months):0,i="weeks"in t?(0,yi.default)(t.weeks):0,a="days"in t?(0,yi.default)(t.days):0,o="hours"in t?(0,yi.default)(t.hours):0,s="minutes"in t?(0,yi.default)(t.minutes):0,u="seconds"in t?(0,yi.default)(t.seconds):0,l=(0,x9.default)(e),d=n||r?(0,y9.default)(l,n+r*12):l,c=a||i?(0,v9.default)(d,a+i*7):d,m=s+o*60,h=u+m*60,x=h*1e3,_=new Date(c.getTime()+x);return _}WN.exports=Gl.default});var rs=g((Vl,BN)=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.default=w9;var _9=HN(E()),O9=HN(S());function HN(e){return e&&e.__esModule?e:{default:e}}function w9(e){(0,O9.default)(1,arguments);var t=(0,_9.default)(e),r=t.getDay();return r===0||r===6}BN.exports=Vl.default});var Ql=g((zl,UN)=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.default=T9;var S9=YN(E()),M9=YN(S());function YN(e){return e&&e.__esModule?e:{default:e}}function T9(e){return(0,M9.default)(1,arguments),(0,S9.default)(e).getDay()===0}UN.exports=zl.default});var ly=g((Kl,$N)=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.default=q9;var N9=GN(E()),P9=GN(S());function GN(e){return e&&e.__esModule?e:{default:e}}function q9(e){return(0,P9.default)(1,arguments),(0,N9.default)(e).getDay()===6}$N.exports=Kl.default});var cy=g((Xl,VN)=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.default=C9;var dy=ka(rs()),D9=ka(E()),zN=ka($()),E9=ka(S()),R9=ka(Ql()),j9=ka(ly());function ka(e){return e&&e.__esModule?e:{default:e}}function C9(e,t){(0,E9.default)(2,arguments);var r=(0,D9.default)(e),n=(0,dy.default)(r),i=(0,zN.default)(t);if(isNaN(i))return new Date(NaN);var a=r.getHours(),o=i<0?-1:1,s=(0,zN.default)(i/5);r.setDate(r.getDate()+s*7);for(var u=Math.abs(i%5);u>0;)r.setDate(r.getDate()+o),(0,dy.default)(r)||(u-=1);return n&&(0,dy.default)(r)&&i!==0&&((0,j9.default)(r)&&r.setDate(r.getDate()+(o<0?2:-1)),(0,R9.default)(r)&&r.setDate(r.getDate()+(o<0?1:-2))),r.setHours(a),r}VN.exports=Xl.default});var Aa=g((Jl,QN)=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.default=I9;var k9=fy($()),A9=fy(E()),L9=fy(S());function fy(e){return e&&e.__esModule?e:{default:e}}function I9(e,t){(0,L9.default)(2,arguments);var r=(0,A9.default)(e).getTime(),n=(0,k9.default)(t);return new Date(r+n)}QN.exports=Jl.default});var ed=g((Zl,KN)=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.default=W9;var F9=py($()),B9=py(Aa()),H9=py(S());function py(e){return e&&e.__esModule?e:{default:e}}var U9=36e5;function W9(e,t){(0,H9.default)(2,arguments);var r=(0,F9.default)(t);return(0,B9.default)(e,r*U9)}KN.exports=Zl.default});var Lr=g((td,XN)=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.default=Y9;var $9=my(E()),JN=my($()),G9=my(S());function my(e){return e&&e.__esModule?e:{default:e}}function Y9(e,t){(0,G9.default)(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:(0,JN.default)(i),o=r.weekStartsOn==null?a:(0,JN.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=(0,$9.default)(e),u=s.getDay(),l=(u<o?7:0)+u-o;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}XN.exports=td.default});var _n=g((rd,ZN)=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.default=V9;var z9=e1(Lr()),Q9=e1(S());function e1(e){return e&&e.__esModule?e:{default:e}}function V9(e){return(0,Q9.default)(1,arguments),(0,z9.default)(e,{weekStartsOn:1})}ZN.exports=rd.default});var xi=g((nd,t1)=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.default=K9;var X9=gy(E()),r1=gy(_n()),J9=gy(S());function gy(e){return e&&e.__esModule?e:{default:e}}function K9(e){(0,J9.default)(1,arguments);var t=(0,X9.default)(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var i=(0,r1.default)(n),a=new Date(0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);var o=(0,r1.default)(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}t1.exports=nd.default});var La=g((id,n1)=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.default=Z9;var e7=hy(xi()),t7=hy(_n()),r7=hy(S());function hy(e){return e&&e.__esModule?e:{default:e}}function Z9(e){(0,r7.default)(1,arguments);var t=(0,e7.default)(e),r=new Date(0);r.setFullYear(t,0,4),r.setHours(0,0,0,0);var n=(0,t7.default)(r);return n}n1.exports=id.default});var dr=g((ad,i1)=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.default=n7;var od=6e4;function a1(e){return e.getTime()%od}function n7(e){var t=new Date(e.getTime()),r=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var n=r>0,i=n?(od+a1(t))%od:a1(t);return r*od+i}i1.exports=ad.default});var ns=g((sd,o1)=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.default=i7;var a7=s1(E()),o7=s1(S());function s1(e){return e&&e.__esModule?e:{default:e}}function i7(e){(0,o7.default)(1,arguments);var t=(0,a7.default)(e);return t.setHours(0,0,0,0),t}o1.exports=sd.default});var On=g((ud,u1)=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.default=s7;var l1=vy(dr()),d1=vy(ns()),u7=vy(S());function vy(e){return e&&e.__esModule?e:{default:e}}var l7=864e5;function s7(e,t){(0,u7.default)(2,arguments);var r=(0,d1.default)(e),n=(0,d1.default)(t),i=r.getTime()-(0,l1.default)(r),a=n.getTime()-(0,l1.default)(n);return Math.round((i-a)/l7)}u1.exports=ud.default});var yy=g((ld,c1)=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.default=d7;var c7=is($()),f7=is(E()),f1=is(La()),p7=is(On()),m7=is(S());function is(e){return e&&e.__esModule?e:{default:e}}function d7(e,t){(0,m7.default)(2,arguments);var r=(0,f7.default)(e),n=(0,c7.default)(t),i=(0,p7.default)(r,(0,f1.default)(r)),a=new Date(0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),r=(0,f1.default)(a),r.setDate(r.getDate()+i),r}c1.exports=ld.default});var xy=g((dd,p1)=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.default=g7;var h7=cd($()),v7=cd(xi()),y7=cd(yy()),x7=cd(S());function cd(e){return e&&e.__esModule?e:{default:e}}function g7(e,t){(0,x7.default)(2,arguments);var r=(0,h7.default)(t);return(0,y7.default)(e,(0,v7.default)(e)+r)}p1.exports=dd.default});var wy=g((fd,m1)=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.default=b7;var w7=by($()),_7=by(Aa()),O7=by(S());function by(e){return e&&e.__esModule?e:{default:e}}var T7=6e4;function b7(e,t){(0,O7.default)(2,arguments);var r=(0,w7.default)(t);return(0,_7.default)(e,r*T7)}m1.exports=fd.default});var md=g((pd,g1)=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.default=S7;var M7=_y($()),q7=_y(Ia()),N7=_y(S());function _y(e){return e&&e.__esModule?e:{default:e}}function S7(e,t){(0,N7.default)(2,arguments);var r=(0,M7.default)(t),n=r*3;return(0,q7.default)(e,n)}g1.exports=pd.default});var Ty=g((gd,h1)=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.default=P7;var C7=Oy($()),D7=Oy(Aa()),E7=Oy(S());function Oy(e){return e&&e.__esModule?e:{default:e}}function P7(e,t){(0,E7.default)(2,arguments);var r=(0,C7.default)(t);return(0,D7.default)(e,r*1e3)}h1.exports=gd.default});var as=g((hd,v1)=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.default=R7;var j7=Sy($()),I7=Sy(Ar()),k7=Sy(S());function Sy(e){return e&&e.__esModule?e:{default:e}}function R7(e,t){(0,k7.default)(2,arguments);var r=(0,j7.default)(t),n=r*7;return(0,I7.default)(e,n)}v1.exports=hd.default});var qy=g((vd,y1)=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.default=A7;var L7=My($()),W7=My(Ia()),F7=My(S());function My(e){return e&&e.__esModule?e:{default:e}}function A7(e,t){(0,F7.default)(2,arguments);var r=(0,L7.default)(t);return(0,W7.default)(e,r*12)}y1.exports=vd.default});var w1=g((yd,x1)=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.default=B7;var xd=b1(E()),H7=b1(S());function b1(e){return e&&e.__esModule?e:{default:e}}function B7(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,H7.default)(2,arguments);var n=e||{},i=t||{},a=(0,xd.default)(n.start).getTime(),o=(0,xd.default)(n.end).getTime(),s=(0,xd.default)(i.start).getTime(),u=(0,xd.default)(i.end).getTime();if(!(a<=o&&s<=u))throw new RangeError("Invalid interval");return r.inclusive?a<=u&&s<=o:a<u&&s<o}x1.exports=yd.default});var S1=g((bd,_1)=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.default=U7;var T1=O1(E()),Y7=O1(S());function O1(e){return e&&e.__esModule?e:{default:e}}function U7(e,t){(0,Y7.default)(2,arguments);var r=(0,T1.default)(e);if(isNaN(r))return NaN;var n=r.getTime(),i;t==null?i=[]:typeof t.forEach=="function"?i=t:i=Array.prototype.slice.call(t);var a,o;return i.forEach(function(s,u){var l=(0,T1.default)(s);if(isNaN(l)){a=NaN,o=NaN;return}var d=Math.abs(n-l.getTime());(a==null||d<o)&&(a=u,o=d)}),a}_1.exports=bd.default});var P1=g((wd,M1)=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.default=$7;var N1=q1(E()),G7=q1(S());function q1(e){return e&&e.__esModule?e:{default:e}}function $7(e,t){(0,G7.default)(2,arguments);var r=(0,N1.default)(e);if(isNaN(r))return new Date(NaN);var n=r.getTime(),i;t==null?i=[]:typeof t.forEach=="function"?i=t:i=Array.prototype.slice.call(t);var a,o;return i.forEach(function(s){var u=(0,N1.default)(s);if(isNaN(u)){a=new Date(NaN),o=NaN;return}var l=Math.abs(n-u.getTime());(a==null||l<o)&&(a=u,o=l)}),a}M1.exports=wd.default});var Tn=g((_d,C1)=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.default=V7;var E1=D1(E()),z7=D1(S());function D1(e){return e&&e.__esModule?e:{default:e}}function V7(e,t){(0,z7.default)(2,arguments);var r=(0,E1.default)(e),n=(0,E1.default)(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}C1.exports=_d.default});var k1=g((Od,R1)=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.default=Q7;var I1=j1(E()),K7=j1(S());function j1(e){return e&&e.__esModule?e:{default:e}}function Q7(e,t){(0,K7.default)(2,arguments);var r=(0,I1.default)(e),n=(0,I1.default)(t),i=r.getTime()-n.getTime();return i>0?-1:i<0?1:i}R1.exports=Od.default});var er=g((Td,A1)=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.default=X7;var J7=L1(E()),Z7=L1(S());function L1(e){return e&&e.__esModule?e:{default:e}}function X7(e){(0,Z7.default)(1,arguments);var t=(0,J7.default)(e);return!isNaN(t)}A1.exports=Td.default});var Wa=g((Sd,W1)=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.default=e8;var B1=F1(ns()),t8=F1(S());function F1(e){return e&&e.__esModule?e:{default:e}}function e8(e,t){(0,t8.default)(2,arguments);var r=(0,B1.default)(e),n=(0,B1.default)(t);return r.getTime()===n.getTime()}W1.exports=Sd.default});var G1=g((Md,H1)=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.default=r8;var U1=Sn(er()),n8=Sn(rs()),Y1=Sn(E()),i8=Sn(On()),$1=Sn(Ar()),a8=Sn(Wa()),o8=Sn($()),s8=Sn(S());function Sn(e){return e&&e.__esModule?e:{default:e}}function r8(e,t){(0,s8.default)(2,arguments);var r=(0,Y1.default)(e),n=(0,Y1.default)(t);if(!(0,U1.default)(r)||!(0,U1.default)(n))return new Date(NaN);var i=(0,i8.default)(r,n),a=i<0?-1:1,o=(0,o8.default)(i/7),s=o*5;for(n=(0,$1.default)(n,o*7);!(0,a8.default)(r,n);)s+=(0,n8.default)(n)?0:a,n=(0,$1.default)(n,a);return s===0?0:s}H1.exports=Md.default});var Ny=g((qd,V1)=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.default=u8;var Q1=z1(xi()),l8=z1(S());function z1(e){return e&&e.__esModule?e:{default:e}}function u8(e,t){return(0,l8.default)(2,arguments),(0,Q1.default)(e)-(0,Q1.default)(t)}V1.exports=qd.default});var Z1=g((Nd,K1)=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.default=d8;var X1=Py(dr()),J1=Py(_n()),c8=Py(S());function Py(e){return e&&e.__esModule?e:{default:e}}var f8=6048e5;function d8(e,t){(0,c8.default)(2,arguments);var r=(0,J1.default)(e),n=(0,J1.default)(t),i=r.getTime()-(0,X1.default)(r),a=n.getTime()-(0,X1.default)(n);return Math.round((i-a)/f8)}K1.exports=Nd.default});var Cy=g((Pd,eP)=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.default=p8;var rP=tP(E()),m8=tP(S());function tP(e){return e&&e.__esModule?e:{default:e}}function p8(e,t){(0,m8.default)(2,arguments);var r=(0,rP.default)(e),n=(0,rP.default)(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}eP.exports=Pd.default});var Dy=g((Cd,nP)=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.default=g8;var h8=iP(E()),v8=iP(S());function iP(e){return e&&e.__esModule?e:{default:e}}function g8(e){(0,v8.default)(1,arguments);var t=(0,h8.default)(e),r=Math.floor(t.getMonth()/3)+1;return r}nP.exports=Cd.default});var uP=g((Dd,aP)=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.default=y8;var oP=Ey(Dy()),sP=Ey(E()),x8=Ey(S());function Ey(e){return e&&e.__esModule?e:{default:e}}function y8(e,t){(0,x8.default)(2,arguments);var r=(0,sP.default)(e),n=(0,sP.default)(t),i=r.getFullYear()-n.getFullYear(),a=(0,oP.default)(r)-(0,oP.default)(n);return i*4+a}aP.exports=Dd.default});var jy=g((Ed,lP)=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.default=b8;var dP=Ry(Lr()),cP=Ry(dr()),w8=Ry(S());function Ry(e){return e&&e.__esModule?e:{default:e}}var _8=6048e5;function b8(e,t,r){(0,w8.default)(2,arguments);var n=(0,dP.default)(e,r),i=(0,dP.default)(t,r),a=n.getTime()-(0,cP.default)(n),o=i.getTime()-(0,cP.default)(i);return Math.round((a-o)/_8)}lP.exports=Ed.default});var Iy=g((Rd,fP)=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.default=O8;var mP=pP(E()),T8=pP(S());function pP(e){return e&&e.__esModule?e:{default:e}}function O8(e,t){(0,T8.default)(2,arguments);var r=(0,mP.default)(e),n=(0,mP.default)(t);return r.getFullYear()-n.getFullYear()}fP.exports=Rd.default});var Id=g((jd,gP)=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.default=S8;var hP=ky(E()),M8=ky(On()),q8=ky(S());function ky(e){return e&&e.__esModule?e:{default:e}}function vP(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function S8(e,t){(0,q8.default)(2,arguments);var r=(0,hP.default)(e),n=(0,hP.default)(t),i=vP(r,n),a=Math.abs((0,M8.default)(r,n));r.setDate(r.getDate()-i*a);var o=vP(r,n)===-i,s=i*(a-o);return s===0?0:s}gP.exports=jd.default});var os=g((kd,yP)=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.default=N8;var bP=xP(E()),P8=xP(S());function xP(e){return e&&e.__esModule?e:{default:e}}function N8(e,t){(0,P8.default)(2,arguments);var r=(0,bP.default)(e),n=(0,bP.default)(t);return r.getTime()-n.getTime()}yP.exports=kd.default});var Ay=g((Ad,wP)=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.default=C8;var D8=_P(os()),E8=_P(S());function _P(e){return e&&e.__esModule?e:{default:e}}var R8=36e5;function C8(e,t){(0,E8.default)(2,arguments);var r=(0,D8.default)(e,t)/R8;return r>0?Math.floor(r):Math.ceil(r)}wP.exports=Ad.default});var Wy=g((Ld,OP)=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.default=j8;var I8=Ly($()),k8=Ly(xy()),A8=Ly(S());function Ly(e){return e&&e.__esModule?e:{default:e}}function j8(e,t){(0,A8.default)(2,arguments);var r=(0,I8.default)(t);return(0,k8.default)(e,-r)}OP.exports=Ld.default});var qP=g((Wd,TP)=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.default=L8;var SP=ss(E()),W8=ss(Ny()),MP=ss(Tn()),F8=ss(Wy()),B8=ss(S());function ss(e){return e&&e.__esModule?e:{default:e}}function L8(e,t){(0,B8.default)(2,arguments);var r=(0,SP.default)(e),n=(0,SP.default)(t),i=(0,MP.default)(r,n),a=Math.abs((0,W8.default)(r,n));r=(0,F8.default)(r,i*a);var o=(0,MP.default)(r,n)===-i,s=i*(a-o);return s===0?0:s}TP.exports=Wd.default});var Fy=g((Fd,NP)=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.default=H8;var U8=PP(os()),Y8=PP(S());function PP(e){return e&&e.__esModule?e:{default:e}}var $8=6e4;function H8(e,t){(0,Y8.default)(2,arguments);var r=(0,U8.default)(e,t)/$8;return r>0?Math.floor(r):Math.ceil(r)}NP.exports=Fd.default});var us=g((Bd,CP)=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.default=G8;var DP=Hd(E()),V8=Hd(Cy()),EP=Hd(Tn()),z8=Hd(S());function Hd(e){return e&&e.__esModule?e:{default:e}}function G8(e,t){(0,z8.default)(2,arguments);var r=(0,DP.default)(e),n=(0,DP.default)(t),i=(0,EP.default)(r,n),a=Math.abs((0,V8.default)(r,n));r.setMonth(r.getMonth()-i*a);var o=(0,EP.default)(r,n)===-i,s=i*(a-o);return s===0?0:s}CP.exports=Bd.default});var IP=g((Ud,RP)=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.default=Q8;var K8=jP(us()),X8=jP(S());function jP(e){return e&&e.__esModule?e:{default:e}}function Q8(e,t){(0,X8.default)(2,arguments);var r=(0,K8.default)(e,t)/3;return r>0?Math.floor(r):Math.ceil(r)}RP.exports=Ud.default});var ls=g((Yd,kP)=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.default=J8;var Z8=AP(os()),eV=AP(S());function AP(e){return e&&e.__esModule?e:{default:e}}function J8(e,t){(0,eV.default)(2,arguments);var r=(0,Z8.default)(e,t)/1e3;return r>0?Math.floor(r):Math.ceil(r)}kP.exports=Yd.default});var FP=g(($d,LP)=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.default=tV;var rV=WP(Id()),nV=WP(S());function WP(e){return e&&e.__esModule?e:{default:e}}function tV(e,t){(0,nV.default)(2,arguments);var r=(0,rV.default)(e,t)/7;return r>0?Math.floor(r):Math.ceil(r)}LP.exports=$d.default});var By=g((Gd,BP)=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.default=iV;var HP=Vd(E()),aV=Vd(Iy()),UP=Vd(Tn()),oV=Vd(S());function Vd(e){return e&&e.__esModule?e:{default:e}}function iV(e,t){(0,oV.default)(2,arguments);var r=(0,HP.default)(e),n=(0,HP.default)(t),i=(0,UP.default)(r,n),a=Math.abs((0,aV.default)(r,n));r.setFullYear("1584"),n.setFullYear("1584");var o=(0,UP.default)(r,n)===-i,s=i*(a-o);return s===0?0:s}BP.exports=Gd.default});var Uy=g((zd,YP)=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.default=sV;var Hy=$P(E()),uV=$P(S());function $P(e){return e&&e.__esModule?e:{default:e}}function sV(e,t){(0,uV.default)(1,arguments);var r=e||{},n=(0,Hy.default)(r.start),i=(0,Hy.default)(r.end),a=i.getTime();if(!(n.getTime()<=a))throw new RangeError("Invalid interval");var o=[],s=n;s.setHours(0,0,0,0);var u=t&&"step"in t?Number(t.step):1;if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;s.getTime()<=a;)o.push((0,Hy.default)(s)),s.setDate(s.getDate()+u),s.setHours(0,0,0,0);return o}YP.exports=zd.default});var VP=g((Qd,GP)=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.default=lV;var dV=Yy(ed()),$y=Yy(E()),cV=Yy(S());function Yy(e){return e&&e.__esModule?e:{default:e}}function lV(e,t){(0,cV.default)(1,arguments);var r=e||{},n=(0,$y.default)(r.start),i=(0,$y.default)(r.end),a=n.getTime(),o=i.getTime();if(!(a<=o))throw new RangeError("Invalid interval");var s=[],u=n;u.setMinutes(0,0,0);var l=t&&"step"in t?Number(t.step):1;if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=o;)s.push((0,$y.default)(u)),u=(0,dV.default)(u,l);return s}GP.exports=Qd.default});var KP=g((Kd,zP)=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.default=fV;var Gy=QP(E()),pV=QP(S());function QP(e){return e&&e.__esModule?e:{default:e}}function fV(e){(0,pV.default)(1,arguments);var t=e||{},r=(0,Gy.default)(t.start),n=(0,Gy.default)(t.end),i=n.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var a=[],o=r;for(o.setHours(0,0,0,0),o.setDate(1);o.getTime()<=i;)a.push((0,Gy.default)(o)),o.setMonth(o.getMonth()+1);return a}zP.exports=Kd.default});var Jd=g((Xd,XP)=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.default=mV;var gV=JP(E()),hV=JP(S());function JP(e){return e&&e.__esModule?e:{default:e}}function mV(e){(0,hV.default)(1,arguments);var t=(0,gV.default)(e),r=t.getMonth(),n=r-r%3;return t.setMonth(n,1),t.setHours(0,0,0,0),t}XP.exports=Xd.default});var tC=g((Zd,ZP)=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.default=vV;var yV=ec(md()),eC=ec(Jd()),Vy=ec(E()),xV=ec(S());function ec(e){return e&&e.__esModule?e:{default:e}}function vV(e){(0,xV.default)(1,arguments);var t=e||{},r=(0,Vy.default)(t.start),n=(0,Vy.default)(t.end),i=n.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var a=(0,eC.default)(r),o=(0,eC.default)(n);i=o.getTime();for(var s=[],u=a;u.getTime()<=i;)s.push((0,Vy.default)(u)),u=(0,yV.default)(u,1);return s}ZP.exports=Zd.default});var iC=g((tc,rC)=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.default=bV;var wV=rc(as()),nC=rc(Lr()),zy=rc(E()),_V=rc(S());function rc(e){return e&&e.__esModule?e:{default:e}}function bV(e,t){(0,_V.default)(1,arguments);var r=e||{},n=(0,zy.default)(r.start),i=(0,zy.default)(r.end),a=i.getTime();if(!(n.getTime()<=a))throw new RangeError("Invalid interval");var o=(0,nC.default)(n,t),s=(0,nC.default)(i,t);o.setHours(15),s.setHours(15),a=s.getTime();for(var u=[],l=o;l.getTime()<=a;)l.setHours(0),u.push((0,zy.default)(l)),l=(0,wV.default)(l,1),l.setHours(15);return u}rC.exports=tc.default});var ac=g((nc,aC)=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.default=OV;var TV=ic(Uy()),SV=ic(Ql()),MV=ic(rs()),qV=ic(S());function ic(e){return e&&e.__esModule?e:{default:e}}function OV(e){(0,qV.default)(1,arguments);for(var t=(0,TV.default)(e),r=[],n=0;n<t.length;){var i=t[n++];(0,MV.default)(i)&&(r.push(i),(0,SV.default)(i)&&(n=n+5))}return r}aC.exports=nc.default});var ds=g((oc,oC)=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.default=NV;var PV=sC(E()),CV=sC(S());function sC(e){return e&&e.__esModule?e:{default:e}}function NV(e){(0,CV.default)(1,arguments);var t=(0,PV.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t}oC.exports=oc.default});var uc=g((sc,uC)=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.default=DV;var EV=lC(E()),RV=lC(S());function lC(e){return e&&e.__esModule?e:{default:e}}function DV(e){(0,RV.default)(1,arguments);var t=(0,EV.default)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}uC.exports=sc.default});var cC=g((lc,dC)=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.default=jV;var IV=dc(ac()),kV=dc(ds()),AV=dc(uc()),LV=dc(S());function dc(e){return e&&e.__esModule?e:{default:e}}function jV(e){(0,LV.default)(1,arguments);var t=(0,kV.default)(e);if(isNaN(t))throw new RangeError("The passed date is invalid");var r=(0,AV.default)(e);return(0,IV.default)({start:t,end:r})}dC.exports=lc.default});var fc=g((cc,fC)=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.default=WV;var FV=pC(E()),BV=pC(S());function pC(e){return e&&e.__esModule?e:{default:e}}function WV(e){(0,BV.default)(1,arguments);var t=(0,FV.default)(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}fC.exports=cc.default});var Qy=g((pc,mC)=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.default=HV;var UV=gC(E()),YV=gC(S());function gC(e){return e&&e.__esModule?e:{default:e}}function HV(e){(0,YV.default)(1,arguments);var t=(0,UV.default)(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}mC.exports=pc.default});var vC=g((mc,hC)=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.default=$V;var GV=gc(ac()),VV=gc(fc()),zV=gc(Qy()),QV=gc(S());function gc(e){return e&&e.__esModule?e:{default:e}}function $V(e){(0,QV.default)(1,arguments);var t=(0,VV.default)(e);if(isNaN(t))throw new RangeError("The passed date is invalid");var r=(0,zV.default)(e);return(0,GV.default)({start:t,end:r})}hC.exports=mc.default});var bC=g((hc,yC)=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.default=KV;var Ky=xC(E()),XV=xC(S());function xC(e){return e&&e.__esModule?e:{default:e}}function KV(e){(0,XV.default)(1,arguments);var t=e||{},r=(0,Ky.default)(t.start),n=(0,Ky.default)(t.end),i=n.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var a=[],o=r;for(o.setHours(0,0,0,0),o.setMonth(0,1);o.getTime()<=i;)a.push((0,Ky.default)(o)),o.setFullYear(o.getFullYear()+1);return a}yC.exports=hc.default});var yc=g((vc,wC)=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.default=JV;var ZV=_C(E()),ez=_C(S());function _C(e){return e&&e.__esModule?e:{default:e}}function JV(e){(0,ez.default)(1,arguments);var t=(0,ZV.default)(e);return t.setHours(23,59,59,999),t}wC.exports=vc.default});var SC=g((xc,OC)=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.default=tz;var rz=TC(E()),nz=TC(S());function TC(e){return e&&e.__esModule?e:{default:e}}function tz(e){(0,nz.default)(1,arguments);var t=(0,rz.default)(e),r=t.getFullYear(),n=9+Math.floor(r/10)*10;return t.setFullYear(n,11,31),t.setHours(23,59,59,999),t}OC.exports=xc.default});var NC=g((bc,MC)=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.default=iz;var az=qC(E()),oz=qC(S());function qC(e){return e&&e.__esModule?e:{default:e}}function iz(e){(0,oz.default)(1,arguments);var t=(0,az.default)(e);return t.setMinutes(59,59,999),t}MC.exports=bc.default});var Jy=g((wc,PC)=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.default=sz;var uz=Xy(E()),CC=Xy($()),lz=Xy(S());function Xy(e){return e&&e.__esModule?e:{default:e}}function sz(e,t){(0,lz.default)(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:(0,CC.default)(i),o=r.weekStartsOn==null?a:(0,CC.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=(0,uz.default)(e),u=s.getDay(),l=(u<o?-7:0)+6-(u-o);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}PC.exports=wc.default});var RC=g((_c,DC)=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.default=dz;var cz=EC(Jy()),fz=EC(S());function EC(e){return e&&e.__esModule?e:{default:e}}function dz(e){return(0,fz.default)(1,arguments),(0,cz.default)(e,{weekStartsOn:1})}DC.exports=_c.default});var IC=g((Oc,jC)=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.default=pz;var mz=Zy(xi()),gz=Zy(_n()),hz=Zy(S());function Zy(e){return e&&e.__esModule?e:{default:e}}function pz(e){(0,hz.default)(1,arguments);var t=(0,mz.default)(e),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);var n=(0,gz.default)(r);return n.setMilliseconds(n.getMilliseconds()-1),n}jC.exports=Oc.default});var LC=g((Tc,kC)=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.default=vz;var yz=AC(E()),xz=AC(S());function AC(e){return e&&e.__esModule?e:{default:e}}function vz(e){(0,xz.default)(1,arguments);var t=(0,yz.default)(e);return t.setSeconds(59,999),t}kC.exports=Tc.default});var BC=g((Sc,WC)=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.default=bz;var wz=FC(E()),_z=FC(S());function FC(e){return e&&e.__esModule?e:{default:e}}function bz(e){(0,_z.default)(1,arguments);var t=(0,wz.default)(e),r=t.getMonth(),n=r-r%3+3;return t.setMonth(n,0),t.setHours(23,59,59,999),t}WC.exports=Sc.default});var YC=g((Mc,HC)=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.default=Oz;var Tz=UC(E()),Sz=UC(S());function UC(e){return e&&e.__esModule?e:{default:e}}function Oz(e){(0,Sz.default)(1,arguments);var t=(0,Tz.default)(e);return t.setMilliseconds(999),t}HC.exports=Mc.default});var GC=g((qc,$C)=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.default=Mz;var Nz=qz(yc());function qz(e){return e&&e.__esModule?e:{default:e}}function Mz(){return(0,Nz.default)(Date.now())}$C.exports=qc.default});var zC=g((Nc,VC)=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.default=Pz;function Pz(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),i=new Date(0);return i.setFullYear(t,r,n+1),i.setHours(23,59,59,999),i}VC.exports=Nc.default});var KC=g((Pc,QC)=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.default=Cz;function Cz(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),i=new Date(0);return i.setFullYear(t,r,n-1),i.setHours(23,59,59,999),i}QC.exports=Pc.default});var JC=g((Cc,XC)=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.default=Dz;var Dc={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Dz(e,t,r){r=r||{};var n;return typeof Dc[e]=="string"?n=Dc[e]:t===1?n=Dc[e].one:n=Dc[e].other.replace("{{count}}",t),r.addSuffix?r.comparison>0?"in "+n:n+" ago":n}XC.exports=Cc.default});var eD=g((Ec,ZC)=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.default=Ez;function Ez(e){return function(t){var r=t||{},n=r.width?String(r.width):e.defaultWidth,i=e.formats[n]||e.formats[e.defaultWidth];return i}}ZC.exports=Ec.default});var rD=g((cs,tD)=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.default=void 0;var ex=Rz(eD());function Rz(e){return e&&e.__esModule?e:{default:e}}var jz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Iz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Az={date:(0,ex.default)({formats:jz,defaultWidth:"full"}),time:(0,ex.default)({formats:Iz,defaultWidth:"full"}),dateTime:(0,ex.default)({formats:kz,defaultWidth:"full"})},Lz=Az;cs.default=Lz;tD.exports=cs.default});var iD=g((Rc,nD)=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.default=Wz;var Fz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Wz(e,t,r,n){return Fz[e]}nD.exports=Rc.default});var oD=g((jc,aD)=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.default=Bz;function Bz(e){return function(t,r){var n=r||{},i=n.context?String(n.context):"standalone",a;if(i==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=n.width?String(n.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{var u=e.defaultWidth,l=n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[u]}var d=e.argumentCallback?e.argumentCallback(t):t;return a[d]}}aD.exports=jc.default});var uD=g((fs,sD)=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.default=void 0;var ps=Hz(oD());function Hz(e){return e&&e.__esModule?e:{default:e}}var Uz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$z={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};function Qz(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"}var Kz={ordinalNumber:Qz,era:(0,ps.default)({values:Uz,defaultWidth:"wide"}),quarter:(0,ps.default)({values:Yz,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,ps.default)({values:$z,defaultWidth:"wide"}),day:(0,ps.default)({values:Gz,defaultWidth:"wide"}),dayPeriod:(0,ps.default)({values:Vz,defaultWidth:"wide",formattingValues:zz,defaultFormattingWidth:"wide"})},Xz=Kz;fs.default=Xz;sD.exports=fs.default});var dD=g((Ic,lD)=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.default=Jz;function Jz(e){return function(t,r){var n=String(t),i=r||{},a=n.match(e.matchPattern);if(!a)return null;var o=a[0],s=n.match(e.parsePattern);if(!s)return null;var u=e.valueCallback?e.valueCallback(s[0]):s[0];return u=i.valueCallback?i.valueCallback(u):u,{value:u,rest:n.slice(o.length)}}}lD.exports=Ic.default});var fD=g((kc,cD)=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.default=Zz;function Zz(e){return function(t,r){var n=String(t),i=r||{},a=i.width,o=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=n.match(o);if(!s)return null;var u=s[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d;return Object.prototype.toString.call(l)==="[object Array]"?d=tQ(l,function(c){return c.test(u)}):d=eQ(l,function(c){return c.test(u)}),d=e.valueCallback?e.valueCallback(d):d,d=i.valueCallback?i.valueCallback(d):d,{value:d,rest:n.slice(u.length)}}}function eQ(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function tQ(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}cD.exports=kc.default});var gD=g((ms,pD)=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.default=void 0;var rQ=mD(dD()),gs=mD(fD());function mD(e){return e&&e.__esModule?e:{default:e}}var nQ=/^(\d+)(th|st|nd|rd)?/i,iQ=/\d+/i,aQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oQ={any:[/^b/i,/^(a|c)/i]},sQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uQ={any:[/1/i,/2/i,/3/i,/4/i]},lQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gQ={ordinalNumber:(0,rQ.default)({matchPattern:nQ,parsePattern:iQ,valueCallback:function(e){return parseInt(e,10)}}),era:(0,gs.default)({matchPatterns:aQ,defaultMatchWidth:"wide",parsePatterns:oQ,defaultParseWidth:"any"}),quarter:(0,gs.default)({matchPatterns:sQ,defaultMatchWidth:"wide",parsePatterns:uQ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,gs.default)({matchPatterns:lQ,defaultMatchWidth:"wide",parsePatterns:dQ,defaultParseWidth:"any"}),day:(0,gs.default)({matchPatterns:cQ,defaultMatchWidth:"wide",parsePatterns:fQ,defaultParseWidth:"any"}),dayPeriod:(0,gs.default)({matchPatterns:pQ,defaultMatchWidth:"any",parsePatterns:mQ,defaultParseWidth:"any"})},hQ=gQ;ms.default=hQ;pD.exports=ms.default});var bi=g((hs,hD)=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.default=void 0;var vQ=vs(JC()),yQ=vs(rD()),xQ=vs(iD()),bQ=vs(uD()),wQ=vs(gD());function vs(e){return e&&e.__esModule?e:{default:e}}var _Q={code:"en-US",formatDistance:vQ.default,formatLong:yQ.default,formatRelative:xQ.default,localize:bQ.default,match:wQ.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},OQ=_Q;hs.default=OQ;hD.exports=hs.default});var Fa=g((Ac,vD)=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.default=TQ;var SQ=tx($()),MQ=tx(Aa()),qQ=tx(S());function tx(e){return e&&e.__esModule?e:{default:e}}function TQ(e,t){(0,qQ.default)(2,arguments);var r=(0,SQ.default)(t);return(0,MQ.default)(e,-r)}vD.exports=Ac.default});var wi=g((Lc,yD)=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.default=NQ;function NQ(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}yD.exports=Lc.default});var rx=g((ys,xD)=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.default=void 0;var Mn=PQ(wi());function PQ(e){return e&&e.__esModule?e:{default:e}}var CQ={y:function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return(0,Mn.default)(t==="yy"?n%100:n,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):(0,Mn.default)(r+1,2)},d:function(e,t){return(0,Mn.default)(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return r.toUpperCase();case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return(0,Mn.default)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,Mn.default)(e.getUTCHours(),t.length)},m:function(e,t){return(0,Mn.default)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,Mn.default)(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,n=e.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,r-3));return(0,Mn.default)(i,t.length)}},DQ=CQ;ys.default=DQ;xD.exports=ys.default});var _D=g((Wc,bD)=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.default=EQ;var RQ=wD(E()),jQ=wD(S());function wD(e){return e&&e.__esModule?e:{default:e}}var IQ=864e5;function EQ(e){(0,jQ.default)(1,arguments);var t=(0,RQ.default)(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=r-n;return Math.floor(i/IQ)+1}bD.exports=Wc.default});var xs=g((Fc,OD)=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.default=kQ;var AQ=TD(E()),LQ=TD(S());function TD(e){return e&&e.__esModule?e:{default:e}}function kQ(e){(0,LQ.default)(1,arguments);var t=1,r=(0,AQ.default)(e),n=r.getUTCDay(),i=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}OD.exports=Fc.default});var ix=g((Bc,SD)=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.default=WQ;var FQ=nx(E()),MD=nx(xs()),BQ=nx(S());function nx(e){return e&&e.__esModule?e:{default:e}}function WQ(e){(0,BQ.default)(1,arguments);var t=(0,FQ.default)(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=(0,MD.default)(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=(0,MD.default)(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}SD.exports=Bc.default});var ND=g((Hc,qD)=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.default=HQ;var UQ=ax(ix()),YQ=ax(xs()),$Q=ax(S());function ax(e){return e&&e.__esModule?e:{default:e}}function HQ(e){(0,$Q.default)(1,arguments);var t=(0,UQ.default)(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=(0,YQ.default)(r);return n}qD.exports=Hc.default});var ox=g((Uc,PD)=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.default=GQ;var VQ=Yc(E()),zQ=Yc(xs()),QQ=Yc(ND()),KQ=Yc(S());function Yc(e){return e&&e.__esModule?e:{default:e}}var XQ=6048e5;function GQ(e){(0,KQ.default)(1,arguments);var t=(0,VQ.default)(e),r=(0,zQ.default)(t).getTime()-(0,QQ.default)(t).getTime();return Math.round(r/XQ)+1}PD.exports=Uc.default});var bs=g(($c,CD)=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.default=JQ;var DD=sx($()),ZQ=sx(E()),eK=sx(S());function sx(e){return e&&e.__esModule?e:{default:e}}function JQ(e,t){(0,eK.default)(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:(0,DD.default)(i),o=r.weekStartsOn==null?a:(0,DD.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=(0,ZQ.default)(e),u=s.getUTCDay(),l=(u<o?7:0)+u-o;return s.setUTCDate(s.getUTCDate()-l),s.setUTCHours(0,0,0,0),s}CD.exports=$c.default});var zc=g((Gc,ED)=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.default=tK;var RD=Vc($()),rK=Vc(E()),jD=Vc(bs()),nK=Vc(S());function Vc(e){return e&&e.__esModule?e:{default:e}}function tK(e,t){(0,nK.default)(1,arguments);var r=(0,rK.default)(e,t),n=r.getUTCFullYear(),i=t||{},a=i.locale,o=a&&a.options&&a.options.firstWeekContainsDate,s=o==null?1:(0,RD.default)(o),u=i.firstWeekContainsDate==null?s:(0,RD.default)(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(n+1,0,u),l.setUTCHours(0,0,0,0);var d=(0,jD.default)(l,t),c=new Date(0);c.setUTCFullYear(n,0,u),c.setUTCHours(0,0,0,0);var m=(0,jD.default)(c,t);return r.getTime()>=d.getTime()?n+1:r.getTime()>=m.getTime()?n:n-1}ED.exports=Gc.default});var AD=g((Qc,ID)=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.default=iK;var kD=Kc($()),aK=Kc(zc()),oK=Kc(bs()),sK=Kc(S());function Kc(e){return e&&e.__esModule?e:{default:e}}function iK(e,t){(0,sK.default)(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.firstWeekContainsDate,a=i==null?1:(0,kD.default)(i),o=r.firstWeekContainsDate==null?a:(0,kD.default)(r.firstWeekContainsDate),s=(0,aK.default)(e,t),u=new Date(0);u.setUTCFullYear(s,0,o),u.setUTCHours(0,0,0,0);var l=(0,oK.default)(u,t);return l}ID.exports=Qc.default});var ux=g((Xc,LD)=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.default=uK;var lK=Jc(E()),dK=Jc(bs()),cK=Jc(AD()),fK=Jc(S());function Jc(e){return e&&e.__esModule?e:{default:e}}var pK=6048e5;function uK(e,t){(0,fK.default)(1,arguments);var r=(0,lK.default)(e),n=(0,dK.default)(r,t).getTime()-(0,cK.default)(r,t).getTime();return Math.round(n/pK)+1}LD.exports=Xc.default});var HD=g((ws,WD)=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.default=void 0;var qn=_i(rx()),mK=_i(_D()),gK=_i(ox()),hK=_i(ix()),vK=_i(ux()),yK=_i(zc()),We=_i(wi());function _i(e){return e&&e.__esModule?e:{default:e}}var Ba={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xK={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var n=e.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return qn.default.y(e,t)},Y:function(e,t,r,n){var i=(0,yK.default)(e,n),a=i>0?i:1-i;if(t==="YY"){var o=a%100;return(0,We.default)(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):(0,We.default)(a,t.length)},R:function(e,t){var r=(0,hK.default)(e);return(0,We.default)(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return(0,We.default)(r,t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return(0,We.default)(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return(0,We.default)(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return qn.default.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return(0,We.default)(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var i=(0,vK.default)(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):(0,We.default)(i,t.length)},I:function(e,t,r){var n=(0,gK.default)(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):(0,We.default)(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):qn.default.d(e,t)},D:function(e,t,r){var n=(0,mK.default)(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):(0,We.default)(n,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var i=e.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return(0,We.default)(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var i=e.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return(0,We.default)(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return(0,We.default)(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours(),i=n/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n=e.getUTCHours(),i;switch(n===12?i=Ba.noon:n===0?i=Ba.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n=e.getUTCHours(),i;switch(n>=17?i=Ba.evening:n>=12?i=Ba.afternoon:n>=4?i=Ba.morning:i=Ba.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return qn.default.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):qn.default.H(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):(0,We.default)(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):(0,We.default)(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):qn.default.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):qn.default.s(e,t)},S:function(e,t){return qn.default.S(e,t)},X:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return BD(a);case"XXXX":case"XX":return Oi(a);case"XXXXX":case"XXX":default:return Oi(a,":")}},x:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();switch(t){case"x":return BD(a);case"xxxx":case"xx":return Oi(a);case"xxxxx":case"xxx":default:return Oi(a,":")}},O:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+FD(a,":");case"OOOO":default:return"GMT"+Oi(a,":")}},z:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+FD(a,":");case"zzzz":default:return"GMT"+Oi(a,":")}},t:function(e,t,r,n){var i=n._originalDate||e,a=Math.floor(i.getTime()/1e3);return(0,We.default)(a,t.length)},T:function(e,t,r,n){var i=n._originalDate||e,a=i.getTime();return(0,We.default)(a,t.length)}};function FD(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var o=t||"";return r+String(i)+o+(0,We.default)(a,2)}function BD(e,t){if(e%60==0){var r=e>0?"-":"+";return r+(0,We.default)(Math.abs(e)/60,2)}return Oi(e,t)}function Oi(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e),a=(0,We.default)(Math.floor(i/60),2),o=(0,We.default)(i%60,2);return n+a+r+o}var bK=xK;ws.default=bK;WD.exports=ws.default});var lx=g((_s,UD)=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.default=void 0;function YD(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function $D(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function wK(e,t){var r=e.match(/(P+)(p+)?/),n=r[1],i=r[2];if(!i)return YD(e,t);var a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",YD(n,t)).replace("{{time}}",$D(i,t))}var _K={p:$D,P:wK},OK=_K;_s.default=OK;UD.exports=_s.default});var dx=g(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.isProtectedDayOfYearToken=TK;Os.isProtectedWeekYearToken=SK;Os.throwProtectedError=MK;var qK=["D","DD"],NK=["YY","YYYY"];function TK(e){return qK.indexOf(e)!==-1}function SK(e){return NK.indexOf(e)!==-1}function MK(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}});var cx=g((Zc,GD)=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.default=PK;var CK=Wr(er()),DK=Wr(bi()),EK=Wr(Fa()),RK=Wr(E()),jK=Wr(HD()),IK=Wr(lx()),kK=Wr(dr()),ef=dx(),tf=Wr($()),AK=Wr(S());function Wr(e){return e&&e.__esModule?e:{default:e}}var LK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FK=/^'([^]*?)'?$/,BK=/''/g,HK=/[a-zA-Z]/;function PK(e,t,r){(0,AK.default)(2,arguments);var n=String(t),i=r||{},a=i.locale||DK.default,o=a.options&&a.options.firstWeekContainsDate,s=o==null?1:(0,tf.default)(o),u=i.firstWeekContainsDate==null?s:(0,tf.default)(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=a.options&&a.options.weekStartsOn,d=l==null?0:(0,tf.default)(l),c=i.weekStartsOn==null?d:(0,tf.default)(i.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var m=(0,RK.default)(e);if(!(0,CK.default)(m))throw new RangeError("Invalid time value");var h=(0,kK.default)(m),x=(0,EK.default)(m,h),_={firstWeekContainsDate:u,weekStartsOn:c,locale:a,_originalDate:m},N=n.match(WK).map(function(C){var j=C[0];if(j==="p"||j==="P"){var L=IK.default[j];return L(C,a.formatLong,_)}return C}).join("").match(LK).map(function(C){if(C==="''")return"'";var j=C[0];if(j==="'")return UK(C);var L=jK.default[j];if(L)return!i.useAdditionalWeekYearTokens&&(0,ef.isProtectedWeekYearToken)(C)&&(0,ef.throwProtectedError)(C,t,e),!i.useAdditionalDayOfYearTokens&&(0,ef.isProtectedDayOfYearToken)(C)&&(0,ef.throwProtectedError)(C,t,e),L(x,C,a.localize,_);if(j.match(HK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return C}).join("");return N}function UK(e){return e.match(FK)[1].replace(BK,"'")}GD.exports=Zc.default});var fx=g((rf,VD)=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.default=YK;function YK(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");t=t||{};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}VD.exports=rf.default});var px=g((nf,zD)=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.default=$K;var VK=GK(fx());function GK(e){return e&&e.__esModule?e:{default:e}}function $K(e){return(0,VK.default)({},e)}zD.exports=nf.default});var gx=g((af,QD)=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.default=zK;var QK=Nn(Tn()),KK=Nn(us()),XK=Nn(ls()),JK=Nn(bi()),of=Nn(E()),ZK=Nn(px()),KD=Nn(dr()),eX=Nn(S());function Nn(e){return e&&e.__esModule?e:{default:e}}var XD=1440,tX=2520,mx=43200,rX=86400;function zK(e,t,r){(0,eX.default)(2,arguments);var n=r||{},i=n.locale||JK.default;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=(0,QK.default)(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var o=(0,ZK.default)(n);o.addSuffix=Boolean(n.addSuffix),o.comparison=a;var s,u;a>0?(s=(0,of.default)(t),u=(0,of.default)(e)):(s=(0,of.default)(e),u=(0,of.default)(t));var l=(0,XK.default)(u,s),d=((0,KD.default)(u)-(0,KD.default)(s))/1e3,c=Math.round((l-d)/60),m;if(c<2)return n.includeSeconds?l<5?i.formatDistance("lessThanXSeconds",5,o):l<10?i.formatDistance("lessThanXSeconds",10,o):l<20?i.formatDistance("lessThanXSeconds",20,o):l<40?i.formatDistance("halfAMinute",null,o):l<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):c===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",c,o);if(c<45)return i.formatDistance("xMinutes",c,o);if(c<90)return i.formatDistance("aboutXHours",1,o);if(c<XD){var h=Math.round(c/60);return i.formatDistance("aboutXHours",h,o)}else{if(c<tX)return i.formatDistance("xDays",1,o);if(c<mx){var x=Math.round(c/XD);return i.formatDistance("xDays",x,o)}else if(c<rX)return m=Math.round(c/mx),i.formatDistance("aboutXMonths",m,o)}if(m=(0,KK.default)(u,s),m<12){var _=Math.round(c/mx);return i.formatDistance("xMonths",_,o)}else{var N=m%12,C=Math.floor(m/12);return N<3?i.formatDistance("aboutXYears",C,o):N<9?i.formatDistance("overXYears",C,o):i.formatDistance("almostXYears",C+1,o)}}QD.exports=af.default});var hx=g((sf,JD)=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.default=nX;var ZD=Ti(dr()),iX=Ti(Tn()),uf=Ti(E()),aX=Ti(ls()),oX=Ti(px()),sX=Ti(bi()),uX=Ti(S());function Ti(e){return e&&e.__esModule?e:{default:e}}var eE=1440,tE=43200,rE=525600;function nX(e,t,r){(0,uX.default)(2,arguments);var n=r||{},i=n.locale||sX.default;if(!i.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var a=(0,iX.default)(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var o=(0,oX.default)(n);o.addSuffix=Boolean(n.addSuffix),o.comparison=a;var s,u;a>0?(s=(0,uf.default)(t),u=(0,uf.default)(e)):(s=(0,uf.default)(e),u=(0,uf.default)(t));var l=n.roundingMethod==null?"round":String(n.roundingMethod),d;if(l==="floor")d=Math.floor;else if(l==="ceil")d=Math.ceil;else if(l==="round")d=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var c=(0,aX.default)(u,s),m=((0,ZD.default)(u)-(0,ZD.default)(s))/1e3,h=d((c-m)/60),x;if(n.unit==null?h<1?x="second":h<60?x="minute":h<eE?x="hour":h<tE?x="day":h<rE?x="month":x="year":x=String(n.unit),x==="second")return i.formatDistance("xSeconds",c,o);if(x==="minute")return i.formatDistance("xMinutes",h,o);if(x==="hour"){var _=d(h/60);return i.formatDistance("xHours",_,o)}else if(x==="day"){var N=d(h/eE);return i.formatDistance("xDays",N,o)}else if(x==="month"){var C=d(h/tE);return i.formatDistance("xMonths",C,o)}else if(x==="year"){var j=d(h/rE);return i.formatDistance("xYears",j,o)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}JD.exports=sf.default});var aE=g((lf,nE)=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.default=lX;var dX=iE(gx()),cX=iE(S());function iE(e){return e&&e.__esModule?e:{default:e}}function lX(e,t){return(0,cX.default)(1,arguments),(0,dX.default)(e,Date.now(),t)}nE.exports=lf.default});var uE=g((df,oE)=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.default=fX;var pX=sE(hx()),mX=sE(S());function sE(e){return e&&e.__esModule?e:{default:e}}function fX(e,t){return(0,mX.default)(1,arguments),(0,pX.default)(e,Date.now(),t)}oE.exports=df.default});var dE=g((cf,lE)=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.default=gX;var vX=hX(bi());function hX(e){return e&&e.__esModule?e:{default:e}}var yX=["years","months","weeks","days","hours","minutes","seconds"];function gX(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=t.format||yX,n=t.locale||vX.default,i=t.zero||!1,a=t.delimiter||" ",o=r.reduce(function(s,u){var l="x".concat(u.replace(/(^.)/,function(c){return c.toUpperCase()})),d=typeof e[u]=="number"&&(i||e[u]);return d?s.concat(n.formatDistance(l,e[u])):s},[]).join(a);return o}lE.exports=cf.default});var fE=g((ff,cE)=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.default=xX;var bX=vx(E()),wX=vx(er()),Pn=vx(wi());function vx(e){return e&&e.__esModule?e:{default:e}}function xX(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=(0,bX.default)(e);if(!(0,wX.default)(r))throw new RangeError("Invalid time value");var n=t||{},i=n.format==null?"extended":String(n.format),a=n.representation==null?"complete":String(n.representation);if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var o="",s="",u=i==="extended"?"-":"",l=i==="extended"?":":"";if(a!=="time"){var d=(0,Pn.default)(r.getDate(),2),c=(0,Pn.default)(r.getMonth()+1,2),m=(0,Pn.default)(r.getFullYear(),4);o="".concat(m).concat(u).concat(c).concat(u).concat(d)}if(a!=="date"){var h=r.getTimezoneOffset();if(h!==0){var x=Math.abs(h),_=(0,Pn.default)(Math.floor(x/60),2),N=(0,Pn.default)(x%60,2),C=h<0?"+":"-";s="".concat(C).concat(_,":").concat(N)}else s="Z";var j=(0,Pn.default)(r.getHours(),2),L=(0,Pn.default)(r.getMinutes(),2),F=(0,Pn.default)(r.getSeconds(),2),B=o===""?"":"T",he=[j,L,F].join(l);o="".concat(o).concat(B).concat(he).concat(s)}return o}cE.exports=ff.default});var mE=g((pf,pE)=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.default=_X;var OX=yx(E()),TX=yx(er()),Ha=yx(wi());function yx(e){return e&&e.__esModule?e:{default:e}}function _X(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=(0,OX.default)(e);if(!(0,TX.default)(r))throw new RangeError("Invalid time value");var n=t||{},i=n.format==null?"extended":String(n.format),a=n.representation==null?"complete":String(n.representation);if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var o="",s=i==="extended"?"-":"",u=i==="extended"?":":"";if(a!=="time"){var l=(0,Ha.default)(r.getDate(),2),d=(0,Ha.default)(r.getMonth()+1,2),c=(0,Ha.default)(r.getFullYear(),4);o="".concat(c).concat(s).concat(d).concat(s).concat(l)}if(a!=="date"){var m=(0,Ha.default)(r.getHours(),2),h=(0,Ha.default)(r.getMinutes(),2),x=(0,Ha.default)(r.getSeconds(),2),_=o===""?"":" ";o="".concat(o).concat(_).concat(m).concat(u).concat(h).concat(u).concat(x)}return o}pE.exports=pf.default});var hE=g((mf,gE)=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.default=SX;var qX=MX(S());function MX(e){return e&&e.__esModule?e:{default:e}}function SX(e){if((0,qX.default)(1,arguments),typeof e!="object")throw new Error("Duration must be an object");var t=e.years,r=t===void 0?0:t,n=e.months,i=n===void 0?0:n,a=e.days,o=a===void 0?0:a,s=e.hours,u=s===void 0?0:s,l=e.minutes,d=l===void 0?0:l,c=e.seconds,m=c===void 0?0:c;return"P".concat(r,"Y").concat(i,"M").concat(o,"DT").concat(u,"H").concat(d,"M").concat(m,"S")}gE.exports=mf.default});var xE=g((gf,vE)=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.default=NX;var PX=hf(E()),CX=hf(er()),Cn=hf(wi()),yE=hf($());function hf(e){return e&&e.__esModule?e:{default:e}}function NX(e,t){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var r=(0,PX.default)(e);if(!(0,CX.default)(r))throw new RangeError("Invalid time value");var n=t||{},i=n.fractionDigits==null?0:(0,yE.default)(n.fractionDigits);if(!(i>=0&&i<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var a=(0,Cn.default)(r.getDate(),2),o=(0,Cn.default)(r.getMonth()+1,2),s=r.getFullYear(),u=(0,Cn.default)(r.getHours(),2),l=(0,Cn.default)(r.getMinutes(),2),d=(0,Cn.default)(r.getSeconds(),2),c="";if(i>0){var m=r.getMilliseconds(),h=Math.floor(m*Math.pow(10,i-3));c="."+(0,Cn.default)(h,i)}var x="",_=r.getTimezoneOffset();if(_!==0){var N=Math.abs(_),C=(0,Cn.default)((0,yE.default)(N/60),2),j=(0,Cn.default)(N%60,2),L=_<0?"+":"-";x="".concat(L).concat(C,":").concat(j)}else x="Z";return"".concat(s,"-").concat(o,"-").concat(a,"T").concat(u,":").concat(l,":").concat(d).concat(c).concat(x)}vE.exports=gf.default});var wE=g((vf,bE)=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.default=DX;var EX=xx(E()),RX=xx(er()),yf=xx(wi());function xx(e){return e&&e.__esModule?e:{default:e}}var jX=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],IX=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function DX(e){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var t=(0,EX.default)(e);if(!(0,RX.default)(t))throw new RangeError("Invalid time value");var r=jX[t.getUTCDay()],n=(0,yf.default)(t.getUTCDate(),2),i=IX[t.getUTCMonth()],a=t.getUTCFullYear(),o=(0,yf.default)(t.getUTCHours(),2),s=(0,yf.default)(t.getUTCMinutes(),2),u=(0,yf.default)(t.getUTCSeconds(),2);return"".concat(r,", ").concat(n," ").concat(i," ").concat(a," ").concat(o,":").concat(s,":").concat(u," GMT")}bE.exports=vf.default});var ME=g((xf,_E)=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.default=kX;var AX=Si(On()),LX=Si(cx()),WX=Si(bi()),OE=Si(Fa()),TE=Si(E()),SE=Si(dr()),FX=Si(S());function Si(e){return e&&e.__esModule?e:{default:e}}function kX(e,t,r){(0,FX.default)(2,arguments);var n=(0,TE.default)(e),i=(0,TE.default)(t),a=r||{},o=a.locale||WX.default;if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");if(!o.formatRelative)throw new RangeError("locale must contain formatRelative property");var s=(0,AX.default)(n,i);if(isNaN(s))throw new RangeError("Invalid time value");var u;s<-6?u="other":s<-1?u="lastWeek":s<0?u="yesterday":s<1?u="today":s<2?u="tomorrow":s<7?u="nextWeek":u="other";var l=(0,OE.default)(n,(0,SE.default)(n)),d=(0,OE.default)(i,(0,SE.default)(i)),c=o.formatRelative(u,l,d,a);return(0,LX.default)(n,c,a)}_E.exports=xf.default});var NE=g((bf,qE)=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.default=BX;var HX=bx(E()),UX=bx($()),YX=bx(S());function bx(e){return e&&e.__esModule?e:{default:e}}function BX(e){(0,YX.default)(1,arguments);var t=(0,UX.default)(e);return(0,HX.default)(t*1e3)}qE.exports=bf.default});var wx=g((wf,PE)=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.default=$X;var GX=CE(E()),VX=CE(S());function CE(e){return e&&e.__esModule?e:{default:e}}function $X(e){(0,VX.default)(1,arguments);var t=(0,GX.default)(e),r=t.getDate();return r}PE.exports=wf.default});var _x=g((_f,DE)=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.default=zX;var QX=EE(E()),KX=EE(S());function EE(e){return e&&e.__esModule?e:{default:e}}function zX(e){(0,KX.default)(1,arguments);var t=(0,QX.default)(e),r=t.getDay();return r}DE.exports=_f.default});var jE=g((Of,RE)=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.default=XX;var JX=Tf(E()),ZX=Tf(fc()),eJ=Tf(On()),tJ=Tf(S());function Tf(e){return e&&e.__esModule?e:{default:e}}function XX(e){(0,tJ.default)(1,arguments);var t=(0,JX.default)(e),r=(0,eJ.default)(t,(0,ZX.default)(t)),n=r+1;return n}RE.exports=Of.default});var Ox=g((Sf,IE)=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.default=rJ;var nJ=kE(E()),iJ=kE(S());function kE(e){return e&&e.__esModule?e:{default:e}}function rJ(e){(0,iJ.default)(1,arguments);var t=(0,nJ.default)(e),r=t.getFullYear(),n=t.getMonth(),i=new Date(0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}IE.exports=Sf.default});var Tx=g((Mf,AE)=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.default=aJ;var oJ=LE(E()),sJ=LE(S());function LE(e){return e&&e.__esModule?e:{default:e}}function aJ(e){(0,sJ.default)(1,arguments);var t=(0,oJ.default)(e),r=t.getFullYear();return r%400==0||r%4==0&&r%100!=0}AE.exports=Mf.default});var FE=g((qf,WE)=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.default=uJ;var lJ=Sx(E()),dJ=Sx(Tx()),cJ=Sx(S());function Sx(e){return e&&e.__esModule?e:{default:e}}function uJ(e){(0,cJ.default)(1,arguments);var t=(0,lJ.default)(e);return isNaN(t)?NaN:(0,dJ.default)(t)?366:365}WE.exports=qf.default});var UE=g((Nf,BE)=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.default=fJ;var pJ=HE(E()),mJ=HE(S());function HE(e){return e&&e.__esModule?e:{default:e}}function fJ(e){(0,mJ.default)(1,arguments);var t=(0,pJ.default)(e),r=t.getFullYear(),n=Math.floor(r/10)*10;return n}BE.exports=Nf.default});var GE=g((Pf,YE)=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.default=gJ;var hJ=$E(E()),vJ=$E(S());function $E(e){return e&&e.__esModule?e:{default:e}}function gJ(e){(0,vJ.default)(1,arguments);var t=(0,hJ.default)(e),r=t.getHours();return r}YE.exports=Pf.default});var Mx=g((Cf,VE)=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.default=yJ;var xJ=zE(E()),bJ=zE(S());function zE(e){return e&&e.__esModule?e:{default:e}}function yJ(e){(0,bJ.default)(1,arguments);var t=(0,xJ.default)(e),r=t.getDay();return r===0&&(r=7),r}VE.exports=Cf.default});var qx=g((Df,QE)=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.default=wJ;var _J=Ef(E()),OJ=Ef(_n()),TJ=Ef(La()),SJ=Ef(S());function Ef(e){return e&&e.__esModule?e:{default:e}}var MJ=6048e5;function wJ(e){(0,SJ.default)(1,arguments);var t=(0,_J.default)(e),r=(0,OJ.default)(t).getTime()-(0,TJ.default)(t).getTime();return Math.round(r/MJ)+1}QE.exports=Df.default});var JE=g((Rf,KE)=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.default=qJ;var XE=Nx(La()),NJ=Nx(as()),PJ=Nx(S());function Nx(e){return e&&e.__esModule?e:{default:e}}var CJ=6048e5;function qJ(e){(0,PJ.default)(1,arguments);var t=(0,XE.default)(e),r=(0,XE.default)((0,NJ.default)(t,60)),n=r.valueOf()-t.valueOf();return Math.round(n/CJ)}KE.exports=Rf.default});var tR=g((jf,ZE)=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.default=DJ;var EJ=eR(E()),RJ=eR(S());function eR(e){return e&&e.__esModule?e:{default:e}}function DJ(e){(0,RJ.default)(1,arguments);var t=(0,EJ.default)(e),r=t.getMilliseconds();return r}ZE.exports=jf.default});var iR=g((If,rR)=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.default=jJ;var IJ=nR(E()),kJ=nR(S());function nR(e){return e&&e.__esModule?e:{default:e}}function jJ(e){(0,kJ.default)(1,arguments);var t=(0,IJ.default)(e),r=t.getMinutes();return r}rR.exports=If.default});var sR=g((kf,aR)=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.default=AJ;var LJ=oR(E()),WJ=oR(S());function oR(e){return e&&e.__esModule?e:{default:e}}function AJ(e){(0,WJ.default)(1,arguments);var t=(0,LJ.default)(e),r=t.getMonth();return r}aR.exports=kf.default});var dR=g((Af,uR)=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.default=FJ;var Lf=lR(E()),BJ=lR(S());function lR(e){return e&&e.__esModule?e:{default:e}}var HJ=24*60*60*1e3;function FJ(e,t){(0,BJ.default)(2,arguments);var r=e||{},n=t||{},i=(0,Lf.default)(r.start).getTime(),a=(0,Lf.default)(r.end).getTime(),o=(0,Lf.default)(n.start).getTime(),s=(0,Lf.default)(n.end).getTime();if(!(i<=a&&o<=s))throw new RangeError("Invalid interval");var u=i<s&&o<a;if(!u)return 0;var l=o<i?i:o,d=s>a?a:s,c=d-l;return Math.ceil(c/HJ)}uR.exports=Af.default});var pR=g((Wf,cR)=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.default=UJ;var YJ=fR(E()),$J=fR(S());function fR(e){return e&&e.__esModule?e:{default:e}}function UJ(e){(0,$J.default)(1,arguments);var t=(0,YJ.default)(e),r=t.getSeconds();return r}cR.exports=Wf.default});var Px=g((Ff,mR)=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.default=GJ;var VJ=gR(E()),zJ=gR(S());function gR(e){return e&&e.__esModule?e:{default:e}}function GJ(e){(0,zJ.default)(1,arguments);var t=(0,VJ.default)(e),r=t.getTime();return r}mR.exports=Ff.default});var yR=g((Bf,hR)=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.default=QJ;var KJ=vR(Px()),XJ=vR(S());function vR(e){return e&&e.__esModule?e:{default:e}}function QJ(e){return(0,XJ.default)(1,arguments),Math.floor((0,KJ.default)(e)/1e3)}hR.exports=Bf.default});var Cx=g((Hf,xR)=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.default=JJ;var bR=Uf(Lr()),ZJ=Uf(E()),wR=Uf($()),eZ=Uf(S());function Uf(e){return e&&e.__esModule?e:{default:e}}function JJ(e,t){(0,eZ.default)(1,arguments);var r=(0,ZJ.default)(e),n=r.getFullYear(),i=t||{},a=i.locale,o=a&&a.options&&a.options.firstWeekContainsDate,s=o==null?1:(0,wR.default)(o),u=i.firstWeekContainsDate==null?s:(0,wR.default)(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setFullYear(n+1,0,u),l.setHours(0,0,0,0);var d=(0,bR.default)(l,t),c=new Date(0);c.setFullYear(n,0,u),c.setHours(0,0,0,0);var m=(0,bR.default)(c,t);return r.getTime()>=d.getTime()?n+1:r.getTime()>=m.getTime()?n:n-1}xR.exports=Hf.default});var Gf=g((Yf,_R)=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.default=tZ;var rZ=$f(Cx()),nZ=$f(Lr()),OR=$f($()),iZ=$f(S());function $f(e){return e&&e.__esModule?e:{default:e}}function tZ(e,t){(0,iZ.default)(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.firstWeekContainsDate,a=i==null?1:(0,OR.default)(i),o=r.firstWeekContainsDate==null?a:(0,OR.default)(r.firstWeekContainsDate),s=(0,rZ.default)(e,t),u=new Date(0);u.setFullYear(s,0,o),u.setHours(0,0,0,0);var l=(0,nZ.default)(u,t);return l}_R.exports=Yf.default});var Dx=g((Vf,TR)=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.default=aZ;var oZ=zf(Lr()),sZ=zf(Gf()),uZ=zf(E()),lZ=zf(S());function zf(e){return e&&e.__esModule?e:{default:e}}var dZ=6048e5;function aZ(e,t){(0,lZ.default)(1,arguments);var r=(0,uZ.default)(e),n=(0,oZ.default)(r,t).getTime()-(0,sZ.default)(r,t).getTime();return Math.round(n/dZ)+1}TR.exports=Vf.default});var qR=g((Qf,SR)=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.default=cZ;var fZ=Ts(wx()),pZ=Ts(_x()),mZ=Ts(ds()),MR=Ts($()),gZ=Ts(S());function Ts(e){return e&&e.__esModule?e:{default:e}}function cZ(e,t){(0,gZ.default)(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:(0,MR.default)(i),o=r.weekStartsOn==null?a:(0,MR.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=(0,fZ.default)(e);if(isNaN(s))return s;var u=(0,pZ.default)((0,mZ.default)(e)),l=0;u>=o?l=o+7-u:l=o-u;var d=1;if(s>l){var c=s-l;d=d+Math.ceil(c/7)}return d}SR.exports=Qf.default});var Ex=g((Kf,NR)=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.default=hZ;var vZ=PR(E()),yZ=PR(S());function PR(e){return e&&e.__esModule?e:{default:e}}function hZ(e){(0,yZ.default)(1,arguments);var t=(0,vZ.default)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}NR.exports=Kf.default});var DR=g((Xf,CR)=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.default=xZ;var bZ=Jf(jy()),wZ=Jf(Ex()),_Z=Jf(ds()),OZ=Jf(S());function Jf(e){return e&&e.__esModule?e:{default:e}}function xZ(e,t){return(0,OZ.default)(1,arguments),(0,bZ.default)((0,wZ.default)(e),(0,_Z.default)(e),t)+1}CR.exports=Xf.default});var jR=g((Zf,ER)=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.default=TZ;var SZ=RR(E()),MZ=RR(S());function RR(e){return e&&e.__esModule?e:{default:e}}function TZ(e){(0,MZ.default)(1,arguments);var t=(0,SZ.default)(e),r=t.getFullYear();return r}ER.exports=Zf.default});var tp=g((ep,IR)=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.default=qZ;var NZ=Rx($()),PZ=Rx(Ar()),CZ=Rx(S());function Rx(e){return e&&e.__esModule?e:{default:e}}function qZ(e,t){(0,CZ.default)(2,arguments);var r=(0,NZ.default)(t);return(0,PZ.default)(e,-r)}IR.exports=ep.default});var Ix=g((rp,kR)=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.default=DZ;var EZ=jx($()),RZ=jx(Ia()),jZ=jx(S());function jx(e){return e&&e.__esModule?e:{default:e}}function DZ(e,t){(0,jZ.default)(2,arguments);var r=(0,EZ.default)(t);return(0,RZ.default)(e,-r)}kR.exports=rp.default});var kx=g((np,AR)=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.default=IZ;var kZ=Ss(tp()),AZ=Ss(Ix()),LZ=Ss(E()),WZ=Ss(S()),Mi=Ss($());function Ss(e){return e&&e.__esModule?e:{default:e}}function IZ(e,t){if((0,WZ.default)(2,arguments),!t||typeof t!="object")return new Date(NaN);var r="years"in t?(0,Mi.default)(t.years):0,n="months"in t?(0,Mi.default)(t.months):0,i="weeks"in t?(0,Mi.default)(t.weeks):0,a="days"in t?(0,Mi.default)(t.days):0,o="hours"in t?(0,Mi.default)(t.hours):0,s="minutes"in t?(0,Mi.default)(t.minutes):0,u="seconds"in t?(0,Mi.default)(t.seconds):0,l=(0,AZ.default)((0,LZ.default)(e),n+r*12),d=(0,kZ.default)(l,a+i*7),c=s+o*60,m=u+c*60,h=m*1e3,x=new Date(d.getTime()-h);return x}AR.exports=np.default});var BR=g((ip,LR)=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.default=FZ;var BZ=tr(Tn()),HZ=tr(By()),UZ=tr(us()),YZ=tr(Id()),$Z=tr(Ay()),GZ=tr(Fy()),VZ=tr(ls()),WR=tr(er()),zZ=tr(S()),FR=tr(E()),Ms=tr(kx());function tr(e){return e&&e.__esModule?e:{default:e}}function FZ(e){var t=e.start,r=e.end;(0,zZ.default)(1,arguments);var n=(0,FR.default)(t),i=(0,FR.default)(r);if(!(0,WR.default)(n))throw new RangeError("Start Date is invalid");if(!(0,WR.default)(i))throw new RangeError("End Date is invalid");var a={years:0,months:0,days:0,hours:0,minutes:0,seconds:0},o=(0,BZ.default)(n,i);a.years=Math.abs((0,HZ.default)(n,i));var s=(0,Ms.default)(n,{years:o*a.years});a.months=Math.abs((0,UZ.default)(s,i));var u=(0,Ms.default)(s,{months:o*a.months});a.days=Math.abs((0,YZ.default)(u,i));var l=(0,Ms.default)(u,{days:o*a.days});a.hours=Math.abs((0,$Z.default)(l,i));var d=(0,Ms.default)(l,{hours:o*a.hours});a.minutes=Math.abs((0,GZ.default)(d,i));var c=(0,Ms.default)(d,{minutes:o*a.minutes});return a.seconds=Math.abs((0,VZ.default)(c,i)),a}LR.exports=ip.default});var $R=g((ap,HR)=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.default=QZ;var YR=UR(E()),KZ=UR(S());function UR(e){return e&&e.__esModule?e:{default:e}}function QZ(e,t){(0,KZ.default)(2,arguments);var r=(0,YR.default)(e),n=(0,YR.default)(t);return r.getTime()>n.getTime()}HR.exports=ap.default});var QR=g((op,GR)=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.default=XZ;var zR=VR(E()),JZ=VR(S());function VR(e){return e&&e.__esModule?e:{default:e}}function XZ(e,t){(0,JZ.default)(2,arguments);var r=(0,zR.default)(e),n=(0,zR.default)(t);return r.getTime()<n.getTime()}GR.exports=op.default});var XR=g((sp,KR)=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.default=ZZ;var tee=eee(S());function eee(e){return e&&e.__esModule?e:{default:e}}function ZZ(e){return(0,tee.default)(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}KR.exports=sp.default});var tj=g((up,JR)=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.default=ree;var ej=ZR(E()),nee=ZR(S());function ZR(e){return e&&e.__esModule?e:{default:e}}function ree(e,t){(0,nee.default)(2,arguments);var r=(0,ej.default)(e),n=(0,ej.default)(t);return r.getTime()===n.getTime()}JR.exports=up.default});var nj=g((lp,rj)=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.default=iee;function iee(e,t,r){if(arguments.length<3)throw new TypeError("3 argument required, but only "+arguments.length+" present");var n=new Date(e,t,r);return n.getFullYear()===e&&n.getMonth()===t&&n.getDate()===r}rj.exports=lp.default});var oj=g((dp,ij)=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.default=aee;var oee=aj(E()),see=aj(S());function aj(e){return e&&e.__esModule?e:{default:e}}function aee(e){return(0,see.default)(1,arguments),(0,oee.default)(e).getDate()===1}ij.exports=dp.default});var lj=g((cp,sj)=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.default=uee;var lee=uj(E()),dee=uj(S());function uj(e){return e&&e.__esModule?e:{default:e}}function uee(e){return(0,dee.default)(1,arguments),(0,lee.default)(e).getDay()===5}sj.exports=cp.default});var fj=g((fp,dj)=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.default=cee;var fee=cj(E()),pee=cj(S());function cj(e){return e&&e.__esModule?e:{default:e}}function cee(e){return(0,pee.default)(1,arguments),(0,fee.default)(e).getTime()>Date.now()}dj.exports=fp.default});var mj=g((pp,pj)=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.default=mee;var gee=mp(E()),hee=mp(yc()),vee=mp(uc()),yee=mp(S());function mp(e){return e&&e.__esModule?e:{default:e}}function mee(e){(0,yee.default)(1,arguments);var t=(0,gee.default)(e);return(0,hee.default)(t).getTime()===(0,vee.default)(t).getTime()}pj.exports=pp.default});var hj=g((gp,gj)=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.default=xee;var Lx=Ax($()),bee=Ax(E()),wee=Ax(S());function Ax(e){return e&&e.__esModule?e:{default:e}}function xee(e,t,r){(0,wee.default)(2,arguments);var n=r||{},i=n.locale,a=i&&i.options&&i.options.weekStartsOn,o=a==null?0:(0,Lx.default)(a),s=n.weekStartsOn==null?o:(0,Lx.default)(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,bee.default)(e),l=(0,Lx.default)(t),d=u.getUTCDay(),c=l%7,m=(c+7)%7,h=(m<s?7:0)+l-d;return u.setUTCDate(u.getUTCDate()+h),u}gj.exports=gp.default});var yj=g((hp,vj)=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.default=_ee;var Oee=Wx($()),Tee=Wx(E()),See=Wx(S());function Wx(e){return e&&e.__esModule?e:{default:e}}function _ee(e,t){(0,See.default)(2,arguments);var r=(0,Oee.default)(t);r%7==0&&(r=r-7);var n=1,i=(0,Tee.default)(e),a=i.getUTCDay(),o=r%7,s=(o+7)%7,u=(s<n?7:0)+r-a;return i.setUTCDate(i.getUTCDate()+u),i}vj.exports=hp.default});var bj=g((vp,xj)=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.default=Mee;var qee=yp($()),Nee=yp(E()),Pee=yp(ox()),Cee=yp(S());function yp(e){return e&&e.__esModule?e:{default:e}}function Mee(e,t){(0,Cee.default)(2,arguments);var r=(0,Nee.default)(e),n=(0,qee.default)(t),i=(0,Pee.default)(r)-n;return r.setUTCDate(r.getUTCDate()-i*7),r}xj.exports=vp.default});var _j=g((xp,wj)=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.default=Dee;var Eee=bp($()),Ree=bp(E()),jee=bp(ux()),Iee=bp(S());function bp(e){return e&&e.__esModule?e:{default:e}}function Dee(e,t,r){(0,Iee.default)(2,arguments);var n=(0,Ree.default)(e),i=(0,Eee.default)(t),a=(0,jee.default)(n,r)-i;return n.setUTCDate(n.getUTCDate()-a*7),n}wj.exports=xp.default});var Nj=g((qs,Oj)=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.default=void 0;var kee=qi(zc()),Fx=qi(hj()),Aee=qi(yj()),Lee=qi(bj()),Wee=qi(_j()),Tj=qi(xs()),Bx=qi(bs());function qi(e){return e&&e.__esModule?e:{default:e}}var Fee=36e5,Bee=6e4,Hee=1e3,Fe={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},cr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function je(e,t,r){var n=t.match(e);if(!n)return null;var i=parseInt(n[0],10);return{value:r?r(i):i,rest:t.slice(n[0].length)}}function fr(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(i*Fee+a*Bee+o*Hee),rest:t.slice(r[0].length)}}function Sj(e,t){return je(Fe.anyDigitsSigned,e,t)}function Ae(e,t,r){switch(e){case 1:return je(Fe.singleDigit,t,r);case 2:return je(Fe.twoDigits,t,r);case 3:return je(Fe.threeDigits,t,r);case 4:return je(Fe.fourDigits,t,r);default:return je(new RegExp("^\\d{1,"+e+"}"),t,r)}}function wp(e,t,r){switch(e){case 1:return je(Fe.singleDigitSigned,t,r);case 2:return je(Fe.twoDigitsSigned,t,r);case 3:return je(Fe.threeDigitsSigned,t,r);case 4:return je(Fe.fourDigitsSigned,t,r);default:return je(new RegExp("^-?\\d{1,"+e+"}"),t,r)}}function Hx(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Mj(e,t){var r=t>0,n=r?t:1-t,i;if(n<=50)i=e||100;else{var a=n+50,o=Math.floor(a/100)*100,s=e>=a%100;i=e+o-(s?100:0)}return r?i:1-i}var Uee=[31,28,31,30,31,30,31,31,30,31,30,31],Yee=[31,29,31,30,31,30,31,31,30,31,30,31];function qj(e){return e%400==0||e%4==0&&e%100!=0}var $ee={G:{priority:140,parse:function(e,t,r,n){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}},set:function(e,t,r,n){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,r,n){var i=function(a){return{year:a,isTwoDigitYear:t==="yy"}};switch(t){case"y":return Ae(4,e,i);case"yo":return r.ordinalNumber(e,{unit:"year",valueCallback:i});default:return Ae(t.length,e,i)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,n){var i=e.getUTCFullYear();if(r.isTwoDigitYear){var a=Mj(r.year,i);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var o=!("era"in t)||t.era===1?r.year:1-r.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,r,n){var i=function(a){return{year:a,isTwoDigitYear:t==="YY"}};switch(t){case"Y":return Ae(4,e,i);case"Yo":return r.ordinalNumber(e,{unit:"year",valueCallback:i});default:return Ae(t.length,e,i)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,n){var i=(0,kee.default)(e,n);if(r.isTwoDigitYear){var a=Mj(r.year,i);return e.setUTCFullYear(a,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,Bx.default)(e,n)}var o=!("era"in t)||t.era===1?r.year:1-r.year;return e.setUTCFullYear(o,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,Bx.default)(e,n)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,r,n){return wp(t==="R"?4:t.length,e)},set:function(e,t,r,n){var i=new Date(0);return i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0),(0,Tj.default)(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,r,n){return wp(t==="u"?4:t.length,e)},set:function(e,t,r,n){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,r,n){switch(t){case"Q":case"QQ":return Ae(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,n){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,r,n){switch(t){case"q":case"qq":return Ae(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,n){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,r,n){var i=function(a){return a-1};switch(t){case"M":return je(Fe.month,e,i);case"MM":return Ae(2,e,i);case"Mo":return r.ordinalNumber(e,{unit:"month",valueCallback:i});case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,n){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,r,n){var i=function(a){return a-1};switch(t){case"L":return je(Fe.month,e,i);case"LL":return Ae(2,e,i);case"Lo":return r.ordinalNumber(e,{unit:"month",valueCallback:i});case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,n){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,r,n){switch(t){case"w":return je(Fe.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return Ae(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,n){return(0,Bx.default)((0,Wee.default)(e,r,n),n)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,r,n){switch(t){case"I":return je(Fe.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return Ae(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,n){return(0,Tj.default)((0,Lee.default)(e,r,n),n)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,r,n){switch(t){case"d":return je(Fe.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return Ae(t.length,e)}},validate:function(e,t,r){var n=e.getUTCFullYear(),i=qj(n),a=e.getUTCMonth();return i?t>=1&&t<=Yee[a]:t>=1&&t<=Uee[a]},set:function(e,t,r,n){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,r,n){switch(t){case"D":case"DD":return je(Fe.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return Ae(t.length,e)}},validate:function(e,t,r){var n=e.getUTCFullYear(),i=qj(n);return i?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,r,n){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,r,n){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,n){return e=(0,Fx.default)(e,r,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,r,n){var i=function(a){var o=Math.floor((a-1)/7)*7;return(a+n.weekStartsOn+6)%7+o};switch(t){case"e":case"ee":return Ae(t.length,e,i);case"eo":return r.ordinalNumber(e,{unit:"day",valueCallback:i});case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,n){return e=(0,Fx.default)(e,r,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,r,n){var i=function(a){var o=Math.floor((a-1)/7)*7;return(a+n.weekStartsOn+6)%7+o};switch(t){case"c":case"cc":return Ae(t.length,e,i);case"co":return r.ordinalNumber(e,{unit:"day",valueCallback:i});case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,n){return e=(0,Fx.default)(e,r,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,r,n){var i=function(a){return a===0?7:a};switch(t){case"i":case"ii":return Ae(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return r.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||r.day(e,{width:"short",context:"formatting",valueCallback:i})||r.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return r.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return r.day(e,{width:"short",context:"formatting",valueCallback:i})||r.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return r.day(e,{width:"wide",context:"formatting",valueCallback:i})||r.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||r.day(e,{width:"short",context:"formatting",valueCallback:i})||r.day(e,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(e,t,r){return t>=1&&t<=7},set:function(e,t,r,n){return e=(0,Aee.default)(e,r,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,r,n){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,n){return e.setUTCHours(Hx(r),0,0,0),e},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(e,t,r,n){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,n){return e.setUTCHours(Hx(r),0,0,0),e},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(e,t,r,n){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,n){return e.setUTCHours(Hx(r),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,r,n){switch(t){case"h":return je(Fe.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return Ae(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=12},set:function(e,t,r,n){var i=e.getUTCHours()>=12;return i&&r<12?e.setUTCHours(r+12,0,0,0):!i&&r===12?e.setUTCHours(0,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,r,n){switch(t){case"H":return je(Fe.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return Ae(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=23},set:function(e,t,r,n){return e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,r,n){switch(t){case"K":return je(Fe.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return Ae(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,n){var i=e.getUTCHours()>=12;return i&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(e,t,r,n){switch(t){case"k":return je(Fe.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return Ae(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=24},set:function(e,t,r,n){var i=r<=24?r%24:r;return e.setUTCHours(i,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,r,n){switch(t){case"m":return je(Fe.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return Ae(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,n){return e.setUTCMinutes(r,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,r,n){switch(t){case"s":return je(Fe.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return Ae(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,n){return e.setUTCSeconds(r,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,r,n){var i=function(a){return Math.floor(a*Math.pow(10,-t.length+3))};return Ae(t.length,e,i)},set:function(e,t,r,n){return e.setUTCMilliseconds(r),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,r,n){switch(t){case"X":return fr(cr.basicOptionalMinutes,e);case"XX":return fr(cr.basic,e);case"XXXX":return fr(cr.basicOptionalSeconds,e);case"XXXXX":return fr(cr.extendedOptionalSeconds,e);case"XXX":default:return fr(cr.extended,e)}},set:function(e,t,r,n){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,r,n){switch(t){case"x":return fr(cr.basicOptionalMinutes,e);case"xx":return fr(cr.basic,e);case"xxxx":return fr(cr.basicOptionalSeconds,e);case"xxxxx":return fr(cr.extendedOptionalSeconds,e);case"xxx":default:return fr(cr.extended,e)}},set:function(e,t,r,n){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,r,n){return Sj(e)},set:function(e,t,r,n){return[new Date(r*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,r,n){return Sj(e)},set:function(e,t,r,n){return[new Date(r),{timestampIsSet:!0}]},incompatibleTokens:"*"}},Gee=$ee;qs.default=Gee;Oj.exports=qs.default});var Ux=g((_p,Pj)=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.default=Vee;var zee=Fr(bi()),Qee=Fr(Fa()),Cj=Fr(E()),Kee=Fr(fx()),Xee=Fr(lx()),Jee=Fr(dr()),Op=dx(),Tp=Fr($()),Zee=Fr(Nj()),ete=Fr(S());function Fr(e){return e&&e.__esModule?e:{default:e}}var tte=10,rte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ite=/^'([^]*?)'?$/,ate=/''/g,ote=/\S/,ste=/[a-zA-Z]/;function Vee(e,t,r,n){(0,ete.default)(3,arguments);var i=String(e),a=String(t),o=n||{},s=o.locale||zee.default;if(!s.match)throw new RangeError("locale must contain match property");var u=s.options&&s.options.firstWeekContainsDate,l=u==null?1:(0,Tp.default)(u),d=o.firstWeekContainsDate==null?l:(0,Tp.default)(o.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=s.options&&s.options.weekStartsOn,m=c==null?0:(0,Tp.default)(c),h=o.weekStartsOn==null?m:(0,Tp.default)(o.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(a==="")return i===""?(0,Cj.default)(r):new Date(NaN);var x={firstWeekContainsDate:d,weekStartsOn:h,locale:s},_=[{priority:tte,subPriority:-1,set:ute,index:0}],N,C=a.match(nte).map(function(ke){var Ze=ke[0];if(Ze==="p"||Ze==="P"){var Be=Xee.default[Ze];return Be(ke,s.formatLong,x)}return ke}).join("").match(rte),j=[];for(N=0;N<C.length;N++){var L=C[N];!o.useAdditionalWeekYearTokens&&(0,Op.isProtectedWeekYearToken)(L)&&(0,Op.throwProtectedError)(L,a,e),!o.useAdditionalDayOfYearTokens&&(0,Op.isProtectedDayOfYearToken)(L)&&(0,Op.throwProtectedError)(L,a,e);var F=L[0],B=Zee.default[F];if(B){var he=B.incompatibleTokens;if(Array.isArray(he)){for(var qe=void 0,me=0;me<j.length;me++){var be=j[me].token;if(he.indexOf(be)!==-1||be===F){qe=j[me];break}}if(qe)throw new RangeError("The format string mustn't contain `".concat(qe.fullToken,"` and `").concat(L,"` at the same time"))}else if(B.incompatibleTokens==="*"&&j.length)throw new RangeError("The format string mustn't contain `".concat(L,"` and any other token at the same time"));j.push({token:F,fullToken:L});var Le=B.parse(i,L,s.match,x);if(!Le)return new Date(NaN);_.push({priority:B.priority,subPriority:B.subPriority||0,set:B.set,validate:B.validate,value:Le.value,index:_.length}),i=Le.rest}else{if(F.match(ste))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");if(L==="''"?L="'":F==="'"&&(L=lte(L)),i.indexOf(L)===0)i=i.slice(L.length);else return new Date(NaN)}}if(i.length>0&&ote.test(i))return new Date(NaN);var st=_.map(function(ke){return ke.priority}).sort(function(ke,Ze){return Ze-ke}).filter(function(ke,Ze,Be){return Be.indexOf(ke)===Ze}).map(function(ke){return _.filter(function(Ze){return Ze.priority===ke}).sort(function(Ze,Be){return Be.subPriority-Ze.subPriority})}).map(function(ke){return ke[0]}),Ve=(0,Cj.default)(r);if(isNaN(Ve))return new Date(NaN);var Ie=(0,Qee.default)(Ve,(0,Jee.default)(Ve)),wt={};for(N=0;N<st.length;N++){var Je=st[N];if(Je.validate&&!Je.validate(Ie,Je.value,x))return new Date(NaN);var _t=Je.set(Ie,wt,Je.value,x);_t[0]?(Ie=_t[0],(0,Kee.default)(wt,_t[1])):Ie=_t}return Ie}function ute(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}function lte(e){return e.match(ite)[1].replace(ate,"'")}Pj.exports=_p.default});var Ej=g((Sp,Dj)=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.default=dte;var cte=Yx(Ux()),fte=Yx(er()),pte=Yx(S());function Yx(e){return e&&e.__esModule?e:{default:e}}function dte(e,t,r){return(0,pte.default)(2,arguments),(0,fte.default)((0,cte.default)(e,t,new Date,r))}Dj.exports=Sp.default});var Ij=g((Mp,Rj)=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.default=mte;var gte=jj(E()),hte=jj(S());function jj(e){return e&&e.__esModule?e:{default:e}}function mte(e){return(0,hte.default)(1,arguments),(0,gte.default)(e).getDay()===1}Rj.exports=Mp.default});var Lj=g((qp,kj)=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.default=vte;var yte=Aj(E()),xte=Aj(S());function Aj(e){return e&&e.__esModule?e:{default:e}}function vte(e){return(0,xte.default)(1,arguments),(0,yte.default)(e).getTime()<Date.now()}kj.exports=qp.default});var $x=g((Np,Wj)=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.default=bte;var wte=Fj(E()),_te=Fj(S());function Fj(e){return e&&e.__esModule?e:{default:e}}function bte(e){(0,_te.default)(1,arguments);var t=(0,wte.default)(e);return t.setMinutes(0,0,0),t}Wj.exports=Np.default});var Gx=g((Pp,Bj)=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.default=Ote;var Uj=Hj($x()),Tte=Hj(S());function Hj(e){return e&&e.__esModule?e:{default:e}}function Ote(e,t){(0,Tte.default)(2,arguments);var r=(0,Uj.default)(e),n=(0,Uj.default)(t);return r.getTime()===n.getTime()}Bj.exports=Pp.default});var Dp=g((Cp,Yj)=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.default=Ste;var Gj=$j(Lr()),Mte=$j(S());function $j(e){return e&&e.__esModule?e:{default:e}}function Ste(e,t,r){(0,Mte.default)(2,arguments);var n=(0,Gj.default)(e,r),i=(0,Gj.default)(t,r);return n.getTime()===i.getTime()}Yj.exports=Cp.default});var Vx=g((Ep,Vj)=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.default=qte;var Nte=zj(Dp()),Pte=zj(S());function zj(e){return e&&e.__esModule?e:{default:e}}function qte(e,t){return(0,Pte.default)(2,arguments),(0,Nte.default)(e,t,{weekStartsOn:1})}Vj.exports=Ep.default});var Jj=g((Rp,Qj)=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.default=Cte;var Xj=Kj(La()),Dte=Kj(S());function Kj(e){return e&&e.__esModule?e:{default:e}}function Cte(e,t){(0,Dte.default)(2,arguments);var r=(0,Xj.default)(e),n=(0,Xj.default)(t);return r.getTime()===n.getTime()}Qj.exports=Rp.default});var zx=g((jp,Zj)=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.default=Ete;var Rte=eI(E()),jte=eI(S());function eI(e){return e&&e.__esModule?e:{default:e}}function Ete(e){(0,jte.default)(1,arguments);var t=(0,Rte.default)(e);return t.setSeconds(0,0),t}Zj.exports=jp.default});var Qx=g((Ip,tI)=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.default=Ite;var nI=rI(zx()),kte=rI(S());function rI(e){return e&&e.__esModule?e:{default:e}}function Ite(e,t){(0,kte.default)(2,arguments);var r=(0,nI.default)(e),n=(0,nI.default)(t);return r.getTime()===n.getTime()}tI.exports=Ip.default});var Kx=g((kp,iI)=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.default=Ate;var oI=aI(E()),Lte=aI(S());function aI(e){return e&&e.__esModule?e:{default:e}}function Ate(e,t){(0,Lte.default)(2,arguments);var r=(0,oI.default)(e),n=(0,oI.default)(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}iI.exports=kp.default});var Xx=g((Ap,sI)=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.default=Wte;var lI=uI(Jd()),Fte=uI(S());function uI(e){return e&&e.__esModule?e:{default:e}}function Wte(e,t){(0,Fte.default)(2,arguments);var r=(0,lI.default)(e),n=(0,lI.default)(t);return r.getTime()===n.getTime()}sI.exports=Ap.default});var Jx=g((Lp,dI)=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.default=Bte;var Hte=cI(E()),Ute=cI(S());function cI(e){return e&&e.__esModule?e:{default:e}}function Bte(e){(0,Ute.default)(1,arguments);var t=(0,Hte.default)(e);return t.setMilliseconds(0),t}dI.exports=Lp.default});var Zx=g((Wp,fI)=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.default=Yte;var mI=pI(Jx()),$te=pI(S());function pI(e){return e&&e.__esModule?e:{default:e}}function Yte(e,t){(0,$te.default)(2,arguments);var r=(0,mI.default)(e),n=(0,mI.default)(t);return r.getTime()===n.getTime()}fI.exports=Wp.default});var eb=g((Fp,gI)=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.default=Gte;var vI=hI(E()),Vte=hI(S());function hI(e){return e&&e.__esModule?e:{default:e}}function Gte(e,t){(0,Vte.default)(2,arguments);var r=(0,vI.default)(e),n=(0,vI.default)(t);return r.getFullYear()===n.getFullYear()}gI.exports=Fp.default});var bI=g((Bp,yI)=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.default=zte;var Qte=xI(Gx()),Kte=xI(S());function xI(e){return e&&e.__esModule?e:{default:e}}function zte(e){return(0,Kte.default)(1,arguments),(0,Qte.default)(Date.now(),e)}yI.exports=Bp.default});var OI=g((Hp,wI)=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.default=Xte;var Jte=_I(Vx()),Zte=_I(S());function _I(e){return e&&e.__esModule?e:{default:e}}function Xte(e){return(0,Zte.default)(1,arguments),(0,Jte.default)(e,Date.now())}wI.exports=Hp.default});var MI=g((Up,TI)=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.default=ere;var tre=SI(Qx()),rre=SI(S());function SI(e){return e&&e.__esModule?e:{default:e}}function ere(e){return(0,rre.default)(1,arguments),(0,tre.default)(Date.now(),e)}TI.exports=Up.default});var PI=g((Yp,qI)=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.default=nre;var ire=NI(Kx()),are=NI(S());function NI(e){return e&&e.__esModule?e:{default:e}}function nre(e){return(0,are.default)(1,arguments),(0,ire.default)(Date.now(),e)}qI.exports=Yp.default});var EI=g(($p,CI)=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.default=ore;var sre=DI(Xx()),ure=DI(S());function DI(e){return e&&e.__esModule?e:{default:e}}function ore(e){return(0,ure.default)(1,arguments),(0,sre.default)(Date.now(),e)}CI.exports=$p.default});var II=g((Gp,RI)=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.default=lre;var dre=jI(Zx()),cre=jI(S());function jI(e){return e&&e.__esModule?e:{default:e}}function lre(e){return(0,cre.default)(1,arguments),(0,dre.default)(Date.now(),e)}RI.exports=Gp.default});var LI=g((Vp,kI)=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.default=fre;var pre=AI(Dp()),mre=AI(S());function AI(e){return e&&e.__esModule?e:{default:e}}function fre(e,t){return(0,mre.default)(1,arguments),(0,pre.default)(e,Date.now(),t)}kI.exports=Vp.default});var BI=g((zp,WI)=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.default=gre;var hre=FI(eb()),vre=FI(S());function FI(e){return e&&e.__esModule?e:{default:e}}function gre(e){return(0,vre.default)(1,arguments),(0,hre.default)(e,Date.now())}WI.exports=zp.default});var YI=g((Qp,HI)=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.default=yre;var xre=UI(E()),bre=UI(S());function UI(e){return e&&e.__esModule?e:{default:e}}function yre(e){return(0,bre.default)(1,arguments),(0,xre.default)(e).getDay()===4}HI.exports=Qp.default});var VI=g((Kp,$I)=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.default=wre;var _re=GI(Wa()),Ore=GI(S());function GI(e){return e&&e.__esModule?e:{default:e}}function wre(e){return(0,Ore.default)(1,arguments),(0,_re.default)(e,Date.now())}$I.exports=Kp.default});var QI=g((Xp,zI)=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.default=Tre;var Sre=tb(Ar()),Mre=tb(Wa()),qre=tb(S());function tb(e){return e&&e.__esModule?e:{default:e}}function Tre(e){return(0,qre.default)(1,arguments),(0,Mre.default)(e,(0,Sre.default)(Date.now(),1))}zI.exports=Xp.default});var JI=g((Jp,KI)=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.default=Nre;var Pre=XI(E()),Cre=XI(S());function XI(e){return e&&e.__esModule?e:{default:e}}function Nre(e){return(0,Cre.default)(1,arguments),(0,Pre.default)(e).getDay()===2}KI.exports=Jp.default});var tk=g((Zp,ZI)=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.default=Dre;var Ere=ek(E()),Rre=ek(S());function ek(e){return e&&e.__esModule?e:{default:e}}function Dre(e){return(0,Rre.default)(1,arguments),(0,Ere.default)(e).getDay()===3}ZI.exports=Zp.default});var ik=g((em,rk)=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.default=jre;var rb=nk(E()),Ire=nk(S());function nk(e){return e&&e.__esModule?e:{default:e}}function jre(e,t){(0,Ire.default)(2,arguments);var r=t||{},n=(0,rb.default)(e).getTime(),i=(0,rb.default)(r.start).getTime(),a=(0,rb.default)(r.end).getTime();if(!(i<=a))throw new RangeError("Invalid interval");return n>=i&&n<=a}rk.exports=em.default});var ok=g((tm,ak)=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.default=kre;var Are=nb(Wa()),Lre=nb(tp()),Wre=nb(S());function nb(e){return e&&e.__esModule?e:{default:e}}function kre(e){return(0,Wre.default)(1,arguments),(0,Are.default)(e,(0,Lre.default)(Date.now(),1))}ak.exports=tm.default});var lk=g((rm,sk)=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.default=Fre;var Bre=uk(E()),Hre=uk(S());function uk(e){return e&&e.__esModule?e:{default:e}}function Fre(e){(0,Hre.default)(1,arguments);var t=(0,Bre.default)(e),r=t.getFullYear(),n=9+Math.floor(r/10)*10;return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t}sk.exports=rm.default});var ab=g((nm,dk)=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.default=Ure;var Yre=ib(E()),ck=ib($()),$re=ib(S());function ib(e){return e&&e.__esModule?e:{default:e}}function Ure(e,t){(0,$re.default)(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:(0,ck.default)(i),o=r.weekStartsOn==null?a:(0,ck.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var s=(0,Yre.default)(e),u=s.getDay(),l=(u<o?-7:0)+6-(u-o);return s.setHours(0,0,0,0),s.setDate(s.getDate()+l),s}dk.exports=nm.default});var mk=g((im,fk)=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.default=Gre;var Vre=pk(ab()),zre=pk(S());function pk(e){return e&&e.__esModule?e:{default:e}}function Gre(e){return(0,zre.default)(1,arguments),(0,Vre.default)(e,{weekStartsOn:1})}fk.exports=im.default});var hk=g((am,gk)=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.default=Qre;var Kre=ob(xi()),Xre=ob(_n()),Jre=ob(S());function ob(e){return e&&e.__esModule?e:{default:e}}function Qre(e){(0,Jre.default)(1,arguments);var t=(0,Kre.default)(e),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);var n=(0,Xre.default)(r);return n.setDate(n.getDate()-1),n}gk.exports=am.default});var xk=g((om,vk)=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.default=Zre;var ene=yk(E()),tne=yk(S());function yk(e){return e&&e.__esModule?e:{default:e}}function Zre(e){(0,tne.default)(1,arguments);var t=(0,ene.default)(e),r=t.getMonth(),n=r-r%3+3;return t.setMonth(n,0),t.setHours(0,0,0,0),t}vk.exports=om.default});var _k=g((sm,bk)=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.default=rne;var nne=wk(E()),ine=wk(S());function wk(e){return e&&e.__esModule?e:{default:e}}function rne(e){(0,ine.default)(1,arguments);var t=(0,nne.default)(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(0,0,0,0),t}bk.exports=sm.default});var Tk=g((um,Ok)=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.default=ane;var one=Ua(E()),sne=Ua(rx()),une=Ua(dr()),lne=Ua(er()),dne=Ua(Fa()),cne=Ua(S());function Ua(e){return e&&e.__esModule?e:{default:e}}var fne=/(\w)\1*|''|'(''|[^'])+('|$)|./g,pne=/^'([^]*?)'?$/,mne=/''/g,gne=/[a-zA-Z]/;function ane(e,t){(0,cne.default)(2,arguments);var r=String(t),n=(0,one.default)(e);if(!(0,lne.default)(n))throw new RangeError("Invalid time value");var i=(0,une.default)(n),a=(0,dne.default)(n,i),o=r.match(fne).map(function(s){if(s==="''")return"'";var u=s[0];if(u==="'")return hne(s);var l=sne.default[u];if(l)return l(a,s,null,{});if(u.match(gne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return s}).join("");return o}function hne(e){return e.match(pne)[1].replace(mne,"'")}Ok.exports=um.default});var qk=g((lm,Sk)=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.default=vne;var yne=Mk(E()),xne=Mk(S());function Mk(e){return e&&e.__esModule?e:{default:e}}function vne(e){(0,xne.default)(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(typeof e=="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var i=(0,yne.default)(n);(r===void 0||r<i||isNaN(i))&&(r=i)}),r||new Date(NaN)}Sk.exports=lm.default});var Ck=g((dm,Nk)=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.default=bne;var wne=Pk(E()),_ne=Pk(S());function Pk(e){return e&&e.__esModule?e:{default:e}}function bne(e){(0,_ne.default)(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(typeof e=="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var r;return t.forEach(function(n){var i=(0,wne.default)(n);(r===void 0||r>i||isNaN(i))&&(r=i)}),r||new Date(NaN)}Nk.exports=dm.default});var kk=g((cm,Dk)=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.default=One;var Tne=Ek($()),Sne=Ek(S());function Ek(e){return e&&e.__esModule?e:{default:e}}var Rk=36e5,jk=6e4,Mne=2,fm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Nne=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Pne=/^([+-])(\d{2})(?::?(\d{2}))?$/;function One(e,t){(0,Sne.default)(1,arguments);var r=t||{},n=r.additionalDigits==null?Mne:(0,Tne.default)(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=Cne(e),a;if(i.date){var o=Dne(i.date,n);a=Ene(o.restDateString,o.year)}if(isNaN(a)||!a)return new Date(NaN);var s=a.getTime(),u=0,l;if(i.time&&(u=Rne(i.time),isNaN(u)||u===null))return new Date(NaN);if(i.timezone){if(l=jne(i.timezone),isNaN(l))return new Date(NaN)}else{var d=new Date(s+u),c=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds());return c.setFullYear(d.getUTCFullYear()),c}return new Date(s+u+l)}function Cne(e){var t={},r=e.split(fm.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?(t.date=null,n=r[0]):(t.date=r[0],n=r[1],fm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(fm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var i=fm.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function Dne(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:null};var i=n[1]&&parseInt(n[1]),a=n[2]&&parseInt(n[2]);return{year:a==null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function Ene(e,t){if(t===null)return null;var r=e.match(qne);if(!r)return null;var n=!!r[4],i=Ns(r[1]),a=Ns(r[2])-1,o=Ns(r[3]),s=Ns(r[4]),u=Ns(r[5])-1;if(n)return Lne(t,s,u)?Ine(t,s,u):new Date(NaN);var l=new Date(0);return!kne(t,a,o)||!Ane(t,i)?new Date(NaN):(l.setUTCFullYear(t,a,Math.max(i,o)),l)}function Ns(e){return e?parseInt(e):1}function Rne(e){var t=e.match(Nne);if(!t)return null;var r=sb(t[1]),n=sb(t[2]),i=sb(t[3]);return Wne(r,n,i)?r*Rk+n*jk+i*1e3:NaN}function sb(e){return e&&parseFloat(e.replace(",","."))||0}function jne(e){if(e==="Z")return 0;var t=e.match(Pne);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Fne(n,i)?r*(n*Rk+i*jk):NaN}function Ine(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var Bne=[31,null,31,30,31,30,31,31,30,31,30,31];function Ik(e){return e%400==0||e%4==0&&e%100}function kne(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Bne[t]||(Ik(e)?29:28))}function Ane(e,t){return t>=1&&t<=(Ik(e)?366:365)}function Lne(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Wne(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Fne(e,t){return t>=0&&t<=59}Dk.exports=cm.default});var Wk=g((pm,Ak)=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.default=Hne;var Une=Lk(E()),Yne=Lk(S());function Lk(e){return e&&e.__esModule?e:{default:e}}function Hne(e){if((0,Yne.default)(1,arguments),typeof e=="string"){var t=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|\+00:?00)?/);return t?new Date(Date.UTC(+t[1],t[2]-1,+t[3],+t[4],+t[5],+t[6],+((t[7]||"0")+"00").substring(0,3))):new Date(NaN)}return(0,Une.default)(e)}Ak.exports=pm.default});var Hk=g((mm,Fk)=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.default=$ne;var Gne=Bk(E()),Vne=Bk($());function Bk(e){return e&&e.__esModule?e:{default:e}}function $ne(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var r=t&&"nearestTo"in t?(0,Vne.default)(t.nearestTo):1;if(r<1||r>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var n=(0,Gne.default)(e),i=n.getSeconds(),a=n.getMinutes()+i/60,o=Math.floor(a/r)*r,s=a%r,u=Math.round(s/r)*r;return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),o+u)}Fk.exports=mm.default});var vm=g((gm,Uk)=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.default=zne;var Qne=hm($()),Kne=hm(E()),Xne=hm(Ox()),Jne=hm(S());function hm(e){return e&&e.__esModule?e:{default:e}}function zne(e,t){(0,Jne.default)(2,arguments);var r=(0,Kne.default)(e),n=(0,Qne.default)(t),i=r.getFullYear(),a=r.getDate(),o=new Date(0);o.setFullYear(i,n,15),o.setHours(0,0,0,0);var s=(0,Xne.default)(o);return r.setMonth(n,Math.min(a,s)),r}Uk.exports=gm.default});var $k=g((ym,Yk)=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.default=Zne;var eie=xm(E()),tie=xm(vm()),Ps=xm($()),rie=xm(S());function xm(e){return e&&e.__esModule?e:{default:e}}function Zne(e,t){if((0,rie.default)(2,arguments),typeof t!="object"||t===null)throw new RangeError("values parameter must be an object");var r=(0,eie.default)(e);return isNaN(r)?new Date(NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=(0,tie.default)(r,t.month)),t.date!=null&&r.setDate((0,Ps.default)(t.date)),t.hours!=null&&r.setHours((0,Ps.default)(t.hours)),t.minutes!=null&&r.setMinutes((0,Ps.default)(t.minutes)),t.seconds!=null&&r.setSeconds((0,Ps.default)(t.seconds)),t.milliseconds!=null&&r.setMilliseconds((0,Ps.default)(t.milliseconds)),r)}Yk.exports=ym.default});var Vk=g((bm,Gk)=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.default=nie;var iie=ub($()),aie=ub(E()),oie=ub(S());function ub(e){return e&&e.__esModule?e:{default:e}}function nie(e,t){(0,oie.default)(2,arguments);var r=(0,aie.default)(e),n=(0,iie.default)(t);return r.setDate(n),r}Gk.exports=bm.default});var Qk=g((wm,zk)=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.default=sie;var uie=_m(Ar()),lie=_m(E()),lb=_m($()),die=_m(S());function _m(e){return e&&e.__esModule?e:{default:e}}function sie(e,t,r){(0,die.default)(2,arguments);var n=r||{},i=n.locale,a=i&&i.options&&i.options.weekStartsOn,o=a==null?0:(0,lb.default)(a),s=n.weekStartsOn==null?o:(0,lb.default)(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,lie.default)(e,n),l=(0,lb.default)(t),d=u.getDay(),c=l%7,m=(c+7)%7,h=7-s,x=l<0||l>6?l-(d+h)%7:(m+h)%7-(d+h)%7;return(0,uie.default)(u,x,n)}zk.exports=wm.default});var Xk=g((Om,Kk)=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.default=cie;var fie=db($()),pie=db(E()),mie=db(S());function db(e){return e&&e.__esModule?e:{default:e}}function cie(e,t){(0,mie.default)(2,arguments);var r=(0,pie.default)(e),n=(0,fie.default)(t);return r.setMonth(0),r.setDate(n),r}Kk.exports=Om.default});var Zk=g((Tm,Jk)=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.default=gie;var hie=cb($()),vie=cb(E()),yie=cb(S());function cb(e){return e&&e.__esModule?e:{default:e}}function gie(e,t){(0,yie.default)(2,arguments);var r=(0,vie.default)(e),n=(0,hie.default)(t);return r.setHours(n),r}Jk.exports=Tm.default});var tA=g((Sm,eA)=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.default=xie;var bie=Cs($()),wie=Cs(E()),_ie=Cs(Ar()),Oie=Cs(Mx()),Tie=Cs(S());function Cs(e){return e&&e.__esModule?e:{default:e}}function xie(e,t){(0,Tie.default)(2,arguments);var r=(0,wie.default)(e),n=(0,bie.default)(t),i=(0,Oie.default)(r),a=n-i;return(0,_ie.default)(r,a)}eA.exports=Sm.default});var nA=g((Mm,rA)=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.default=Sie;var Mie=qm($()),qie=qm(E()),Nie=qm(qx()),Pie=qm(S());function qm(e){return e&&e.__esModule?e:{default:e}}function Sie(e,t){(0,Pie.default)(2,arguments);var r=(0,qie.default)(e),n=(0,Mie.default)(t),i=(0,Nie.default)(r)-n;return r.setDate(r.getDate()-i*7),r}rA.exports=Mm.default});var aA=g((Nm,iA)=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.default=Cie;var Die=fb($()),Eie=fb(E()),Rie=fb(S());function fb(e){return e&&e.__esModule?e:{default:e}}function Cie(e,t){(0,Rie.default)(2,arguments);var r=(0,Eie.default)(e),n=(0,Die.default)(t);return r.setMilliseconds(n),r}iA.exports=Nm.default});var sA=g((Pm,oA)=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.default=jie;var Iie=pb($()),kie=pb(E()),Aie=pb(S());function pb(e){return e&&e.__esModule?e:{default:e}}function jie(e,t){(0,Aie.default)(2,arguments);var r=(0,kie.default)(e),n=(0,Iie.default)(t);return r.setMinutes(n),r}oA.exports=Pm.default});var lA=g((Cm,uA)=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.default=Lie;var Wie=Dm($()),Fie=Dm(E()),Bie=Dm(vm()),Hie=Dm(S());function Dm(e){return e&&e.__esModule?e:{default:e}}function Lie(e,t){(0,Hie.default)(2,arguments);var r=(0,Fie.default)(e),n=(0,Wie.default)(t),i=Math.floor(r.getMonth()/3)+1,a=n-i;return(0,Bie.default)(r,r.getMonth()+a*3)}uA.exports=Cm.default});var cA=g((Em,dA)=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.default=Uie;var Yie=mb($()),$ie=mb(E()),Gie=mb(S());function mb(e){return e&&e.__esModule?e:{default:e}}function Uie(e,t){(0,Gie.default)(2,arguments);var r=(0,$ie.default)(e),n=(0,Yie.default)(t);return r.setSeconds(n),r}dA.exports=Em.default});var pA=g((Rm,fA)=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.default=Vie;var zie=jm(Dx()),Qie=jm(E()),Kie=jm($()),Xie=jm(S());function jm(e){return e&&e.__esModule?e:{default:e}}function Vie(e,t,r){(0,Xie.default)(2,arguments);var n=(0,Qie.default)(e),i=(0,Kie.default)(t),a=(0,zie.default)(n,r)-i;return n.setDate(n.getDate()-a*7),n}fA.exports=Rm.default});var hA=g((Im,mA)=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.default=Jie;var Zie=Ds(On()),gA=Ds(Gf()),eae=Ds(E()),gb=Ds($()),tae=Ds(S());function Ds(e){return e&&e.__esModule?e:{default:e}}function Jie(e,t,r){(0,tae.default)(2,arguments);var n=r||{},i=n.locale,a=i&&i.options&&i.options.firstWeekContainsDate,o=a==null?1:(0,gb.default)(a),s=n.firstWeekContainsDate==null?o:(0,gb.default)(n.firstWeekContainsDate),u=(0,eae.default)(e),l=(0,gb.default)(t),d=(0,Zie.default)(u,(0,gA.default)(u,r)),c=new Date(0);return c.setFullYear(l,0,s),c.setHours(0,0,0,0),u=(0,gA.default)(c,r),u.setDate(u.getDate()+d),u}mA.exports=Im.default});var yA=g((km,vA)=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.default=rae;var nae=hb($()),iae=hb(E()),aae=hb(S());function hb(e){return e&&e.__esModule?e:{default:e}}function rae(e,t){(0,aae.default)(2,arguments);var r=(0,iae.default)(e),n=(0,nae.default)(t);return isNaN(r)?new Date(NaN):(r.setFullYear(n),r)}vA.exports=km.default});var wA=g((Am,xA)=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.default=oae;var sae=bA(E()),uae=bA(S());function bA(e){return e&&e.__esModule?e:{default:e}}function oae(e){(0,uae.default)(1,arguments);var t=(0,sae.default)(e),r=t.getFullYear(),n=Math.floor(r/10)*10;return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}xA.exports=Am.default});var OA=g((Lm,_A)=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.default=lae;var cae=dae(ns());function dae(e){return e&&e.__esModule?e:{default:e}}function lae(){return(0,cae.default)(Date.now())}_A.exports=Lm.default});var SA=g((Wm,TA)=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.default=fae;function fae(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),i=new Date(0);return i.setFullYear(t,r,n+1),i.setHours(0,0,0,0),i}TA.exports=Wm.default});var qA=g((Fm,MA)=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.default=pae;function pae(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),i=new Date(0);return i.setFullYear(t,r,n-1),i.setHours(0,0,0,0),i}MA.exports=Fm.default});var PA=g((Bm,NA)=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.default=mae;var gae=vb($()),hae=vb(cy()),vae=vb(S());function vb(e){return e&&e.__esModule?e:{default:e}}function mae(e,t){(0,vae.default)(2,arguments);var r=(0,gae.default)(t);return(0,hae.default)(e,-r)}NA.exports=Bm.default});var DA=g((Hm,CA)=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.default=yae;var xae=yb($()),bae=yb(ed()),wae=yb(S());function yb(e){return e&&e.__esModule?e:{default:e}}function yae(e,t){(0,wae.default)(2,arguments);var r=(0,xae.default)(t);return(0,bae.default)(e,-r)}CA.exports=Hm.default});var RA=g((Um,EA)=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.default=_ae;var Oae=xb($()),Tae=xb(wy()),Sae=xb(S());function xb(e){return e&&e.__esModule?e:{default:e}}function _ae(e,t){(0,Sae.default)(2,arguments);var r=(0,Oae.default)(t);return(0,Tae.default)(e,-r)}EA.exports=Um.default});var IA=g((Ym,jA)=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.default=Mae;var qae=bb($()),Nae=bb(md()),Pae=bb(S());function bb(e){return e&&e.__esModule?e:{default:e}}function Mae(e,t){(0,Pae.default)(2,arguments);var r=(0,qae.default)(t);return(0,Nae.default)(e,-r)}jA.exports=Ym.default});var AA=g(($m,kA)=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0});$m.default=Cae;var Dae=wb($()),Eae=wb(Ty()),Rae=wb(S());function wb(e){return e&&e.__esModule?e:{default:e}}function Cae(e,t){(0,Rae.default)(2,arguments);var r=(0,Dae.default)(t);return(0,Eae.default)(e,-r)}kA.exports=$m.default});var WA=g((Gm,LA)=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.default=jae;var Iae=_b($()),kae=_b(as()),Aae=_b(S());function _b(e){return e&&e.__esModule?e:{default:e}}function jae(e,t){(0,Aae.default)(2,arguments);var r=(0,Iae.default)(t);return(0,kae.default)(e,-r)}LA.exports=Gm.default});var BA=g((Vm,FA)=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.default=Lae;var Wae=Ob($()),Fae=Ob(qy()),Bae=Ob(S());function Ob(e){return e&&e.__esModule?e:{default:e}}function Lae(e,t){(0,Bae.default)(2,arguments);var r=(0,Wae.default)(t);return(0,Fae.default)(e,-r)}FA.exports=Vm.default});var UA=g(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.minTime=Ya.maxTime=void 0;var HA=Math.pow(10,8)*24*60*60*1e3;Ya.maxTime=HA;var Hae=-HA;Ya.minTime=Hae});var zm=g(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var Uae={add:!0,addBusinessDays:!0,addDays:!0,addHours:!0,addISOWeekYears:!0,addMilliseconds:!0,addMinutes:!0,addMonths:!0,addQuarters:!0,addSeconds:!0,addWeeks:!0,addYears:!0,areIntervalsOverlapping:!0,closestIndexTo:!0,closestTo:!0,compareAsc:!0,compareDesc:!0,differenceInBusinessDays:!0,differenceInCalendarDays:!0,differenceInCalendarISOWeekYears:!0,differenceInCalendarISOWeeks:!0,differenceInCalendarMonths:!0,differenceInCalendarQuarters:!0,differenceInCalendarWeeks:!0,differenceInCalendarYears:!0,differenceInDays:!0,differenceInHours:!0,differenceInISOWeekYears:!0,differenceInMilliseconds:!0,differenceInMinutes:!0,differenceInMonths:!0,differenceInQuarters:!0,differenceInSeconds:!0,differenceInWeeks:!0,differenceInYears:!0,eachDayOfInterval:!0,eachHourOfInterval:!0,eachMonthOfInterval:!0,eachQuarterOfInterval:!0,eachWeekOfInterval:!0,eachWeekendOfInterval:!0,eachWeekendOfMonth:!0,eachWeekendOfYear:!0,eachYearOfInterval:!0,endOfDay:!0,endOfDecade:!0,endOfHour:!0,endOfISOWeek:!0,endOfISOWeekYear:!0,endOfMinute:!0,endOfMonth:!0,endOfQuarter:!0,endOfSecond:!0,endOfToday:!0,endOfTomorrow:!0,endOfWeek:!0,endOfYear:!0,endOfYesterday:!0,format:!0,formatDistance:!0,formatDistanceStrict:!0,formatDistanceToNow:!0,formatDistanceToNowStrict:!0,formatDuration:!0,formatISO:!0,formatISO9075:!0,formatISODuration:!0,formatRFC3339:!0,formatRFC7231:!0,formatRelative:!0,fromUnixTime:!0,getDate:!0,getDay:!0,getDayOfYear:!0,getDaysInMonth:!0,getDaysInYear:!0,getDecade:!0,getHours:!0,getISODay:!0,getISOWeek:!0,getISOWeekYear:!0,getISOWeeksInYear:!0,getMilliseconds:!0,getMinutes:!0,getMonth:!0,getOverlappingDaysInIntervals:!0,getQuarter:!0,getSeconds:!0,getTime:!0,getUnixTime:!0,getWeek:!0,getWeekOfMonth:!0,getWeekYear:!0,getWeeksInMonth:!0,getYear:!0,intervalToDuration:!0,isAfter:!0,isBefore:!0,isDate:!0,isEqual:!0,isExists:!0,isFirstDayOfMonth:!0,isFriday:!0,isFuture:!0,isLastDayOfMonth:!0,isLeapYear:!0,isMatch:!0,isMonday:!0,isPast:!0,isSameDay:!0,isSameHour:!0,isSameISOWeek:!0,isSameISOWeekYear:!0,isSameMinute:!0,isSameMonth:!0,isSameQuarter:!0,isSameSecond:!0,isSameWeek:!0,isSameYear:!0,isSaturday:!0,isSunday:!0,isThisHour:!0,isThisISOWeek:!0,isThisMinute:!0,isThisMonth:!0,isThisQuarter:!0,isThisSecond:!0,isThisWeek:!0,isThisYear:!0,isThursday:!0,isToday:!0,isTomorrow:!0,isTuesday:!0,isValid:!0,isWednesday:!0,isWeekend:!0,isWithinInterval:!0,isYesterday:!0,lastDayOfDecade:!0,lastDayOfISOWeek:!0,lastDayOfISOWeekYear:!0,lastDayOfMonth:!0,lastDayOfQuarter:!0,lastDayOfWeek:!0,lastDayOfYear:!0,lightFormat:!0,max:!0,min:!0,parse:!0,parseISO:!0,parseJSON:!0,roundToNearestMinutes:!0,set:!0,setDate:!0,setDay:!0,setDayOfYear:!0,setHours:!0,setISODay:!0,setISOWeek:!0,setISOWeekYear:!0,setMilliseconds:!0,setMinutes:!0,setMonth:!0,setQuarter:!0,setSeconds:!0,setWeek:!0,setWeekYear:!0,setYear:!0,startOfDay:!0,startOfDecade:!0,startOfHour:!0,startOfISOWeek:!0,startOfISOWeekYear:!0,startOfMinute:!0,startOfMonth:!0,startOfQuarter:!0,startOfSecond:!0,startOfToday:!0,startOfTomorrow:!0,startOfWeek:!0,startOfWeekYear:!0,startOfYear:!0,startOfYesterday:!0,sub:!0,subBusinessDays:!0,subDays:!0,subHours:!0,subISOWeekYears:!0,subMilliseconds:!0,subMinutes:!0,subMonths:!0,subQuarters:!0,subSeconds:!0,subWeeks:!0,subYears:!0,toDate:!0};Object.defineProperty(T,"add",{enumerable:!0,get:function(){return Yae.default}});Object.defineProperty(T,"addBusinessDays",{enumerable:!0,get:function(){return $ae.default}});Object.defineProperty(T,"addDays",{enumerable:!0,get:function(){return Gae.default}});Object.defineProperty(T,"addHours",{enumerable:!0,get:function(){return Vae.default}});Object.defineProperty(T,"addISOWeekYears",{enumerable:!0,get:function(){return zae.default}});Object.defineProperty(T,"addMilliseconds",{enumerable:!0,get:function(){return Qae.default}});Object.defineProperty(T,"addMinutes",{enumerable:!0,get:function(){return Kae.default}});Object.defineProperty(T,"addMonths",{enumerable:!0,get:function(){return Xae.default}});Object.defineProperty(T,"addQuarters",{enumerable:!0,get:function(){return Jae.default}});Object.defineProperty(T,"addSeconds",{enumerable:!0,get:function(){return Zae.default}});Object.defineProperty(T,"addWeeks",{enumerable:!0,get:function(){return eoe.default}});Object.defineProperty(T,"addYears",{enumerable:!0,get:function(){return toe.default}});Object.defineProperty(T,"areIntervalsOverlapping",{enumerable:!0,get:function(){return roe.default}});Object.defineProperty(T,"closestIndexTo",{enumerable:!0,get:function(){return noe.default}});Object.defineProperty(T,"closestTo",{enumerable:!0,get:function(){return ioe.default}});Object.defineProperty(T,"compareAsc",{enumerable:!0,get:function(){return aoe.default}});Object.defineProperty(T,"compareDesc",{enumerable:!0,get:function(){return ooe.default}});Object.defineProperty(T,"differenceInBusinessDays",{enumerable:!0,get:function(){return soe.default}});Object.defineProperty(T,"differenceInCalendarDays",{enumerable:!0,get:function(){return uoe.default}});Object.defineProperty(T,"differenceInCalendarISOWeekYears",{enumerable:!0,get:function(){return loe.default}});Object.defineProperty(T,"differenceInCalendarISOWeeks",{enumerable:!0,get:function(){return doe.default}});Object.defineProperty(T,"differenceInCalendarMonths",{enumerable:!0,get:function(){return coe.default}});Object.defineProperty(T,"differenceInCalendarQuarters",{enumerable:!0,get:function(){return foe.default}});Object.defineProperty(T,"differenceInCalendarWeeks",{enumerable:!0,get:function(){return poe.default}});Object.defineProperty(T,"differenceInCalendarYears",{enumerable:!0,get:function(){return moe.default}});Object.defineProperty(T,"differenceInDays",{enumerable:!0,get:function(){return goe.default}});Object.defineProperty(T,"differenceInHours",{enumerable:!0,get:function(){return hoe.default}});Object.defineProperty(T,"differenceInISOWeekYears",{enumerable:!0,get:function(){return voe.default}});Object.defineProperty(T,"differenceInMilliseconds",{enumerable:!0,get:function(){return yoe.default}});Object.defineProperty(T,"differenceInMinutes",{enumerable:!0,get:function(){return xoe.default}});Object.defineProperty(T,"differenceInMonths",{enumerable:!0,get:function(){return boe.default}});Object.defineProperty(T,"differenceInQuarters",{enumerable:!0,get:function(){return woe.default}});Object.defineProperty(T,"differenceInSeconds",{enumerable:!0,get:function(){return _oe.default}});Object.defineProperty(T,"differenceInWeeks",{enumerable:!0,get:function(){return Ooe.default}});Object.defineProperty(T,"differenceInYears",{enumerable:!0,get:function(){return Toe.default}});Object.defineProperty(T,"eachDayOfInterval",{enumerable:!0,get:function(){return Soe.default}});Object.defineProperty(T,"eachHourOfInterval",{enumerable:!0,get:function(){return Moe.default}});Object.defineProperty(T,"eachMonthOfInterval",{enumerable:!0,get:function(){return qoe.default}});Object.defineProperty(T,"eachQuarterOfInterval",{enumerable:!0,get:function(){return Noe.default}});Object.defineProperty(T,"eachWeekOfInterval",{enumerable:!0,get:function(){return Poe.default}});Object.defineProperty(T,"eachWeekendOfInterval",{enumerable:!0,get:function(){return Coe.default}});Object.defineProperty(T,"eachWeekendOfMonth",{enumerable:!0,get:function(){return Doe.default}});Object.defineProperty(T,"eachWeekendOfYear",{enumerable:!0,get:function(){return Eoe.default}});Object.defineProperty(T,"eachYearOfInterval",{enumerable:!0,get:function(){return Roe.default}});Object.defineProperty(T,"endOfDay",{enumerable:!0,get:function(){return joe.default}});Object.defineProperty(T,"endOfDecade",{enumerable:!0,get:function(){return Ioe.default}});Object.defineProperty(T,"endOfHour",{enumerable:!0,get:function(){return koe.default}});Object.defineProperty(T,"endOfISOWeek",{enumerable:!0,get:function(){return Aoe.default}});Object.defineProperty(T,"endOfISOWeekYear",{enumerable:!0,get:function(){return Loe.default}});Object.defineProperty(T,"endOfMinute",{enumerable:!0,get:function(){return Woe.default}});Object.defineProperty(T,"endOfMonth",{enumerable:!0,get:function(){return Foe.default}});Object.defineProperty(T,"endOfQuarter",{enumerable:!0,get:function(){return Boe.default}});Object.defineProperty(T,"endOfSecond",{enumerable:!0,get:function(){return Hoe.default}});Object.defineProperty(T,"endOfToday",{enumerable:!0,get:function(){return Uoe.default}});Object.defineProperty(T,"endOfTomorrow",{enumerable:!0,get:function(){return Yoe.default}});Object.defineProperty(T,"endOfWeek",{enumerable:!0,get:function(){return $oe.default}});Object.defineProperty(T,"endOfYear",{enumerable:!0,get:function(){return Goe.default}});Object.defineProperty(T,"endOfYesterday",{enumerable:!0,get:function(){return Voe.default}});Object.defineProperty(T,"format",{enumerable:!0,get:function(){return zoe.default}});Object.defineProperty(T,"formatDistance",{enumerable:!0,get:function(){return Qoe.default}});Object.defineProperty(T,"formatDistanceStrict",{enumerable:!0,get:function(){return Koe.default}});Object.defineProperty(T,"formatDistanceToNow",{enumerable:!0,get:function(){return Xoe.default}});Object.defineProperty(T,"formatDistanceToNowStrict",{enumerable:!0,get:function(){return Joe.default}});Object.defineProperty(T,"formatDuration",{enumerable:!0,get:function(){return Zoe.default}});Object.defineProperty(T,"formatISO",{enumerable:!0,get:function(){return ese.default}});Object.defineProperty(T,"formatISO9075",{enumerable:!0,get:function(){return tse.default}});Object.defineProperty(T,"formatISODuration",{enumerable:!0,get:function(){return rse.default}});Object.defineProperty(T,"formatRFC3339",{enumerable:!0,get:function(){return nse.default}});Object.defineProperty(T,"formatRFC7231",{enumerable:!0,get:function(){return ise.default}});Object.defineProperty(T,"formatRelative",{enumerable:!0,get:function(){return ase.default}});Object.defineProperty(T,"fromUnixTime",{enumerable:!0,get:function(){return ose.default}});Object.defineProperty(T,"getDate",{enumerable:!0,get:function(){return sse.default}});Object.defineProperty(T,"getDay",{enumerable:!0,get:function(){return use.default}});Object.defineProperty(T,"getDayOfYear",{enumerable:!0,get:function(){return lse.default}});Object.defineProperty(T,"getDaysInMonth",{enumerable:!0,get:function(){return dse.default}});Object.defineProperty(T,"getDaysInYear",{enumerable:!0,get:function(){return cse.default}});Object.defineProperty(T,"getDecade",{enumerable:!0,get:function(){return fse.default}});Object.defineProperty(T,"getHours",{enumerable:!0,get:function(){return pse.default}});Object.defineProperty(T,"getISODay",{enumerable:!0,get:function(){return mse.default}});Object.defineProperty(T,"getISOWeek",{enumerable:!0,get:function(){return gse.default}});Object.defineProperty(T,"getISOWeekYear",{enumerable:!0,get:function(){return hse.default}});Object.defineProperty(T,"getISOWeeksInYear",{enumerable:!0,get:function(){return vse.default}});Object.defineProperty(T,"getMilliseconds",{enumerable:!0,get:function(){return yse.default}});Object.defineProperty(T,"getMinutes",{enumerable:!0,get:function(){return xse.default}});Object.defineProperty(T,"getMonth",{enumerable:!0,get:function(){return bse.default}});Object.defineProperty(T,"getOverlappingDaysInIntervals",{enumerable:!0,get:function(){return wse.default}});Object.defineProperty(T,"getQuarter",{enumerable:!0,get:function(){return _se.default}});Object.defineProperty(T,"getSeconds",{enumerable:!0,get:function(){return Ose.default}});Object.defineProperty(T,"getTime",{enumerable:!0,get:function(){return Tse.default}});Object.defineProperty(T,"getUnixTime",{enumerable:!0,get:function(){return Sse.default}});Object.defineProperty(T,"getWeek",{enumerable:!0,get:function(){return Mse.default}});Object.defineProperty(T,"getWeekOfMonth",{enumerable:!0,get:function(){return qse.default}});Object.defineProperty(T,"getWeekYear",{enumerable:!0,get:function(){return Nse.default}});Object.defineProperty(T,"getWeeksInMonth",{enumerable:!0,get:function(){return Pse.default}});Object.defineProperty(T,"getYear",{enumerable:!0,get:function(){return Cse.default}});Object.defineProperty(T,"intervalToDuration",{enumerable:!0,get:function(){return Dse.default}});Object.defineProperty(T,"isAfter",{enumerable:!0,get:function(){return Ese.default}});Object.defineProperty(T,"isBefore",{enumerable:!0,get:function(){return Rse.default}});Object.defineProperty(T,"isDate",{enumerable:!0,get:function(){return jse.default}});Object.defineProperty(T,"isEqual",{enumerable:!0,get:function(){return Ise.default}});Object.defineProperty(T,"isExists",{enumerable:!0,get:function(){return kse.default}});Object.defineProperty(T,"isFirstDayOfMonth",{enumerable:!0,get:function(){return Ase.default}});Object.defineProperty(T,"isFriday",{enumerable:!0,get:function(){return Lse.default}});Object.defineProperty(T,"isFuture",{enumerable:!0,get:function(){return Wse.default}});Object.defineProperty(T,"isLastDayOfMonth",{enumerable:!0,get:function(){return Fse.default}});Object.defineProperty(T,"isLeapYear",{enumerable:!0,get:function(){return Bse.default}});Object.defineProperty(T,"isMatch",{enumerable:!0,get:function(){return Hse.default}});Object.defineProperty(T,"isMonday",{enumerable:!0,get:function(){return Use.default}});Object.defineProperty(T,"isPast",{enumerable:!0,get:function(){return Yse.default}});Object.defineProperty(T,"isSameDay",{enumerable:!0,get:function(){return $se.default}});Object.defineProperty(T,"isSameHour",{enumerable:!0,get:function(){return Gse.default}});Object.defineProperty(T,"isSameISOWeek",{enumerable:!0,get:function(){return Vse.default}});Object.defineProperty(T,"isSameISOWeekYear",{enumerable:!0,get:function(){return zse.default}});Object.defineProperty(T,"isSameMinute",{enumerable:!0,get:function(){return Qse.default}});Object.defineProperty(T,"isSameMonth",{enumerable:!0,get:function(){return Kse.default}});Object.defineProperty(T,"isSameQuarter",{enumerable:!0,get:function(){return Xse.default}});Object.defineProperty(T,"isSameSecond",{enumerable:!0,get:function(){return Jse.default}});Object.defineProperty(T,"isSameWeek",{enumerable:!0,get:function(){return Zse.default}});Object.defineProperty(T,"isSameYear",{enumerable:!0,get:function(){return eue.default}});Object.defineProperty(T,"isSaturday",{enumerable:!0,get:function(){return tue.default}});Object.defineProperty(T,"isSunday",{enumerable:!0,get:function(){return rue.default}});Object.defineProperty(T,"isThisHour",{enumerable:!0,get:function(){return nue.default}});Object.defineProperty(T,"isThisISOWeek",{enumerable:!0,get:function(){return iue.default}});Object.defineProperty(T,"isThisMinute",{enumerable:!0,get:function(){return aue.default}});Object.defineProperty(T,"isThisMonth",{enumerable:!0,get:function(){return oue.default}});Object.defineProperty(T,"isThisQuarter",{enumerable:!0,get:function(){return sue.default}});Object.defineProperty(T,"isThisSecond",{enumerable:!0,get:function(){return uue.default}});Object.defineProperty(T,"isThisWeek",{enumerable:!0,get:function(){return lue.default}});Object.defineProperty(T,"isThisYear",{enumerable:!0,get:function(){return due.default}});Object.defineProperty(T,"isThursday",{enumerable:!0,get:function(){return cue.default}});Object.defineProperty(T,"isToday",{enumerable:!0,get:function(){return fue.default}});Object.defineProperty(T,"isTomorrow",{enumerable:!0,get:function(){return pue.default}});Object.defineProperty(T,"isTuesday",{enumerable:!0,get:function(){return mue.default}});Object.defineProperty(T,"isValid",{enumerable:!0,get:function(){return gue.default}});Object.defineProperty(T,"isWednesday",{enumerable:!0,get:function(){return hue.default}});Object.defineProperty(T,"isWeekend",{enumerable:!0,get:function(){return vue.default}});Object.defineProperty(T,"isWithinInterval",{enumerable:!0,get:function(){return yue.default}});Object.defineProperty(T,"isYesterday",{enumerable:!0,get:function(){return xue.default}});Object.defineProperty(T,"lastDayOfDecade",{enumerable:!0,get:function(){return bue.default}});Object.defineProperty(T,"lastDayOfISOWeek",{enumerable:!0,get:function(){return wue.default}});Object.defineProperty(T,"lastDayOfISOWeekYear",{enumerable:!0,get:function(){return _ue.default}});Object.defineProperty(T,"lastDayOfMonth",{enumerable:!0,get:function(){return Oue.default}});Object.defineProperty(T,"lastDayOfQuarter",{enumerable:!0,get:function(){return Tue.default}});Object.defineProperty(T,"lastDayOfWeek",{enumerable:!0,get:function(){return Sue.default}});Object.defineProperty(T,"lastDayOfYear",{enumerable:!0,get:function(){return Mue.default}});Object.defineProperty(T,"lightFormat",{enumerable:!0,get:function(){return que.default}});Object.defineProperty(T,"max",{enumerable:!0,get:function(){return Nue.default}});Object.defineProperty(T,"min",{enumerable:!0,get:function(){return Pue.default}});Object.defineProperty(T,"parse",{enumerable:!0,get:function(){return Cue.default}});Object.defineProperty(T,"parseISO",{enumerable:!0,get:function(){return Due.default}});Object.defineProperty(T,"parseJSON",{enumerable:!0,get:function(){return Eue.default}});Object.defineProperty(T,"roundToNearestMinutes",{enumerable:!0,get:function(){return Rue.default}});Object.defineProperty(T,"set",{enumerable:!0,get:function(){return jue.default}});Object.defineProperty(T,"setDate",{enumerable:!0,get:function(){return Iue.default}});Object.defineProperty(T,"setDay",{enumerable:!0,get:function(){return kue.default}});Object.defineProperty(T,"setDayOfYear",{enumerable:!0,get:function(){return Aue.default}});Object.defineProperty(T,"setHours",{enumerable:!0,get:function(){return Lue.default}});Object.defineProperty(T,"setISODay",{enumerable:!0,get:function(){return Wue.default}});Object.defineProperty(T,"setISOWeek",{enumerable:!0,get:function(){return Fue.default}});Object.defineProperty(T,"setISOWeekYear",{enumerable:!0,get:function(){return Bue.default}});Object.defineProperty(T,"setMilliseconds",{enumerable:!0,get:function(){return Hue.default}});Object.defineProperty(T,"setMinutes",{enumerable:!0,get:function(){return Uue.default}});Object.defineProperty(T,"setMonth",{enumerable:!0,get:function(){return Yue.default}});Object.defineProperty(T,"setQuarter",{enumerable:!0,get:function(){return $ue.default}});Object.defineProperty(T,"setSeconds",{enumerable:!0,get:function(){return Gue.default}});Object.defineProperty(T,"setWeek",{enumerable:!0,get:function(){return Vue.default}});Object.defineProperty(T,"setWeekYear",{enumerable:!0,get:function(){return zue.default}});Object.defineProperty(T,"setYear",{enumerable:!0,get:function(){return Que.default}});Object.defineProperty(T,"startOfDay",{enumerable:!0,get:function(){return Kue.default}});Object.defineProperty(T,"startOfDecade",{enumerable:!0,get:function(){return Xue.default}});Object.defineProperty(T,"startOfHour",{enumerable:!0,get:function(){return Jue.default}});Object.defineProperty(T,"startOfISOWeek",{enumerable:!0,get:function(){return Zue.default}});Object.defineProperty(T,"startOfISOWeekYear",{enumerable:!0,get:function(){return ele.default}});Object.defineProperty(T,"startOfMinute",{enumerable:!0,get:function(){return tle.default}});Object.defineProperty(T,"startOfMonth",{enumerable:!0,get:function(){return rle.default}});Object.defineProperty(T,"startOfQuarter",{enumerable:!0,get:function(){return nle.default}});Object.defineProperty(T,"startOfSecond",{enumerable:!0,get:function(){return ile.default}});Object.defineProperty(T,"startOfToday",{enumerable:!0,get:function(){return ale.default}});Object.defineProperty(T,"startOfTomorrow",{enumerable:!0,get:function(){return ole.default}});Object.defineProperty(T,"startOfWeek",{enumerable:!0,get:function(){return sle.default}});Object.defineProperty(T,"startOfWeekYear",{enumerable:!0,get:function(){return ule.default}});Object.defineProperty(T,"startOfYear",{enumerable:!0,get:function(){return lle.default}});Object.defineProperty(T,"startOfYesterday",{enumerable:!0,get:function(){return dle.default}});Object.defineProperty(T,"sub",{enumerable:!0,get:function(){return cle.default}});Object.defineProperty(T,"subBusinessDays",{enumerable:!0,get:function(){return fle.default}});Object.defineProperty(T,"subDays",{enumerable:!0,get:function(){return ple.default}});Object.defineProperty(T,"subHours",{enumerable:!0,get:function(){return mle.default}});Object.defineProperty(T,"subISOWeekYears",{enumerable:!0,get:function(){return gle.default}});Object.defineProperty(T,"subMilliseconds",{enumerable:!0,get:function(){return hle.default}});Object.defineProperty(T,"subMinutes",{enumerable:!0,get:function(){return vle.default}});Object.defineProperty(T,"subMonths",{enumerable:!0,get:function(){return yle.default}});Object.defineProperty(T,"subQuarters",{enumerable:!0,get:function(){return xle.default}});Object.defineProperty(T,"subSeconds",{enumerable:!0,get:function(){return ble.default}});Object.defineProperty(T,"subWeeks",{enumerable:!0,get:function(){return wle.default}});Object.defineProperty(T,"subYears",{enumerable:!0,get:function(){return _le.default}});Object.defineProperty(T,"toDate",{enumerable:!0,get:function(){return Ole.default}});var Yae=M(FN()),$ae=M(cy()),Gae=M(Ar()),Vae=M(ed()),zae=M(xy()),Qae=M(Aa()),Kae=M(wy()),Xae=M(Ia()),Jae=M(md()),Zae=M(Ty()),eoe=M(as()),toe=M(qy()),roe=M(w1()),noe=M(S1()),ioe=M(P1()),aoe=M(Tn()),ooe=M(k1()),soe=M(G1()),uoe=M(On()),loe=M(Ny()),doe=M(Z1()),coe=M(Cy()),foe=M(uP()),poe=M(jy()),moe=M(Iy()),goe=M(Id()),hoe=M(Ay()),voe=M(qP()),yoe=M(os()),xoe=M(Fy()),boe=M(us()),woe=M(IP()),_oe=M(ls()),Ooe=M(FP()),Toe=M(By()),Soe=M(Uy()),Moe=M(VP()),qoe=M(KP()),Noe=M(tC()),Poe=M(iC()),Coe=M(ac()),Doe=M(cC()),Eoe=M(vC()),Roe=M(bC()),joe=M(yc()),Ioe=M(SC()),koe=M(NC()),Aoe=M(RC()),Loe=M(IC()),Woe=M(LC()),Foe=M(uc()),Boe=M(BC()),Hoe=M(YC()),Uoe=M(GC()),Yoe=M(zC()),$oe=M(Jy()),Goe=M(Qy()),Voe=M(KC()),zoe=M(cx()),Qoe=M(gx()),Koe=M(hx()),Xoe=M(aE()),Joe=M(uE()),Zoe=M(dE()),ese=M(fE()),tse=M(mE()),rse=M(hE()),nse=M(xE()),ise=M(wE()),ase=M(ME()),ose=M(NE()),sse=M(wx()),use=M(_x()),lse=M(jE()),dse=M(Ox()),cse=M(FE()),fse=M(UE()),pse=M(GE()),mse=M(Mx()),gse=M(qx()),hse=M(xi()),vse=M(JE()),yse=M(tR()),xse=M(iR()),bse=M(sR()),wse=M(dR()),_se=M(Dy()),Ose=M(pR()),Tse=M(Px()),Sse=M(yR()),Mse=M(Dx()),qse=M(qR()),Nse=M(Cx()),Pse=M(DR()),Cse=M(jR()),Dse=M(BR()),Ese=M($R()),Rse=M(QR()),jse=M(XR()),Ise=M(tj()),kse=M(nj()),Ase=M(oj()),Lse=M(lj()),Wse=M(fj()),Fse=M(mj()),Bse=M(Tx()),Hse=M(Ej()),Use=M(Ij()),Yse=M(Lj()),$se=M(Wa()),Gse=M(Gx()),Vse=M(Vx()),zse=M(Jj()),Qse=M(Qx()),Kse=M(Kx()),Xse=M(Xx()),Jse=M(Zx()),Zse=M(Dp()),eue=M(eb()),tue=M(ly()),rue=M(Ql()),nue=M(bI()),iue=M(OI()),aue=M(MI()),oue=M(PI()),sue=M(EI()),uue=M(II()),lue=M(LI()),due=M(BI()),cue=M(YI()),fue=M(VI()),pue=M(QI()),mue=M(JI()),gue=M(er()),hue=M(tk()),vue=M(rs()),yue=M(ik()),xue=M(ok()),bue=M(lk()),wue=M(mk()),_ue=M(hk()),Oue=M(Ex()),Tue=M(xk()),Sue=M(ab()),Mue=M(_k()),que=M(Tk()),Nue=M(qk()),Pue=M(Ck()),Cue=M(Ux()),Due=M(kk()),Eue=M(Wk()),Rue=M(Hk()),jue=M($k()),Iue=M(Vk()),kue=M(Qk()),Aue=M(Xk()),Lue=M(Zk()),Wue=M(tA()),Fue=M(nA()),Bue=M(yy()),Hue=M(aA()),Uue=M(sA()),Yue=M(vm()),$ue=M(lA()),Gue=M(cA()),Vue=M(pA()),zue=M(hA()),Que=M(yA()),Kue=M(ns()),Xue=M(wA()),Jue=M($x()),Zue=M(_n()),ele=M(La()),tle=M(zx()),rle=M(ds()),nle=M(Jd()),ile=M(Jx()),ale=M(OA()),ole=M(SA()),sle=M(Lr()),ule=M(Gf()),lle=M(fc()),dle=M(qA()),cle=M(kx()),fle=M(PA()),ple=M(tp()),mle=M(DA()),gle=M(Wy()),hle=M(Fa()),vle=M(RA()),yle=M(Ix()),xle=M(IA()),ble=M(AA()),wle=M(WA()),_le=M(BA()),Ole=M(E()),YA=UA();Object.keys(YA).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(Uae,e)||Object.defineProperty(T,e,{enumerable:!0,get:function(){return YA[e]}})});function M(e){return e&&e.__esModule?e:{default:e}}});Ls(exports,{activate:()=>Sle});var mr=I(require("coc.nvim"));var si=I(require("coc.nvim"));var bl=I(Qe()),hn=I(require("coc.nvim"));var vv=I(Qe());function aw(e){return Buffer.byteLength(e)}function ow(e,t,r=2){let n=[],i=e,a=e.indexOf(t);for(;a!==-1&&r>1;)n.push(i.slice(0,a)),i=i.slice(a+1),a=i.indexOf(t),r-=1;return n.push(i),n}function sw(e,t,r){return Reflect.has(e,t)||Reflect.set(e,t,r()),Reflect.get(e,t)}var dL={0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089"};function uw(e){return e.toString().split("").map(t=>{var r;return(r=dL[t])!=null?r:t}).join("")}var cL=typeof global=="object"&&global&&global.Object===Object&&global,tu=cL;var fL=typeof self=="object"&&self&&self.Object===Object&&self,pL=tu||fL||Function("return this")(),Ue=pL;var mL=Ue.Symbol,tt=mL;var lw=Object.prototype,gL=lw.hasOwnProperty,hL=lw.toString,eo=tt?tt.toStringTag:void 0;function vL(e){var t=gL.call(e,eo),r=e[eo];try{e[eo]=void 0;var n=!0}catch(a){}var i=hL.call(e);return n&&(t?e[eo]=r:delete e[eo]),i}var dw=vL;var yL=Object.prototype,xL=yL.toString;function bL(e){return xL.call(e)}var cw=bL;var wL="[object Null]",_L="[object Undefined]",fw=tt?tt.toStringTag:void 0;function OL(e){return e==null?e===void 0?_L:wL:fw&&fw in Object(e)?dw(e):cw(e)}var Bt=OL;function TL(e){return e!=null&&typeof e=="object"}var gt=TL;var SL="[object Symbol]";function ML(e){return typeof e=="symbol"||gt(e)&&Bt(e)==SL}var nr=ML;function qL(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var pw=qL;var NL=Array.isArray,Ce=NL;var PL=1/0,mw=tt?tt.prototype:void 0,gw=mw?mw.toString:void 0;function hw(e){if(typeof e=="string")return e;if(Ce(e))return pw(e,hw)+"";if(nr(e))return gw?gw.call(e):"";var t=e+"";return t=="0"&&1/e==-PL?"-0":t}var vw=hw;function CL(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ut=CL;var yw=0/0,DL=/^\s+|\s+$/g,EL=/^[-+]0x[0-9a-f]+$/i,RL=/^0b[01]+$/i,jL=/^0o[0-7]+$/i,IL=parseInt;function kL(e){if(typeof e=="number")return e;if(nr(e))return yw;if(ut(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ut(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(DL,"");var r=RL.test(e);return r||jL.test(e)?IL(e.slice(2),r?2:8):EL.test(e)?yw:+e}var xw=kL;var bw=1/0,AL=17976931348623157e292;function LL(e){if(!e)return e===0?e:0;if(e=xw(e),e===bw||e===-bw){var t=e<0?-1:1;return t*AL}return e===e?e:0}var Ai=LL;function WL(e){var t=Ai(e),r=t%1;return t===t?r?t-r:t:0}var ru=WL;function FL(e){return e}var zr=FL;var BL="[object AsyncFunction]",HL="[object Function]",UL="[object GeneratorFunction]",YL="[object Proxy]";function $L(e){if(!ut(e))return!1;var t=Bt(e);return t==HL||t==UL||t==BL||t==YL}var nu=$L;var GL=Ue["__core-js_shared__"],iu=GL;var ww=function(){var e=/[^.]+$/.exec(iu&&iu.keys&&iu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function VL(e){return!!ww&&ww in e}var _w=VL;var zL=Function.prototype,QL=zL.toString;function KL(e){if(e!=null){try{return QL.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var br=KL;var XL=/[\\^$.*+?()[\]{}|]/g,JL=/^\[object .+?Constructor\]$/,ZL=Function.prototype,eW=Object.prototype,tW=ZL.toString,rW=eW.hasOwnProperty,nW=RegExp("^"+tW.call(rW).replace(XL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iW(e){if(!ut(e)||_w(e))return!1;var t=nu(e)?nW:JL;return t.test(br(e))}var Ow=iW;function aW(e,t){return e==null?void 0:e[t]}var Tw=aW;function oW(e,t){var r=Tw(e,t);return Ow(r)?r:void 0}var Tt=oW;var sW=Tt(Ue,"WeakMap"),au=sW;var Sw=Object.create,uW=function(){function e(){}return function(t){if(!ut(t))return{};if(Sw)return Sw(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Mw=uW;function lW(){}var qw=lW;function dW(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Nw=dW;var cW=function(){try{var e=Tt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Ng=cW;function fW(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Pw=fW;function pW(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Li=pW;function mW(e){return e!==e}var Cw=mW;function gW(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Dw=gW;function hW(e,t,r){return t===t?Dw(e,t,r):Li(e,Cw,r)}var Ew=hW;function vW(e,t){var r=e==null?0:e.length;return!!r&&Ew(e,t,0)>-1}var Rw=vW;var yW=9007199254740991,xW=/^(?:0|[1-9]\d*)$/;function bW(e,t){var r=typeof e;return t=t==null?yW:t,!!t&&(r=="number"||r!="symbol"&&xW.test(e))&&e>-1&&e%1==0&&e<t}var Wi=bW;function wW(e,t,r){t=="__proto__"&&Ng?Ng(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Fi=wW;function _W(e,t){return e===t||e!==e&&t!==t}var Qr=_W;var OW=Object.prototype,TW=OW.hasOwnProperty;function SW(e,t,r){var n=e[t];(!(TW.call(e,t)&&Qr(n,r))||r===void 0&&!(t in e))&&Fi(e,t,r)}var ou=SW;function MW(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=n?n(r[s],e[s],s,r,e):void 0;u===void 0&&(u=e[s]),i?Fi(r,s,u):ou(r,s,u)}return r}var Kr=MW;var qW=9007199254740991;function NW(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qW}var Bi=NW;function PW(e){return e!=null&&Bi(e.length)&&!nu(e)}var Xr=PW;function CW(e,t,r){if(!ut(r))return!1;var n=typeof t;return(n=="number"?Xr(r)&&Wi(t,r.length):n=="string"&&t in r)?Qr(r[t],e):!1}var jw=CW;var DW=Object.prototype;function EW(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||DW;return e===r}var Hi=EW;function RW(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Iw=RW;var jW="[object Arguments]";function IW(e){return gt(e)&&Bt(e)==jW}var Pg=IW;var kw=Object.prototype,kW=kw.hasOwnProperty,AW=kw.propertyIsEnumerable,LW=Pg(function(){return arguments}())?Pg:function(e){return gt(e)&&kW.call(e,"callee")&&!AW.call(e,"callee")},Ui=LW;function WW(){return!1}var Aw=WW;var Yw=I(su());var YW="[object Arguments]",$W="[object Array]",GW="[object Boolean]",VW="[object Date]",zW="[object Error]",QW="[object Function]",KW="[object Map]",XW="[object Number]",JW="[object Object]",ZW="[object RegExp]",eF="[object Set]",tF="[object String]",rF="[object WeakMap]",nF="[object ArrayBuffer]",iF="[object DataView]",aF="[object Float32Array]",oF="[object Float64Array]",sF="[object Int8Array]",uF="[object Int16Array]",lF="[object Int32Array]",dF="[object Uint8Array]",cF="[object Uint8ClampedArray]",fF="[object Uint16Array]",pF="[object Uint32Array]",Te={};Te[aF]=Te[oF]=Te[sF]=Te[uF]=Te[lF]=Te[dF]=Te[cF]=Te[fF]=Te[pF]=!0;Te[YW]=Te[$W]=Te[nF]=Te[GW]=Te[iF]=Te[VW]=Te[zW]=Te[QW]=Te[KW]=Te[XW]=Te[JW]=Te[ZW]=Te[eF]=Te[tF]=Te[rF]=!1;function mF(e){return gt(e)&&Bi(e.length)&&!!Te[Bt(e)]}var Bw=mF;function gF(e){return function(t){return e(t)}}var Yi=gF;var Dg=I(uu()),Uw=Dg.default&&Dg.default.isTypedArray,xF=Uw?Yi(Uw):Bw,lu=xF;var bF=Object.prototype,wF=bF.hasOwnProperty;function _F(e,t){var r=Ce(e),n=!r&&Ui(e),i=!r&&!n&&Yw.default(e),a=!r&&!n&&!i&&lu(e),o=r||n||i||a,s=o?Iw(e.length,String):[],u=s.length;for(var l in e)(t||wF.call(e,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Wi(l,u)))&&s.push(l);return s}var du=_F;function OF(e,t){return function(r){return e(t(r))}}var cu=OF;var TF=cu(Object.keys,Object),$w=TF;var SF=Object.prototype,MF=SF.hasOwnProperty;function qF(e){if(!Hi(e))return $w(e);var t=[];for(var r in Object(e))MF.call(e,r)&&r!="constructor"&&t.push(r);return t}var Gw=qF;function NF(e){return Xr(e)?du(e):Gw(e)}var ir=NF;function PF(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Vw=PF;var CF=Object.prototype,DF=CF.hasOwnProperty;function EF(e){if(!ut(e))return Vw(e);var t=Hi(e),r=[];for(var n in e)n=="constructor"&&(t||!DF.call(e,n))||r.push(n);return r}var zw=EF;function RF(e){return Xr(e)?du(e,!0):zw(e)}var $i=RF;var jF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,IF=/^\w*$/;function kF(e,t){if(Ce(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||nr(e)?!0:IF.test(e)||!jF.test(e)||t!=null&&e in Object(t)}var Gi=kF;var AF=Tt(Object,"create"),wr=AF;function LF(){this.__data__=wr?wr(null):{},this.size=0}var Qw=LF;function WF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Kw=WF;var FF="__lodash_hash_undefined__",BF=Object.prototype,HF=BF.hasOwnProperty;function UF(e){var t=this.__data__;if(wr){var r=t[e];return r===FF?void 0:r}return HF.call(t,e)?t[e]:void 0}var Xw=UF;var YF=Object.prototype,$F=YF.hasOwnProperty;function GF(e){var t=this.__data__;return wr?t[e]!==void 0:$F.call(t,e)}var Jw=GF;var VF="__lodash_hash_undefined__";function zF(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=wr&&t===void 0?VF:t,this}var Zw=zF;function Vi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vi.prototype.clear=Qw;Vi.prototype.delete=Kw;Vi.prototype.get=Xw;Vi.prototype.has=Jw;Vi.prototype.set=Zw;var Eg=Vi;function QF(){this.__data__=[],this.size=0}var e_=QF;function KF(e,t){for(var r=e.length;r--;)if(Qr(e[r][0],t))return r;return-1}var Jr=KF;var XF=Array.prototype,JF=XF.splice;function ZF(e){var t=this.__data__,r=Jr(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():JF.call(t,r,1),--this.size,!0}var t_=ZF;function eB(e){var t=this.__data__,r=Jr(t,e);return r<0?void 0:t[r][1]}var r_=eB;function tB(e){return Jr(this.__data__,e)>-1}var n_=tB;function rB(e,t){var r=this.__data__,n=Jr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var i_=rB;function zi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zi.prototype.clear=e_;zi.prototype.delete=t_;zi.prototype.get=r_;zi.prototype.has=n_;zi.prototype.set=i_;var Zr=zi;var nB=Tt(Ue,"Map"),en=nB;function iB(){this.size=0,this.__data__={hash:new Eg,map:new(en||Zr),string:new Eg}}var a_=iB;function aB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var o_=aB;function oB(e,t){var r=e.__data__;return o_(t)?r[typeof t=="string"?"string":"hash"]:r.map}var tn=oB;function sB(e){var t=tn(this,e).delete(e);return this.size-=t?1:0,t}var s_=sB;function uB(e){return tn(this,e).get(e)}var u_=uB;function lB(e){return tn(this,e).has(e)}var l_=lB;function dB(e,t){var r=tn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var d_=dB;function Qi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qi.prototype.clear=a_;Qi.prototype.delete=s_;Qi.prototype.get=u_;Qi.prototype.has=l_;Qi.prototype.set=d_;var Un=Qi;var cB="Expected a function";function Rg(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(cB);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Rg.Cache||Un),r}Rg.Cache=Un;var c_=Rg;var fB=500;function pB(e){var t=c_(e,function(n){return r.size===fB&&r.clear(),n}),r=t.cache;return t}var f_=pB;var mB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gB=/\\(\\)?/g,hB=f_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(mB,function(r,n,i,a){t.push(i?a.replace(gB,"$1"):n||r)}),t}),p_=hB;function vB(e){return e==null?"":vw(e)}var m_=vB;function yB(e,t){return Ce(e)?e:Gi(e,t)?[e]:p_(m_(e))}var fu=yB;var xB=1/0;function bB(e){if(typeof e=="string"||nr(e))return e;var t=e+"";return t=="0"&&1/e==-xB?"-0":t}var rn=bB;function wB(e,t){t=fu(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[rn(t[r++])];return r&&r==n?e:void 0}var pu=wB;function _B(e,t,r){var n=e==null?void 0:pu(e,t);return n===void 0?r:n}var g_=_B;function OB(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Ki=OB;var h_=tt?tt.isConcatSpreadable:void 0;function TB(e){return Ce(e)||Ui(e)||!!(h_&&e&&e[h_])}var v_=TB;function y_(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=v_),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?y_(s,t-1,r,n,i):Ki(i,s):n||(i[i.length]=s)}return i}var x_=y_;function SB(e){var t=e==null?0:e.length;return t?x_(e,1):[]}var ht=SB;var MB=cu(Object.getPrototypeOf,Object),mu=MB;function qB(){this.__data__=new Zr,this.size=0}var b_=qB;function NB(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var w_=NB;function PB(e){return this.__data__.get(e)}var __=PB;function CB(e){return this.__data__.has(e)}var O_=CB;var DB=200;function EB(e,t){var r=this.__data__;if(r instanceof Zr){var n=r.__data__;if(!en||n.length<DB-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Un(n)}return r.set(e,t),this.size=r.size,this}var T_=EB;function Xi(e){var t=this.__data__=new Zr(e);this.size=t.size}Xi.prototype.clear=b_;Xi.prototype.delete=w_;Xi.prototype.get=__;Xi.prototype.has=O_;Xi.prototype.set=T_;var nn=Xi;function RB(e,t){return e&&Kr(t,ir(t),e)}var S_=RB;function jB(e,t){return e&&Kr(t,$i(t),e)}var M_=jB;var n0=I(D_());function LB(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var E_=LB;function WB(){return[]}var gu=WB;var FB=Object.prototype,BB=FB.propertyIsEnumerable,R_=Object.getOwnPropertySymbols,HB=R_?function(e){return e==null?[]:(e=Object(e),E_(R_(e),function(t){return BB.call(e,t)}))}:gu,Ji=HB;function UB(e,t){return Kr(e,Ji(e),t)}var j_=UB;var YB=Object.getOwnPropertySymbols,$B=YB?function(e){for(var t=[];e;)Ki(t,Ji(e)),e=mu(e);return t}:gu,hu=$B;function GB(e,t){return Kr(e,hu(e),t)}var I_=GB;function VB(e,t,r){var n=t(e);return Ce(e)?n:Ki(n,r(e))}var vu=VB;function zB(e){return vu(e,ir,Ji)}var uo=zB;function QB(e){return vu(e,$i,hu)}var k_=QB;var KB=Tt(Ue,"DataView"),yu=KB;var XB=Tt(Ue,"Promise"),xu=XB;var JB=Tt(Ue,"Set"),an=JB;var A_="[object Map]",ZB="[object Object]",L_="[object Promise]",W_="[object Set]",F_="[object WeakMap]",B_="[object DataView]",eH=br(yu),tH=br(en),rH=br(xu),nH=br(an),iH=br(au),Yn=Bt;(yu&&Yn(new yu(new ArrayBuffer(1)))!=B_||en&&Yn(new en)!=A_||xu&&Yn(xu.resolve())!=L_||an&&Yn(new an)!=W_||au&&Yn(new au)!=F_)&&(Yn=function(e){var t=Bt(e),r=t==ZB?e.constructor:void 0,n=r?br(r):"";if(n)switch(n){case eH:return B_;case tH:return A_;case rH:return L_;case nH:return W_;case iH:return F_}return t});var _r=Yn;var aH=Object.prototype,oH=aH.hasOwnProperty;function sH(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&oH.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var H_=sH;var uH=Ue.Uint8Array,Zi=uH;function lH(e){var t=new e.constructor(e.byteLength);return new Zi(t).set(new Zi(e)),t}var ea=lH;function dH(e,t){var r=t?ea(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var U_=dH;var cH=/\w*$/;function fH(e){var t=new e.constructor(e.source,cH.exec(e));return t.lastIndex=e.lastIndex,t}var Y_=fH;var $_=tt?tt.prototype:void 0,G_=$_?$_.valueOf:void 0;function pH(e){return G_?Object(G_.call(e)):{}}var V_=pH;function mH(e,t){var r=t?ea(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var z_=mH;var gH="[object Boolean]",hH="[object Date]",vH="[object Map]",yH="[object Number]",xH="[object RegExp]",bH="[object Set]",wH="[object String]",_H="[object Symbol]",OH="[object ArrayBuffer]",TH="[object DataView]",SH="[object Float32Array]",MH="[object Float64Array]",qH="[object Int8Array]",NH="[object Int16Array]",PH="[object Int32Array]",CH="[object Uint8Array]",DH="[object Uint8ClampedArray]",EH="[object Uint16Array]",RH="[object Uint32Array]";function jH(e,t,r){var n=e.constructor;switch(t){case OH:return ea(e);case gH:case hH:return new n(+e);case TH:return U_(e,r);case SH:case MH:case qH:case NH:case PH:case CH:case DH:case EH:case RH:return z_(e,r);case vH:return new n;case yH:case wH:return new n(e);case xH:return Y_(e);case bH:return new n;case _H:return V_(e)}}var Q_=jH;function IH(e){return typeof e.constructor=="function"&&!Hi(e)?Mw(mu(e)):{}}var K_=IH;var i0=I(su());var kH="[object Map]";function AH(e){return gt(e)&&_r(e)==kH}var X_=AH;var jg=I(uu()),J_=jg.default&&jg.default.isMap,LH=J_?Yi(J_):X_,Z_=LH;var WH="[object Set]";function FH(e){return gt(e)&&_r(e)==WH}var e0=FH;var Ig=I(uu()),t0=Ig.default&&Ig.default.isSet,BH=t0?Yi(t0):e0,r0=BH;var HH=1,UH=2,YH=4,a0="[object Arguments]",$H="[object Array]",GH="[object Boolean]",VH="[object Date]",zH="[object Error]",o0="[object Function]",QH="[object GeneratorFunction]",KH="[object Map]",XH="[object Number]",s0="[object Object]",JH="[object RegExp]",ZH="[object Set]",e5="[object String]",t5="[object Symbol]",r5="[object WeakMap]",n5="[object ArrayBuffer]",i5="[object DataView]",a5="[object Float32Array]",o5="[object Float64Array]",s5="[object Int8Array]",u5="[object Int16Array]",l5="[object Int32Array]",d5="[object Uint8Array]",c5="[object Uint8ClampedArray]",f5="[object Uint16Array]",p5="[object Uint32Array]",_e={};_e[a0]=_e[$H]=_e[n5]=_e[i5]=_e[GH]=_e[VH]=_e[a5]=_e[o5]=_e[s5]=_e[u5]=_e[l5]=_e[KH]=_e[XH]=_e[s0]=_e[JH]=_e[ZH]=_e[e5]=_e[t5]=_e[d5]=_e[c5]=_e[f5]=_e[p5]=!0;_e[zH]=_e[o0]=_e[r5]=!1;function bu(e,t,r,n,i,a){var o,s=t&HH,u=t&UH,l=t&YH;if(r&&(o=i?r(e,n,i,a):r(e)),o!==void 0)return o;if(!ut(e))return e;var d=Ce(e);if(d){if(o=H_(e),!s)return Nw(e,o)}else{var c=_r(e),m=c==o0||c==QH;if(i0.default(e))return n0.default(e,s);if(c==s0||c==a0||m&&!i){if(o=u||m?{}:K_(e),!s)return u?I_(e,M_(o,e)):j_(e,S_(o,e))}else{if(!_e[c])return i?e:{};o=Q_(e,c,s)}}a||(a=new nn);var h=a.get(e);if(h)return h;a.set(e,o),r0(e)?e.forEach(function(N){o.add(bu(N,t,r,N,e,a))}):Z_(e)&&e.forEach(function(N,C){o.set(C,bu(N,t,r,C,e,a))});var x=l?u?k_:uo:u?$i:ir,_=d?void 0:x(e);return Pw(_||e,function(N,C){_&&(C=N,N=e[C]),ou(o,C,bu(N,t,r,C,e,a))}),o}var u0=bu;var m5=4;function g5(e){return u0(e,m5)}var l0=g5;var h5="__lodash_hash_undefined__";function v5(e){return this.__data__.set(e,h5),this}var d0=v5;function y5(e){return this.__data__.has(e)}var c0=y5;function wu(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Un;++t<r;)this.add(e[t])}wu.prototype.add=wu.prototype.push=d0;wu.prototype.has=c0;var _u=wu;function x5(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var f0=x5;function b5(e,t){return e.has(t)}var Ou=b5;var w5=1,_5=2;function O5(e,t,r,n,i,a){var o=r&w5,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var c=-1,m=!0,h=r&_5?new _u:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var x=e[c],_=t[c];if(n)var N=o?n(_,x,c,t,e,a):n(x,_,c,e,t,a);if(N!==void 0){if(N)continue;m=!1;break}if(h){if(!f0(t,function(C,j){if(!Ou(h,j)&&(x===C||i(x,C,r,n,a)))return h.push(j)})){m=!1;break}}else if(!(x===_||i(x,_,r,n,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var Tu=O5;function T5(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var p0=T5;function S5(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ta=S5;var M5=1,q5=2,N5="[object Boolean]",P5="[object Date]",C5="[object Error]",D5="[object Map]",E5="[object Number]",R5="[object RegExp]",j5="[object Set]",I5="[object String]",k5="[object Symbol]",A5="[object ArrayBuffer]",L5="[object DataView]",m0=tt?tt.prototype:void 0,kg=m0?m0.valueOf:void 0;function W5(e,t,r,n,i,a,o){switch(r){case L5:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A5:return!(e.byteLength!=t.byteLength||!a(new Zi(e),new Zi(t)));case N5:case P5:case E5:return Qr(+e,+t);case C5:return e.name==t.name&&e.message==t.message;case R5:case I5:return e==t+"";case D5:var s=p0;case j5:var u=n&M5;if(s||(s=ta),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;n|=q5,o.set(e,t);var d=Tu(s(e),s(t),n,i,a,o);return o.delete(e),d;case k5:if(kg)return kg.call(e)==kg.call(t)}return!1}var g0=W5;var F5=1,B5=Object.prototype,H5=B5.hasOwnProperty;function U5(e,t,r,n,i,a){var o=r&F5,s=uo(e),u=s.length,l=uo(t),d=l.length;if(u!=d&&!o)return!1;for(var c=u;c--;){var m=s[c];if(!(o?m in t:H5.call(t,m)))return!1}var h=a.get(e),x=a.get(t);if(h&&x)return h==t&&x==e;var _=!0;a.set(e,t),a.set(t,e);for(var N=o;++c<u;){m=s[c];var C=e[m],j=t[m];if(n)var L=o?n(j,C,m,t,e,a):n(C,j,m,e,t,a);if(!(L===void 0?C===j||i(C,j,r,n,a):L)){_=!1;break}N||(N=m=="constructor")}if(_&&!N){var F=e.constructor,B=t.constructor;F!=B&&"constructor"in e&&"constructor"in t&&!(typeof F=="function"&&F instanceof F&&typeof B=="function"&&B instanceof B)&&(_=!1)}return a.delete(e),a.delete(t),_}var h0=U5;var Ag=I(su());var Y5=1,v0="[object Arguments]",y0="[object Array]",Su="[object Object]",$5=Object.prototype,x0=$5.hasOwnProperty;function G5(e,t,r,n,i,a){var o=Ce(e),s=Ce(t),u=o?y0:_r(e),l=s?y0:_r(t);u=u==v0?Su:u,l=l==v0?Su:l;var d=u==Su,c=l==Su,m=u==l;if(m&&Ag.default(e)){if(!Ag.default(t))return!1;o=!0,d=!1}if(m&&!d)return a||(a=new nn),o||lu(e)?Tu(e,t,r,n,i,a):g0(e,t,u,r,n,i,a);if(!(r&Y5)){var h=d&&x0.call(e,"__wrapped__"),x=c&&x0.call(t,"__wrapped__");if(h||x){var _=h?e.value():e,N=x?t.value():t;return a||(a=new nn),i(_,N,r,n,a)}}return m?(a||(a=new nn),h0(e,t,r,n,i,a)):!1}var b0=G5;function w0(e,t,r,n,i){return e===t?!0:e==null||t==null||!gt(e)&&!gt(t)?e!==e&&t!==t:b0(e,t,r,n,w0,i)}var Mu=w0;var V5=1,z5=2;function Q5(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=r[i];var u=s[0],l=e[u],d=s[1];if(o&&s[2]){if(l===void 0&&!(u in e))return!1}else{var c=new nn;if(n)var m=n(l,d,u,e,t,c);if(!(m===void 0?Mu(d,l,V5|z5,n,c):m))return!1}}return!0}var _0=Q5;function K5(e){return e===e&&!ut(e)}var qu=K5;function X5(e){for(var t=ir(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,qu(i)]}return t}var O0=X5;function J5(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Nu=J5;function Z5(e){var t=O0(e);return t.length==1&&t[0][2]?Nu(t[0][0],t[0][1]):function(r){return r===e||_0(r,e,t)}}var T0=Z5;function e3(e,t){return e!=null&&t in Object(e)}var S0=e3;function t3(e,t,r){t=fu(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=rn(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Bi(i)&&Wi(o,i)&&(Ce(e)||Ui(e)))}var M0=t3;function r3(e,t){return e!=null&&M0(e,t,S0)}var q0=r3;var n3=1,i3=2;function a3(e,t){return Gi(e)&&qu(t)?Nu(rn(e),t):function(r){var n=g_(r,e);return n===void 0&&n===t?q0(r,e):Mu(t,n,n3|i3)}}var N0=a3;function o3(e){return function(t){return t==null?void 0:t[e]}}var P0=o3;function s3(e){return function(t){return pu(t,e)}}var C0=s3;function u3(e){return Gi(e)?P0(rn(e)):C0(e)}var D0=u3;function l3(e){return typeof e=="function"?e:e==null?zr:typeof e=="object"?Ce(e)?N0(e[0],e[1]):T0(e):D0(e)}var on=l3;function d3(e,t,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}var E0=d3;function c3(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(r(a[u],u,a)===!1)break}return t}}var R0=c3;var f3=R0(),j0=f3;function p3(e,t){return e&&j0(e,t,ir)}var I0=p3;function m3(e,t){return function(r,n){if(r==null)return r;if(!Xr(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var k0=m3;var g3=k0(I0),A0=g3;function h3(e,t,r,n){return A0(e,function(i,a,o){t(n,i,r(i),o)}),n}var L0=h3;function v3(e,t){return function(r,n){var i=Ce(r)?E0:L0,a=t?t():{};return i(r,e,on(n,2),a)}}var Pu=v3;function y3(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var W0=y3;var x3=Math.max;function b3(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:ru(r);return i<0&&(i=x3(n+i,0)),Li(e,on(t,3),i)}var Lg=b3;var w3=Math.max,_3=Math.min;function O3(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=n-1;return r!==void 0&&(i=ru(r),i=r<0?w3(n+i,0):_3(i,n-1)),Li(e,on(t,3),i,!0)}var Wg=O3;var T3=Object.prototype,S3=T3.hasOwnProperty,M3=Pu(function(e,t,r){S3.call(e,r)?e[r].push(t):Fi(e,r,[t])}),F0=M3;function q3(e,t){return e>t}var B0=q3;function N3(e,t){return e<t}var Cu=N3;function P3(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(o!=null&&(s===void 0?o===o&&!nr(o):r(o,s)))var s=o,u=a}return u}var ra=P3;function C3(e){return e&&e.length?ra(e,zr,B0):void 0}var Du=C3;function D3(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);a!==void 0&&(r=r===void 0?a:r+a)}return r}var H0=D3;function E3(e){return e&&e.length?ra(e,zr,Cu):void 0}var Fg=E3;function R3(e,t){return e&&e.length?ra(e,on(t,2),Cu):void 0}var U0=R3;var j3=Pu(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),Y0=j3;var I3=Math.ceil,k3=Math.max;function A3(e,t,r,n){for(var i=-1,a=k3(I3((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}var $0=A3;function L3(e){return function(t,r,n){return n&&typeof n!="number"&&jw(t,r,n)&&(r=n=void 0),t=Ai(t),r===void 0?(r=t,t=0):r=Ai(r),n=n===void 0?t<r?1:-1:Ai(n),$0(t,r,n,e)}}var G0=L3;var W3=G0(),V0=W3;function F3(e){return e&&e.length?H0(e,zr):0}var rt=F3;var B3=1/0,H3=an&&1/ta(new an([,-0]))[1]==B3?function(e){return new an(e)}:qw,z0=H3;var U3=200;function Y3(e,t,r){var n=-1,i=Rw,a=e.length,o=!0,s=[],u=s;if(r)o=!1,i=W0;else if(a>=U3){var l=t?null:z0(e);if(l)return ta(l);o=!1,i=Ou,u=new _u}else u=t?[]:s;e:for(;++n<a;){var d=e[n],c=t?t(d):d;if(d=r||d!==0?d:0,o&&c===c){for(var m=u.length;m--;)if(u[m]===c)continue e;t&&u.push(c),s.push(d)}else i(u,c,r)||(u!==s&&u.push(c),s.push(d))}return s}var Q0=Y3;function $3(e){return e&&e.length?Q0(e):[]}var K0=$3;var Ke=e=>e.filter(t=>t!=null);function Eu(e,t,r){let n=e.get(t);return n||(n=r(),e.set(t,n)),n}function Ru(e,t,r,n){if(t>0){let i=Wg(e,n,t-1);if(i!==-1)return i}if(r&&t<e.length-1){let i=Wg(e.slice(t+1),n);return i===-1?void 0:i+t+1}}function ju(e,t,r,n){if(t<e.length-1){let i=Lg(e,n,t+1);if(i!==-1)return i}if(r&&t>0){let i=Lg(e.slice(0,t),n);return i===-1?void 0:i}}var X0=e=>new Promise(t=>{setTimeout(t,e)});var St=I(require("fs")),kT=I(lO()),dn=I(require("path")),AT=I(require("readline")),LT=I(cT()),F4=I(require("trash")),At=I(require("util"));var Ku=I(require("child_process")),DT=I(CT()),Xu=(e,t,r)=>{let n=Ku.spawn(e,t,r),i="";return n.stdout.on("data",a=>{i+=a.toString()}),new Promise((a,o)=>{n.stdout.on("error",s=>{o(s)}),n.stdout.on("end",()=>{a(i)})})},Th=(e,t)=>new Promise((r,n)=>{Ku.exec(e,t,(i,a)=>{if(i)return n(i);r(a.toString("utf8"))})});function Sh(e){return process.platform==="win32"?`"${e.replace(/"/g,'\\"')}"`:(/[^A-Za-z0-9_\/:=-]/.test(e)&&(e="'"+e.replace(/'/g,"'\\''")+"'",e=e.replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")),e)}var yo=async e=>{try{await DT.default(e)}catch(t){return!1}return!0};var Pt=process.platform==="win32",Kxe=process.platform==="darwin",Xxe=process.platform==="linux";var RT=I(require("trash"));var Ju=I(require("coc.nvim"));var J=Ju.workspace.getConfiguration("explorer"),el=(e=Zu(Ju.workspace.cwd))=>Ju.workspace.getConfiguration("explorer",e);function ET(e){return{get config(){return e},get(t,r){return this.config.get(t,r)}}}var W4=e=>RT.default(e,{glob:!1}),jT=class{constructor(){this.inited=!1;this.placeholders={list:"%l",sourceFile:"%s"};this.exec_=async()=>{}}async init(){if(this.inited)return;let t=J.get("trash.command");if(t==="nodejs:module"){this.exec_=async a=>{await W4(a)};return}let r=t.match(/^([^\s]+)/),n=r==null?void 0:r[1];if(!n){this.exec_=async()=>{throw new Error("'explorer.trash.command' must not be empty")};return}let i=async a=>{if(!await yo(a))throw new Error(`command(${a}) does not exist`)};t.includes(this.placeholders.list)?this.exec_=async a=>{await i(n);let o=a.map(s=>Sh(s)).join(" ");await Th(t.replace(new RegExp(this.placeholders.list,"g"),o))}:t.includes(this.placeholders.sourceFile)&&(this.exec_=async a=>{await i(n);for(let o of a.map(s=>Sh(s)))await Th(t.replace(new RegExp(this.placeholders.sourceFile,"g"),o))}),this.inited=!0}async exec(t){await this.init(),await this.exec_(t)}},IT=new jT;var B4=At.promisify(St.default.open),H4=At.promisify(St.default.close),WT=async e=>await H4(await B4(e,"w")),la=kT.default,xo=At.promisify(St.default.readdir),FT=At.promisify(St.default.readlink),bo=(e,t)=>new Promise(r=>{St.default.access(e,t,n=>{r(!n)})}),tl=At.promisify(St.default.writeFile),BT=At.promisify(St.default.readFile),rl=bo,Kn=At.promisify(St.default.stat),Xn=At.promisify(St.default.lstat),U4=At.promisify(St.default.copyFile),Mh=At.promisify(St.default.rename),HT=At.promisify(LT.default),nl=async e=>{await IT.exec(typeof e=="string"?[e]:e)};async function qh(e,t){if((await Xn(e)).isDirectory()){await la(t);let n=await xo(e);for(let i of n)await qh(dn.default.join(e,i),dn.default.join(t,i))}else await U4(e,t)}async function UT(e,t,r){let n=await xo(e);for(let i of n){let a=dn.default.join(e,i),o=dn.default.join(t,i);if(await rl(o)){let s=await Xn(a),u=await Xn(o);s.isDirectory()&&u.isDirectory()?await UT(a,o,r):(await nl(o),await r(a,o))}else await r(a,o)}}async function Jn(e,t,r){let n=async(a,o)=>{await la(dn.default.dirname(o)),await r(a,o)};for(let a=0,o=t.length;a<o;a++){let s=t[a].source,u=t[a].target;if(!await rl(u)){await n(s,u);continue}let l=typeof s=="string"?await Xn(s):void 0,d=await Xn(u);async function c(){let x=await cn(`Rename: ${u} ->`,u,"file");if(!x){a-=1;return}return n(s,x)}async function m(){return await nl(u),n(s,u)}function i(){a=o}async function h(x={}){var N;x={skip:void 0,rename:c,"force replace":m,...x,quit:i};let _=await Ht(`${e[0].toUpperCase()}${e.slice(1)}: ${u} already exists.`,Object.keys(x));if(_&&_ in x)return(N=x[_])==null?void 0:N.call(x)}s&&(l==null?void 0:l.isDirectory())?d.isDirectory()?await h({merge:()=>UT(s,u,n),"one by one":async()=>{let _=(await xo(s)).map(N=>({source:N,target:dn.default.join(u,dn.default.basename(N))}));await Jn(e,_,r)}}):await h():d.isDirectory()?await h():await h()}}function YT(e,t,r){if(!St.default.existsSync(e))return Promise.reject(new Error(`file does not exist: ${e}`));let n=[],i=St.default.createReadStream(e,{encoding:"utf8"}),a=AT.default.createInterface({input:i,crlfDelay:Infinity,terminal:!1}),o=0;return new Promise((s,u)=>{i.on("error",u),a.on("line",l=>{o===0&&l.startsWith("\uFEFF")&&(l=l.slice(1)),o>=t&&o<=r&&n.push(l),o===r&&a.close(),o=o+1}),a.on("close",()=>{s(n)}),a.on("error",u)})}async function il(){if(Pt)return(await Xu("wmic",["logicaldisk","get","name"])).split(`
`).map(r=>r.trim()).filter(r=>r.endsWith(":")).map(r=>r+"\\");throw new Error("not support listDrive in "+process.platform)}var $T=I(require("os")),wo=I(require("path"));function _o(e){function t(r,n){if(r.includes(".",1)){let i=wo.default.extname(r);return n.unshift(i.slice(1)),t(wo.default.basename(r,i),n)}else return{basename:r,extensions:n}}return t(e,[])}function lt(e){let t=wo.default.normalize(e);return t[0]==="~"&&(t=wo.default.join($T.default.homedir(),t.slice(1))),Pt&&/[a-z]:/.test(t)&&(t=t[0].toUpperCase()+t.slice(1)),t}var da=class{},Nh=new da;function ca(e,t,r={}){let n=Y4(e,t,r),i=(...a)=>{n(...a).catch(z.error)};return i.cancel=n.cancel,i}function Y4(e,t,{leading:r=!0,trailing:n=!1}={}){let i,a,o=async(...s)=>{let u=()=>new Promise((l,d)=>{a={cancel(){l(Nh),a=void 0},async invoke(){try{l(await t(...s))}catch(c){d(c)}finally{a=void 0}}}});return i===void 0?(i=setTimeout(()=>{a==null||a.invoke(),i=void 0},e),r?t(...s):u()):n?(a==null||a.cancel(),u()):Nh};return o.cancel=()=>{a==null||a.cancel()},o}function Ut(e,t){let r=Oo(e,t),n=(...i)=>{r(...i).catch(z.error)};return n.cancel=r.cancel,n}function Oo(e,t){let r,n,i=async(...a)=>(n==null||n.cancel(),r=setTimeout(async()=>{n==null||n.invoke()},e),await new Promise((o,s)=>{n={cancel(){r&&(clearTimeout(r),r=void 0),o(Nh),n=void 0},async invoke(){try{r=void 0,n=void 0,o(await t(...a))}catch(u){s(u)}}}}));return i.cancel=()=>{n==null||n.cancel()},i}var GT=I(Qe()),Ct=I(require("coc.nvim"));function Ph(){return Ct.workspace.floatSupported}function VT(){return Ct.workspace.isNvim&&Ph()}async function Yt(){return!!await Ct.workspace.nvim.getOption("wrapscan")}async function zT(e){let{nvim:t}=Ct.workspace;(await t.getOption("runtimepath")).split(",").includes(e)||await t.command(`execute 'noa set rtp+='.fnameescape('${e.replace(/'/g,"''")}')`)}async function QT(e){return await Ct.workspace.nvim.call("strdisplaywidth",[e])}async function Zn(e,t,r){return await Ct.workspace.nvim.call("coc_explorer#util#strdisplayslice",[e,t,r!=null?r:void 0])}function Ch(e){return GT.Notifier.create(()=>{Ct.workspace.nvim.call("coc_explorer#util#close_win_by_bufnr",e,!0)})}async function To(e){if(!!e)return Ct.workspace.nvim.call("bufwinnr",e).then(t=>{if(t>0)return t})}async function Dh(e){if(!e)return;let t=await Ct.workspace.nvim.call("win_getid",e);if(t>=0)return t}async function Eh(e){if(e)return Ct.workspace.nvim.createWindow(e)}async function al(e){if(!e)return;let t=await Ct.workspace.nvim.call("winbufnr",e);if(t>=0)return t}async function $t(){return Ct.workspace.nvim.call("bufnr")}var fa=I(require("coc.nvim"));var So;async function $4(){return So||(So=fa.extensions.all.find(e=>e.id==="coc-floatinput")),So==null?void 0:So.exports}async function KT(){var e;if(!!J.get("enableFloatinput"))return(e=await $4())==null?void 0:e.FloatingUI}async function G4(e,t,r){t||(t=["yes","no"],r="no");let n=r?t.indexOf(r):-1,i=await fa.workspace.nvim.call("confirm",[e,t.map(a=>{let o=[...a].findIndex(s=>/[A-Z]/.test(s));return o===-1&&(o=0),a.slice(0,o)+"&"+a[o].toUpperCase()+a.slice(o+1)}).join(`
`),n+1]);if(i!==0)return t[i-1]}async function Ht(e,t,r){let n=await KT();return n?n.confirm({prompt:e,values:t,defaultValue:r}):G4(e,t,r)}async function V4(e,t="",r=void 0){return fa.workspace.nvim.callAsync("coc#util#with_callback",["input",[e+" ",t,r]])}async function cn(e,t="",r=void 0){var i;let n=await KT();return n?(i=await n.stringInput({prompt:e,defaultValue:t}))!=null?i:"":V4(e,t,r)}async function ol(e,t,{onSelect:r,noChoice:n,onCancel:i}){var s,u,l;let a=e.get("openAction.select.filter");if(a.sources){let d=a.sources[t];d&&(a={...a,...d})}let o=await fa.workspace.nvim.call("coc_explorer#select_wins#start",[(s=a.buftypes)!=null?s:[],(u=a.filetypes)!=null?u:[],(l=a.floatingWindows)!=null?l:!0]);o>0?await Promise.resolve(r(o)):o===0?await Promise.resolve(n==null?void 0:n()):await Promise.resolve(i==null?void 0:i())}var z4=I(require("timers"));function pa(e){return async(...t)=>{try{return await e(...t)}catch(r){z.error(r)}}}function Zu(e,t="file"){return t==="file"&&Pt&&/^[A-Za-z]:/.test(e)&&(e="/"+e),t+"://"+e}var $M=I(Fo()),GM=I(yl());function lG(e,t){let r=(e.red+t.red)/2,n=e.red-t.red,i=e.green-t.green,a=e.blue-t.blue;return Math.sqrt(((512+r)*n*n>>8)+4*i*i+((767-r)*a*a>>8))}function gv(e,t,r=n=>n){return U0(t,n=>lG(r(n),e))}function xl(e){e=e.trim(),e[0]==="#"&&(e=e.slice(1));let t=e.match(/.{1,2}/g);if(!t)return;let[r,n,i]=t;return $M.Color.create(parseInt(r,16),parseInt(n,16),parseInt(i,16),1)}function hv(e){return GM.default.rgb.hex(e.red,e.green,e.blue)}var z=new vv.HelperLogger("explorer");var Wt=(e,t,r,n)=>{let i=hn.events.on(e,pa(t),r),a=hn.Disposable.create(()=>{typeof t.cancel=="function"&&t.cancel(),i.dispose()});return n&&n.push(a),a};function oi(e,t,r){let n=0,i=t!==0?Ut(t,a=>{if(a!==n)return n=a,e(a)}):e;return Wt("BufEnter",i,void 0,r)}function yv(e,t,r){let n=ca(t,e,{leading:!1,trailing:!0});return Wt("CursorMoved",n,void 0,r)}var Ho=new bl.HelperVimEvents({BufDelete:{eventExpr:"BufDelete *",argExprs:['+expand("<abuf>")']},ColorScheme:{eventExpr:"ColorScheme *",argExprs:["g:colors_name"]},BufWipeout:{eventExpr:"BufWipeout *",argExprs:['+expand("<abuf>")']},CocDiagnosticChange:{eventExpr:"User CocDiagnosticChange"},CocGitStatusChange:{eventExpr:"User CocGitStatusChange"},FugitiveChanged:{eventExpr:"User FugitiveChanged"},CocBookmarkChange:{eventExpr:"User CocBookmarkChange"}},z),Rr=Ho.events,Cwe=new hn.Emitter;function xv(e){return bl.Notifier.create(()=>{hn.workspace.nvim.call("coc_explorer#util#do_autocmd",[e],!0)})}async function wl(e){await xv(e).run()}var VM=class{constructor(){this.nvim=si.workspace.nvim;this.highlights=[]}async registerGroup(t){Ho.events.on("ColorScheme",t),await t()}linkGroup(t,r){let n=`CocExplorer${t}`,i=[`highlight default link ${n} ${r}`],a={group:n,commands:i};return this.highlights.push(a),a}group(t,r){let n=`CocExplorer${t}`,i=[`highlight default ${n} ${r}`],a={group:n,commands:i};return this.highlights.push(a),a}clearHighlightsNotify(t,r,n,i){t.buffer.clearNamespace(r,n,i)}addHighlightsNotify(t,r,n){for(let i of n)i.size!==0&&t.buffer.highlightRanges(r,i.group,[si.Range.create(si.Position.create(i.lineIndex,i.start),si.Position.create(i.lineIndex,i.start+i.size))])}addHighlightSyntaxNotify(){let t=[];for(let r of this.highlights)this.nvim.command(`silent! syntax clear ${r.group}`,!0),t.push(...r.commands);this.nvim.call("coc_explorer#util#execute_commands",[t],!0)}},se=new VM;var pr=I(require("coc.nvim")),a2=I(Qe());var QM=I(require("coc.nvim"));var zM=I(require("coc.nvim"));async function _l(e){return{...await zM.workspace.nvim.eval('get(g:, "coc_explorer_global_presets", {})'),...e.get("presets")}}var Ta=class{constructor(t){this.args=t;this.optionValues=new Map}static registerOption(t,r={}){let n={type:r.position===void 0?"string":"positional",name:t,...r};return this.registeredOptions.set(t,n),n}static registerBoolOption(t,r){let n={type:"boolean",name:t,getDefault:typeof r=="boolean"?()=>r:r};return this.registeredOptions.set(t,n),this.registeredOptions.set("no-"+t,n),n}static async parse(t,r){let n=new Ta(t),i=[...t],a=1;for(;i.length>0;){let u=i.shift();if(u.startsWith("--")){let d,c;/^--[\w-]+=/.test(u)?[d,c]=ow(u.slice(2),"=",2):d=u.slice(2);let m=this.registeredOptions.get(d);if(!m)throw Error(`coc-explorer command no support option(${d})`);if(c===void 0){if(m.type==="boolean"){n.optionValues.set(m.name,!d.startsWith("no-"));continue}else if(c=i.shift(),c===void 0)continue}n.optionValues.set(m.name,m.parseArg?await m.parseArg(c):c);continue}let l=Array.from(this.registeredOptions.values()).find(d=>d.position===a);l&&n.optionValues.set(l.name,l.parseArg?await l.parseArg(u):u),a+=1}let o=n.optionValues.get("preset");if(!o)return n;let s=await _l(r);if(!(o in s))return QM.window.showMessage(`coc-explorer preset(${o}) not found`,"warning"),n;for(let[u,l]of Object.entries(s[o])){if(n.optionValues.has(u)||l===void 0)continue;this.registeredOptions.get(u)&&n.optionValues.set(u,l)}return n}has(t){return this.optionValues.has(t.name)}async value(t){var n,i,a,o,s;let r;if(this.optionValues.has(t.name))r=this.optionValues.get(t.name);else if(Ta.registeredOptions.has(t.name))r=await((i=(n=Ta.registeredOptions.get(t.name))==null?void 0:n.getDefault)==null?void 0:i.call(n));else throw new Error(`Argument(${t.name}) not found`);return(s=(o=(a=Ta.registeredOptions.get(t.name))==null?void 0:a.handler)==null?void 0:o.call(a,r))!=null?s:r}},oe=Ta;oe.registeredOptions=new Map;var te={rootUri:oe.registerOption("root-uri",{position:1}),toggle:oe.registerBoolOption("toggle",()=>J.get("toggle")),openActionStrategy:oe.registerOption("open-action-strategy",{getDefault:()=>J.get("openAction.strategy")}),focus:oe.registerBoolOption("focus",()=>J.get("focus")),quit:oe.registerBoolOption("quit",!1),quitOnOpen:oe.registerBoolOption("quit-on-open",()=>J.get("quitOnOpen")),reveal:oe.registerOption("reveal",{handler:e=>e&&lt(e)}),preset:oe.registerOption("preset"),sources:oe.registerOption("sources",{parseArg:e=>e.split(",").map(t=>{let r=!1,n;return t.endsWith("+")?(r=!0,n=t.slice(0,t.length-1)):t.endsWith("-")?(r=!1,n=t.slice(0,t.length-1)):n=t,{name:n,expand:r}}),getDefault:()=>J.get("sources")}),position:oe.registerOption("position",{getDefault:()=>J.get("position")}),width:oe.registerOption("width",{parseArg:e=>parseInt(e,10),getDefault:()=>J.get("width")}),contentWidth:oe.registerOption("content-width",{parseArg:e=>parseInt(e,10),getDefault:()=>J.get("contentWidth")}),contentWidthType:oe.registerOption("content-width-type",{getDefault:()=>J.get("contentWidthType")}),floatingPosition:oe.registerOption("floating-position",{parseArg:e=>["left-center","right-center","center","center-top"].includes(e)?e:e.split(",").map(t=>parseInt(t,10)),getDefault:()=>J.get("floating.position")}),floatingWidth:oe.registerOption("floating-width",{parseArg:e=>parseInt(e,10),getDefault:()=>J.get("floating.width")}),floatingHeight:oe.registerOption("floating-height",{parseArg:e=>parseInt(e,10),getDefault:()=>J.get("floating.height")}),floatingContentWidth:oe.registerOption("floating-content-width",{parseArg:e=>parseInt(e,10),getDefault:()=>J.get("floating.contentWidth")})};var ui=I(require("coc.nvim")),Ol=I(require("path"));var dG=/^\s*(\d+)(.+?)"(.+?)".*/,bv=class{constructor(t){this.bufferNodes=[];this.onReload=t=>this.reloadEvent.event(t);this.onModified=t=>this.modifiedEvent.event(t);this.bufferNodeMapByFullpath=new Map;this.bufferNodeMapById=new Map;this.nvim=ui.workspace.nvim;this.reloadEvent=new ui.Emitter;this.modifiedEvent=new ui.Emitter;t.subscriptions.push(Wt(["BufCreate","BufHidden","BufUnload","BufWinEnter","BufWinLeave"],ca(100,()=>this.reload(),{leading:!1,trailing:!0})),Wt("BufWritePost",async r=>{await this.reload();let n=this.bufferNodeMapById.get(r);n&&this.modifiedEvent.fire(n.fullpath)}),Rr.on("BufDelete",()=>this.reload()),Rr.on("BufWipeout",()=>this.reload()),...["TextChanged","TextChangedI","TextChangedP"].map(r=>Wt(r,async n=>{let i=this.bufferNodeMapById.get(n);if(!i)return;let a=this.nvim.createBuffer(n),o=await ui.workspace.nvim.eval(`bufloaded(${a.id}) ? getbufvar(${a.id}, '&modified') : v:null`);o===null||i.modified===o||(i.modified=o,this.modifiedEvent.fire(i.fullpath))})))}async removeBufNode(t,r){if(!r&&t.modified)throw new Error("The content of buffer has not been saved!");await this.nvim.command(`bwipeout! ${t.bufnr}`)}async remove(t,r){if(t.endsWith(Ol.default.sep))return this.removePrefix(t,r);{let n=this.bufferNodeMapByFullpath.get(t);if(!n)return;await this.removeBufNode(n,r)}}async removePrefix(t,r){for(let[n,i]of this.bufferNodeMapByFullpath)n.startsWith(t)&&await this.removeBufNode(i,r)}modified(t){var r,n;return t.endsWith(Ol.default.sep)?this.modifiedPrefix(t):(n=(r=this.bufferNodeMapByFullpath.get(t))==null?void 0:r.modified)!=null?n:!1}modifiedPrefix(t){for(let[r,n]of this.bufferNodeMapByFullpath)if(r.startsWith(t)&&n.modified)return!0;return!1}getBufferNode(t){return typeof t=="number"?this.bufferNodeMapById.get(t):this.bufferNodeMapByFullpath.get(t)}async waitReload(){return new Promise(t=>{let r=this.onReload(()=>{r.dispose(),t()});setTimeout(t,100)})}async reload(){let t="ls!",r=await this.nvim.call("execute",t);this.bufferNodes=Ke(await Promise.all(r.split(/\n/).map(async n=>{let i=n.match(dG);if(!i)return;let a=i[1],o=i[2],s=i[3],u=await ui.workspace.nvim.call("expand",[`#${a}:p`,1]);return{type:"child",uid:a,level:1,bufnr:parseInt(a),bufnrStr:a,bufname:s,fullpath:u,name:Ol.default.basename(s),unlisted:o.includes("u"),current:o.includes("%"),previous:o.includes("#"),visible:o.includes("a"),hidden:o.includes("h"),modifiable:!o.includes("-"),readonly:o.includes("="),terminal:o.includes("R")||o.includes("F")||o.includes("?"),modified:o.includes("+"),readErrors:o.includes("x")}}))),this.bufferNodeMapByFullpath=this.bufferNodes.reduce((n,i)=>(n.set(i.fullpath,i),n),new Map),this.bufferNodeMapById=this.bufferNodes.reduce((n,i)=>(n.set(i.bufnr,i),n),new Map),this.reloadEvent.fire()}};var KM=I(require("coc.nvim")),Tl="coc_explorer_context",wv=class{constructor(t){this.name=t}async set(t){let r=await this.read();t===void 0?Reflect.deleteProperty(r,this.name):Reflect.set(r,this.name,t),await this.write(r)}async get(){let t=await this.read();return Reflect.get(t,this.name)}},Uo=class extends wv{constructor(t,r){super(t);this.name=t;this.explorer=r}async read(){return await this.explorer.buffer.getVar(Tl)||{}}async write(t){await this.explorer.buffer.setVar(Tl,t)}};var Sl=class extends wv{constructor(){super(...arguments);this.nvim=KM.workspace.nvim}async read(){var t;return(t=await this.nvim.getVar(Tl))!=null?t:{}}async write(t){await this.nvim.setVar(Tl,t)}};var Ur=I(Qe()),qt=I(require("coc.nvim")),i2=I(Tv());var aq=I(qv()),oq=I(Qe()),sq=I(require("coc.nvim"));var Yo=I(require("coc.nvim"));var Sa={"expandable?":{filter:(e,t)=>t.expandable,getHelpDescription:()=>"expandable?"},"expanded?":{filter:(e,t)=>e.view.isExpanded(t),getHelpDescription:()=>"expanded?"},"type?":{filter:(e,t,r)=>t.type===r[0],getHelpDescription:e=>`type is ${e[0]}`}},li={name:"wait",helpDescription:"<wait>"};function fG(e){if(typeof e!="string")return e;let[t,...r]=e.split(/:/);return{name:t,args:r}}function tq(e){let{name:t,args:r}=e;return[t,...r].join(":")}function rq(e){return e.includes("<dot>")?e.replace(/\<dot\>/g,"."):e}function di(e){return Array.isArray(e)?e.map(di):fG(e)}function nq(e){let t={};for(let[r,n]of Object.entries(e))t[rq(r)]=di(n);return t}function Ml(e,t){let r=nq(e);for(let[n,i]of Object.entries(t)){if(i===!1){delete r[n];continue}r[rq(n)]=di(i)}return r}function Nv(e){return Array.isArray(e)?e.map(r=>Nv(r)).filter(r=>r&&!(r.name in Sa)&&r.name!==li.name)[0]:e}var iq=class{constructor(){this.mode=J.get("keyMappingMode","default");this.mouseMappings={none:{},singleclick:{"<LeftRelease>":["expandable?",["expanded?","collapse","expand"],"open"]},doubleclick:{"<2-LeftMouse>":["expandable?",["expanded?","collapse","expand"],"open"]}}[J.get("mouseMode")];this.configByModes={none:{global:{},vmap:{},sources:{}},default:{global:{"*":"toggleSelection","<tab>":"actionMenu",h:["wait","collapse"],l:["wait","expandable?","expand","open"],J:["wait","toggleSelection","normal:j"],K:["wait","toggleSelection","normal:k"],gl:["wait","expand:recursive"],gh:["wait","collapse:recursive"],...this.mouseMappings,o:["wait","expanded?","collapse","expand"],"<cr>":["wait","expandable?","cd","open"],e:"open",s:"open:split",E:"open:vsplit",t:"open:tab","<bs>":["wait","gotoParent"],gs:["wait","reveal:select"],il:"preview:labeling",ic:"preview:content",Il:"previewOnHover:toggle:labeling",Ic:"previewOnHover:toggle:content",II:"previewOnHover:disable",yp:"copyFilepath",yn:"copyFilename",yy:"copyFile",yY:"copyFile:replace",dd:"cutFile",dD:"cutFile:replace",p:"pasteFile",df:"delete",dF:"deleteForever",a:"addFile",A:"addDirectory",r:"rename",zh:"toggleHidden","g<dot>":"toggleHidden",R:"refresh","?":"help",q:"quit","<esc>":"esc",X:"systemExecute",gd:"listDrive",f:"search",F:"searchRecursive",gf:"gotoSource:file",gb:"gotoSource:buffer","[[":["wait","sourcePrev"],"]]":["wait","sourceNext"],"[i":["wait","indentPrev"],"]i":["wait","indentNext"],"[m":["wait","markPrev:modified"],"]m":["wait","markNext:modified"],"[d":["wait","markPrev:diagnosticError:diagnosticWarning"],"]d":["wait","markNext:diagnosticError:diagnosticWarning"],"[D":["wait","markPrev:diagnosticError"],"]D":["wait","markNext:diagnosticError"],"[c":["wait","markPrev:gitUnstaged:gitStaged"],"]c":["wait","markNext:gitUnstaged:gitStaged"],"[C":["wait","markPrev:gitUnstaged"],"]C":["wait","markNext:gitUnstaged"],"<<":"gitStage",">>":"gitUnstage"},vmap:{il:"textobj:line:i",al:"textobj:line:a",ii:"textobj:indent:i",ai:"textobj:indent:a"},sources:{}}}}get config(){return this.configByModes[this.mode]}globalMappings(){return this.globalMappings_||(this.globalMappings_=Ml(this.config.global,{...J.get("keyMappings.global",{})})),this.globalMappings_}vmapMappings(){return this.vmapMappings_||(this.vmapMappings_=Ml(this.config.vmap,{...J.get("keyMappings.vmap",{})})),this.vmapMappings_}allSourceMappings(){var t;if(!this.allSourceMappings_){let r=(t=this.config.sources)!=null?t:{},n=J.get("keyMappings.sources",{});this.allSourceMappings_={};for(let[i,a]of Object.entries(r))this.allSourceMappings_[i]={...nq(a)};for(let[i,a]of Object.entries(n))i in this.allSourceMappings_?this.allSourceMappings_[i]=Ml(this.allSourceMappings_[i],a):this.allSourceMappings_[i]=Ml({},a)}return this.allSourceMappings_}sourceMappings(t){return this.allSourceMappings()[t]}async filterEscForVim(t){Yo.workspace.isVim&&!await Yo.workspace.nvim.call("has",["gui_running"])&&t.delete("<esc>")}async getCommonKeys(){let t=new Set;for(let r of Object.keys(this.globalMappings()))t.add(r);for(let r of Object.values(this.allSourceMappings()))for(let n of Object.keys(r))t.add(n);return await this.filterEscForVim(t),t}async getVisualKeys(){let t=new Set;for(let r of Object.keys(this.vmapMappings()))t.add(r);return t}getActionExp(t,r,n){var s,u,l;let i=this.vmapMappings(),a=this.globalMappings(),o=this.sourceMappings(t);return n==="v"?(u=(s=i==null?void 0:i[r])!=null?s:o==null?void 0:o[r])!=null?u:a[r]:(l=o==null?void 0:o[r])!=null?l:a[r]}async getMappings(t){let r=this.globalMappings(),n=this.vmapMappings(),i=this.sourceMappings(t),a={...r,...i};return Yo.workspace.isVim&&!await Yo.workspace.nvim.call("has",["gui_running"])&&delete a["<esc>"],{all:a,vmap:n}}async getReversedMappings(t){let r=await this.getMappings(t),n={};return Object.entries(r.all).find(([i,a])=>{let o=Nv(a);if(o){let s=tq(o);n[s]||(n[s]={}),n[s].all=i}}),Object.entries(r.vmap).find(([i,a])=>{let o=Nv(a);if(o){let s=tq(o);n[s]||(n[s]={}),n[s].vmap=i}}),n}},Xt=new iq;var $o=class{constructor(t){this.owner=t;this.actions={}}addNodesAction(t,r,n,i={}){this.actions[t]={callback:r,description:n,options:{select:!0,...i}}}addNodeAction(t,r,n,i={}){this.actions[t]={callback:async({source:a,nodes:o,args:s,mode:u})=>{for(let l of o)await r.call(a,{source:a,node:l,args:s,mode:u})},description:n,options:i}}};var Pv=class extends $o{constructor(t){super(t);this.actionMutex=new aq.Mutex;this.explorer=this.owner}get locator(){return this.explorer.locator}async doActionByKey(t,r,n=1){for(let a=0;a<n;a++){let o=await this.explorer.getSelectedOrCursorLineIndexes(r),s=this.explorer.lineIndexesGroupBySource(o);for(let{source:u,lineIndexes:l}of s){let d=Xt.getActionExp(u.sourceType,t,r);d&&await this.doActionExp(d,{mode:r,lineIndexes:l})}}let i=await Promise.all(this.explorer.sources.map(a=>a.view.emitRequestRenderNodesNotifier()));await oq.Notifier.runAll(i)}async doActionExp(t,r={}){var o,s;let n=(o=r.count)!=null?o:1,i=(s=r.mode)!=null?s:"n",a=r.lineIndexes?new Set(r.lineIndexes):await this.explorer.getSelectedOrCursorLineIndexes(i);try{for(let u=0;u<n;u++){let l=u===0?a:await this.explorer.getSelectedOrCursorLineIndexes(i),d=new Map;for(let c of l){let{source:m}=this.explorer.findSourceByLineIndex(c);d.has(m)||d.set(m,[]);let h=c-m.view.startLineIndex;d.get(m).push(m.view.flattenedNodes[h])}for(let[c,m]of d.entries())await c.action.doActionExp(t,m,{mode:i})}}catch(u){sq.window.showMessage(`Error when do action ${JSON.stringify(t)}`,"error"),z.error(u)}}async nodePrev(t="default",r){let n=async(i,a,o)=>{let s=Ru(i,a,await Yt(),r);s!==void 0&&await this.locator.gotoLineIndex(o+s)};if(t==="insideSource"){let i=await this.explorer.view.currentSource();if(!i)return;await n(i.view.flattenedNodes,i.view.currentLineIndex,i.view.startLineIndex)}else await n(this.explorer.view.flattenedNodes,this.explorer.view.currentLineIndex,0)}async nodeNext(t="default",r){let n=async(i,a,o)=>{let s=ju(i,a,await Yt(),r);s!==void 0&&await this.locator.gotoLineIndex(o+s)};if(t==="insideSource"){let i=await this.explorer.view.currentSource();if(!i)return;await n(i.view.flattenedNodes,i.view.currentLineIndex,i.view.startLineIndex)}else await n(this.explorer.view.flattenedNodes,this.explorer.view.currentLineIndex,0)}};var Wv=I(Qe()),Cq=I(require("coc.nvim"));var vq=I(require("coc.nvim")),ur=I(require("path"));var ci=I(require("coc.nvim")),Cv=I(require("path"));var W;(function(e){e.mixed="*",e.unmodified=" ",e.modified="M",e.added="A",e.deleted="D",e.renamed="R",e.copied="C",e.unmerged="U",e.untracked="?",e.ignored="!"})(W||(W={}));var vn;(function(e){e[e.directory=0]="directory",e[e.file=1]="file"})(vn||(vn={}));var Re;(function(e){e[e.staged=0]="staged",e[e.ahead=1]="ahead",e[e.behind=2]="behind",e[e.conflicted=3]="conflicted",e[e.untracked=4]="untracked",e[e.stashed=5]="stashed",e[e.modified=6]="modified",e[e.added=7]="added",e[e.renamed=8]="renamed",e[e.deleted=9]="deleted"})(Re||(Re={}));var pG=(e,t)=>e.x===t.x&&e.y===t.y,mG=(e,t)=>e.allStaged!==t.allStaged?!1:e.formats.join(",")===t.formats.join(","),Dv=class{constructor(){this.sourcesBinding=new Map;this.prevStatuses={};this.prevIgnores={};this.prevRootStatus={};this.registerForSourceDisposables=[];this.registerDisposables=[];this.inited=!1;this.reloadDebounceChecker=Oo(200,()=>{});this.reloadDebounceArgs={sources:new Set,directories:new Set}}get explorerManager(){if(!this.explorerManager_)throw new Error("explorerManager not initialized yet");return this.explorerManager_}get sources(){return Array.from(this.sourcesBinding.keys())}get refTotalCount(){return rt(Array.from(this.sourcesBinding.values()).map(t=>t.refCount))}init_(t){this.inited||(this.inited=!0,this.explorerManager_=t.explorer.explorerManager)}bind(t){this.init_(t);let r=Eu(this.sourcesBinding,t,()=>({refCount:0}));return r.refCount+=1,r.refCount===1&&(this.registerForSourceDisposables=this.registerForSource(t)),this.refTotalCount===1&&(this.registerDisposables=this.register()),ci.Disposable.create(()=>{r.refCount-=1,r.refCount===0&&(ci.disposeAll(this.registerForSourceDisposables),this.registerForSourceDisposables=[]),this.refTotalCount===0&&(ci.disposeAll(this.registerDisposables),this.registerDisposables=[])})}register(){return[...["CocGitStatusChange","FugitiveChanged"].map(t=>Rr.on(t,async()=>{await this.reloadDebounce(this.sources,ci.workspace.cwd)})),Wt("BufWritePost",Ut(500,async t=>{var n;let r=(n=this.explorerManager.bufManager.getBufferNode(t))==null?void 0:n.fullpath;if(r){let i=Cv.default.dirname(r);await this.reloadDebounce(this.sources,i)}}))]}registerForSource(t){return[t.events.on("loaded",async r=>{let n="isRoot"in r?t.root:r.expandable?r.fullpath:r.fullpath&&Cv.default.dirname(r.fullpath);n&&this.reloadDebounce([t],n).catch(z.error)})]}async reloadDebounce(t,r){t.forEach(i=>{this.reloadDebounceArgs.sources.add(i)}),this.reloadDebounceArgs.directories.add(r),!(await this.reloadDebounceChecker()instanceof da)&&(await this.reload([...this.reloadDebounceArgs.sources],[...this.reloadDebounceArgs.directories]),this.reloadDebounceArgs.sources.clear(),this.reloadDebounceArgs.directories.clear())}async reload(t,r){let n=await ue.getGitRoots(r);if(!n.length)return;let i=new Set,a=new Set;for(let o of n){await ue.reload(o);let s=ue.getMixedStatusesByRoot(o),u=ue.getIgnoreByRoot(o),l=ue.getRootStatus(o)||{allStaged:!1,formats:[]};o in this.prevStatuses||(this.prevStatuses[o]={}),o in this.prevIgnores||(this.prevIgnores[o]={}),o in this.prevRootStatus||(this.prevRootStatus[o]={allStaged:!1,formats:[]});let d=(c,m)=>{m===vn.directory?a.add(c.replace(/[\\/]$/,"")):i.add(c)};for(let[c,m]of Object.entries(s)){if(c in this.prevStatuses[o]&&pG(this.prevStatuses[o][c],m)){delete this.prevStatuses[o][c];continue}i.add(c)}for(let c of Object.keys(this.prevStatuses[o]))i.add(c);for(let[c,m]of Object.entries(u)){if(c in this.prevIgnores[o]&&this.prevIgnores[o][c]===m){delete this.prevIgnores[o][c];continue}d(c,m)}for(let[c,m]of Object.entries(this.prevIgnores[o]))d(c,m);l&&(!this.prevRootStatus||!mG(this.prevRootStatus[o],l))&&i.add(o),this.prevStatuses[o]=s,this.prevIgnores[o]=u,this.prevRootStatus[o]=l}for(let o of t)await o.view.renderPaths([...i,{paths:a,withChildren:!0}])}};var hq=I(gq()),Iv=I(require("path"));var kv=class{get binPath(){return J.get("git.command")}async available(){try{return await hq.default(this.binPath),!0}catch(t){return!1}}spawn(t,{cwd:r}={}){return Xu(this.binPath,t,{cwd:r})}async getRoot(t){let r=await Kn(t).catch(()=>{}),n=(r==null?void 0:r.isDirectory())?t:Iv.default.dirname(t),i=await this.spawn(["rev-parse","--show-toplevel"],{cwd:n});return lt(i.trim())}parseStatusFormat(t){var r;return(r=Object.values(W).find(n=>n===t))!=null?r:W.unmodified}parsePath(t,r){let n=0,i="",a=!1,o=!1,s=!1,u=[];for(;n<t.length;){let l=t[n];if(!a&&!o){l==='"'&&(o=!0,n+=1),i="",a=!0;continue}else o?s?(i+=l==="t"?"	":l,s=!1):l==='"'?(u.push(i),o=!1,a=!1):l==="\\"?s=!0:i+=l:l===" "&&r&&t.slice(n,n+4)===" -> "?(i.length&&u.push(i),n+=3,a=!1):i+=l;n+=1}return a&&(u.push(i),a=!1),u}parseStatusLine(t,r){let n=this.parseStatusFormat(r[0]),i=this.parseStatusFormat(r[1]),a=r.slice(3),o=[W.renamed,W.copied].includes(n)||[W.renamed,W.copied].includes(i),s=this.parsePath(a,o);return[n,i,...s.map(u=>Iv.default.join(t,u))]}async status(t,{showUntrackedFiles:r="system",showIgnored:n=!0}={}){let i={},a=["status","--porcelain"];return r===!0?a.push("-u"):r===!1&&a.push("-uno"),n&&a.push("--ignored=matching"),(await this.spawn(a,{cwd:t})).split(`
`).forEach(u=>{if(!u)return;let[l,d,c,m]=this.parseStatusLine(t,u),h=l===W.untracked?W.unmodified:l,x=d===W.ignored?W.unmodified:d,_=[W.modified,W.added,W.deleted,W.renamed,W.copied],N=h===W.added||x===W.added,C=h===W.modified||x===W.modified,j=h===W.deleted||x===W.deleted,L=h===W.renamed||x===W.renamed,F=h===W.copied||x===W.copied,B=_.includes(h)&&x===W.unmodified,he=h===W.deleted&&x===W.deleted||h===W.added&&x===W.added||h===W.unmerged||x===W.unmerged,qe=h===W.ignored,me=x===W.untracked,be=m||c;i[be]={fullpath:be,x:h,y:x,added:N,modified:C,deleted:j,renamed:L,copied:F,staged:B,unmerged:he,untracked:me,ignored:qe}}),i}async stage(t){if(t.length){let r=await this.getRoot(t[0]);await this.spawn(["add",...t],{cwd:r})}}async unstage(t){if(t.length){let r=await this.getRoot(t[0]);await this.spawn(["reset",...t],{cwd:r})}}async fetch(t){await this.spawn(["fetch"],{cwd:t})}async hasPull(t){let r=await this.spawn(["rev-list","--count","@..@{upstream}"],{cwd:t});return parseInt(r)}async hasPush(t){let r=await this.spawn(["rev-list","--count","@{upstream}..@"],{cwd:t});return parseInt(r)}async hasStashed(t){return(await this.spawn(["stash","list"],{cwd:t})).split(/\n/g).length-1}async checkIgnore(t){if(!t.length)return[];let r=await this.getRoot(t[0]);return(await this.spawn(["check-ignore",...t],{cwd:r})).split(/\n/g)}};var yq=class{constructor(){this.cmd=new kv;this.rootCache={};this.mixedStatusCache={};this.ignoreCache={};this.rootStatusCache={};this.binder=new Dv;this.showIgnored=J.get("git.showIgnored"),this.showUntrackedFiles=J.get("file.git.showUntrackedFiles")}async getGitRoots(t){let r=[...new Set(t)],n=await Promise.all(r.map(i=>this.getGitRoot(i)));return Ke(n)}async getGitRoot(t){if(t in this.rootCache)return this.rootCache[t];let r=t.split(ur.default.sep),n=r.indexOf(".git");if(n!==-1){let i=r.slice(0,n).join(ur.default.sep);this.rootCache[t]=i}else try{let i=await this.cmd.getRoot(t);ur.default.isAbsolute(i)?this.rootCache[t]=i:ur.default.join(t,i)}catch(i){z.error(i);return}return this.rootCache[t]}async reload(t,r={}){var i,a;let n=await this.getGitRoot(t);if(n){let o={showIgnored:(i=r.showIgnored)!=null?i:this.showIgnored,showUntrackedFiles:(a=r.showUntrackedFiles)!=null?a:this.showUntrackedFiles},s=await this.cmd.status(n,o),u=Object.values(s),l=this.rootStatusCache[n]={allStaged:!0,formats:[]};await this.cmd.hasStashed(n)&&l.formats.push(Re.stashed),await this.cmd.hasPull(n)&&l.formats.push(Re.behind),await this.cmd.hasPush(n)&&l.formats.push(Re.ahead),u.some(d=>d.y===W.unmerged)&&l.formats.push(Re.conflicted),u.some(d=>d.y===W.untracked)&&l.formats.push(Re.untracked),u.some(d=>d.x===W.modified||d.y===W.modified)&&l.formats.push(Re.modified),u.some(d=>d.x===W.added)&&l.formats.push(Re.added),u.some(d=>d.x===W.renamed)&&l.formats.push(Re.renamed),u.some(d=>d.x===W.deleted||d.y===W.deleted)&&l.formats.push(Re.deleted),u.some(d=>d.y!==W.unmodified)&&(l.allStaged=!1),this.mixedStatusCache[n]={},this.ignoreCache[n]={},Object.entries(s).forEach(([d,c])=>{if(c.x===W.ignored){["/","\\"].includes(d[d.length-1])?this.ignoreCache[n][d]=vn.directory:this.ignoreCache[n][d]=vn.file;return}let h=ur.default.relative(n,d).split(ur.default.sep);for(let x=1;x<=h.length;x++){let _=ur.default.join(n,ur.default.join(...h.slice(0,x))),N=this.mixedStatusCache[n][_];N?(N.x!==W.mixed&&N.x!==c.x&&(N.x===W.unmodified?N.x=c.x:c.x!==W.unmodified&&(N.x=W.mixed)),N.y!==W.mixed&&N.y!==c.y&&(N.y===W.unmodified?N.y=c.y:c.y!==W.unmodified&&(N.y=W.mixed))):this.mixedStatusCache[n][_]={x:c.x,y:c.y}}})}return n}bindColumn(t){return J.get("git.enable")?this.binder.bind(t):vq.Disposable.create(()=>{})}getMixedStatusesByRoot(t){return this.mixedStatusCache[t]||{}}getIgnoreByRoot(t){return this.ignoreCache[t]||{}}getMixedStatus(t,r){let n=Object.entries(this.mixedStatusCache).sort((a,o)=>o[0].localeCompare(a[0])).find(([a])=>t.startsWith(a));if(n){let a=n[1];if(t in a)return a[t]}let i=Object.entries(this.ignoreCache).sort((a,o)=>o[0].localeCompare(a[0])).find(([a])=>t.startsWith(a));if(i){let a=i[1];if(Object.entries(a).some(([s,u])=>u===vn.file?s===t:(r?t+ur.default.sep:t).startsWith(s)))return{x:W.ignored,y:W.unmodified}}}getRootStatus(t){return this.rootStatusCache[t]}},ue=new yq;var xq=["line","indent"],bq=["i","a"],wq=["default","insideSource"],_q=["select","previousBuffer","previousWindow","sourceWindow","path"],Oq=["select","split","split.plain","split.intelligent","vsplit","vsplit.plain","vsplit.intelligent","tab","previousBuffer","previousWindow","sourceWindow"],Tq=["toggle","append","replace"],Sq=["keepCopy","clear"],Mq=["toggle","enable","disable"],Av=["labeling","content"],qq=["recursive","compact","uncompact","recursiveSingle"],Nq=["recursive","all"];var Go=I(Qe()),Lv=I(require("coc.nvim"));async function Pq(e,t,r,n,{openByWinnr:i,openStrategy:a,position:o}){if(r.expandable)return;let{nvim:s}=Lv.workspace,u=async()=>{let _=await n();return e.config.get("openAction.relativePath")&&(_=await s.call("fnamemodify",[_,":."])),await s.call("fnameescape",[_])},l,d=()=>e.tryQuitOnOpenNotifier();o==="keep"&&(l=await e.winid,d=()=>Go.Notifier.noop());let c=()=>{var _;if(o==="keep"){if(!l)return;s.call("win_gotoid",[l],!0)}else o&&s.call("cursor",[o.lineIndex+1,((_=o.columnIndex)!=null?_:0)+1],!0)},m=i!=null?i:async _=>{let N=await d(),C=await u();s.pauseNotification(),s.command(`${_}wincmd w`,!0),s.command(`edit ${C}`,!0),c(),Lv.workspace.isVim&&s.command("redraw",!0),N.notify(),await s.resumeNotification()},h=async(_,N,C)=>{let j=await e.winid;if(!j)return;let F=(await Go.WinLayoutFinder.create()).findWinid(j);if(F)if(F.parent&&F.parent.group.type==="row"){let B=F.parent.group.children[F.parent.indexInParent+(_==="left"?1:-1)];if(B){let he=Go.WinLayoutFinder.getFirstLeafWinid(B),qe=await d(),me=await u();s.pauseNotification(),s.call("win_gotoid",[he],!0),s.command(`${N} ${me}`,!0),c(),qe.notify(),await s.resumeNotification()}}else await x["vsplit.plain"]();else await x[C]()},x={select:async()=>{let _=await e.args.value(te.position);_==="floating"&&await e.hide(),await ol(e.config,t.sourceType,{onSelect:async N=>{await m(N)},noChoice:async()=>{await x.vsplit()},onCancel:async()=>{_==="floating"&&await e.show()}})},split:()=>x["split.intelligent"](),"split.plain":async()=>{let _=await d(),N=await u();s.pauseNotification(),s.command(`split ${N}`,!0),c(),_.notify(),await s.resumeNotification()},"split.intelligent":async()=>{let _=await e.args.value(te.position);if(_==="floating"){await x["split.plain"]();return}else if(_==="tab"){await x.vsplit();return}await h(_,"split","split.plain")},vsplit:()=>x["vsplit.intelligent"](),"vsplit.plain":async()=>{let _=await d(),N=await u();s.pauseNotification(),s.command(`vsplit ${N}`,!0),c(),_.notify(),await s.resumeNotification()},"vsplit.intelligent":async()=>{let _=await e.args.value(te.position);if(_==="floating"){await x["vsplit.plain"]();return}else if(_==="tab"){await x["vsplit.plain"]();return}await h(_,"vsplit","vsplit.plain")},tab:async()=>{await e.tryQuitOnOpen(),s.pauseNotification(),s.command(`tabedit ${await u()}`,!0),c(),await s.resumeNotification()},previousBuffer:async()=>{let _=await e.explorerManager.prevWinnrByPrevBufnr();_?await m(_):await x.vsplit()},previousWindow:async()=>{let _=await e.explorerManager.prevWinnrByPrevWindowID();_?await m(_):await x.vsplit()},sourceWindow:async()=>{let _=await e.sourceWinnr();_?await m(_):await x.vsplit()}};a||(a=await e.args.value(te.openActionStrategy)),a in x||new Error(`openStrategy(${a}) is not supported`),await x[a]()}function Dq(e){let t=e.owner,r=t.locator,{nvim:n}=Cq.workspace,i=[{name:"open strategy",description:Oq.join(" | ")},{name:"open with position",description:"line-number,column-number | keep"}],a={select:"use select window UI","select:keep":"use select window UI, but keep cursor in explorer","split.plain":"use vim split","split.intelligent":"use split like vscode","vsplit.plain":"use vim vsplit","vsplit.intelligent":"use vim vsplit, but keep the explorer in the original position",tab:"vim tab",previousBuffer:"use last used buffer",previousWindow:"use last used window",sourceWindow:"use the window where explorer opened"};e.addNodeAction("open",async({source:l,node:d,args:c,mode:m})=>{if(d.expandable){let N=t.config.get("openAction.for.directory");N&&await t.action.doActionExp(di(N),{mode:m,lineIndexes:[t.view.flattenedNodes.indexOf(d)]});return}let[h,x]=c,_;if(x==="keep")_=x;else if(x){let[N,C]=x.split(",").map(j=>parseInt(j,10));_={lineIndex:N},C&&(_.columnIndex=C)}else if(d.location){let{range:N}=d.location;_={lineIndex:N.start.line-1}}await Pq(t,l,d,()=>d.fullpath,{openStrategy:h,position:_})},"open file or directory",{select:!0,args:i,menus:a}),e.addNodeAction("expand",async({source:l,node:d,args:c})=>{var m;if(d.expandable){let h=((m=c[0])!=null?m:"").split("|"),x=h.includes("recursive")||void 0,_=h.includes("compact")||void 0,N=h.includes("uncompact")||void 0,C=h.includes("recursiveSingle")||void 0;await l.view.expand(d,{recursive:x,compact:_,uncompact:N,recursiveSingle:C})}},"expand node",{select:!0,args:[{name:"expand options",description:qq.join(" | ")}],menus:{recursive:"recursively",compact:"single child folders will be compressed in a combined node",uncompact:"reset the combined node","compact|uncompact":"compact or uncompact",recursiveSingle:"expand single child folder recursively"}}),e.addNodeAction("collapse",async({source:l,node:d,args:c})=>{var _;let m=((_=c[0])!=null?_:"").split("|"),h=m.includes("all"),x=m.includes("recursive");if(h&&l.view.rootNode.children)for(let N of l.view.rootNode.children)N.expandable&&l.view.isExpanded(N)&&await l.action.doAction("collapse",N,m.filter(C=>C!=="all"));else d.expandable&&l.view.isExpanded(d)?await l.view.collapse(d,{recursive:x}):d.parent&&await l.view.collapse(d.parent,{recursive:x})},"collapse node",{select:!0,args:[{name:"collapse options",description:Nq.join(" | ")}],menus:{recursive:"recursively",all:"for all nodes"}}),e.addNodesAction("gitStage",async({nodes:l,source:d})=>{let c=Wv.compactI(l.map(h=>h.fullpath));if(!c.length)return;await ue.cmd.stage(c);let m=await ue.getGitRoots(c);for(let h of m)await ue.reload(h);d.view.requestRenderNodes([{nodes:l,withParents:!0,withChildren:!0}])},"add file to git index"),e.addNodesAction("gitUnstage",async({nodes:l,source:d})=>{let c=Wv.compactI(l.map(h=>h.fullpath));if(!c.length)return;await ue.cmd.unstage(c);let m=await ue.getGitRoots(c);for(let h of m)await ue.reload(h);d.view.requestRenderNodes([{nodes:l,withParents:!0,withChildren:!0}])},"reset file from git index");let o=[{name:"move action options",description:wq.join(" | ")}],s={insideSource:"move inside current source"};e.addNodeAction("nodePrev",async({args:l})=>{if(l[0]==="insideSource"){let c=await t.view.currentSource();if(!c)return;await c.locator.gotoLineIndex(c.view.currentLineIndex-1)}else{let c=t.view.currentLineIndex;await r.gotoLineIndex(c-1)}},"previous node",{args:o,menus:s}),e.addNodeAction("nodeNext",async({args:l})=>{if(l[0]==="insideSource"){let c=await t.view.currentSource();if(!c)return;await c.locator.gotoLineIndex(c.view.currentLineIndex+1)}else{let c=t.view.currentLineIndex;await r.gotoLineIndex(c+1)}},"next node",{args:o,menus:s}),e.addNodeAction("expandablePrev",async({args:l})=>{await t.action.nodePrev(l[0],d=>!!d.expandable)},"previous expandable node",{args:o,menus:s}),e.addNodeAction("expandableNext",async({args:l})=>{await e.nodeNext(l[0],d=>!!d.expandable)},"next expandable node",{args:o,menus:s}),e.addNodeAction("indentPrev",async({node:l,args:d})=>{var m;let c=(m=l.level)!=null?m:0;await e.nodePrev(d[0],h=>h.level!==c)},"previous indent node",{args:o,menus:s}),e.addNodeAction("indentNext",async({node:l,args:d})=>{var m;let c=(m=l.level)!=null?m:0;await e.nodeNext(d[0],h=>h.level!==c)},"next indent node",{args:o,menus:s}),e.addNodeAction("gotoSource",async({args:l})=>{let d=t.sources.find(c=>c.sourceType===l[0]);d&&await d.locator.gotoLineIndex(0)},"go to source"),e.addNodeAction("sourceNext",async()=>{let l=t.sources[await t.view.currentSourceIndex()+1];l?await l.locator.gotoLineIndex(0):await Yt()&&await t.sources[0].locator.gotoLineIndex(0)},"go to next source"),e.addNodeAction("sourcePrev",async()=>{let l=t.sources[await t.view.currentSourceIndex()-1];l?await l.locator.gotoLineIndex(0):await Yt()&&await t.sources[t.sources.length-1].locator.gotoLineIndex(0)},"go to previous source"),e.addNodeAction("modifiedPrev",async()=>{await r.gotoPrevMark("modified")},"go to previous modified"),e.addNodeAction("modifiedNext",async()=>{await r.gotoNextMark("modified")},"go to next modified"),e.addNodeAction("diagnosticPrev",async()=>{await r.gotoPrevMark("diagnosticError","diagnosticWarning")},"go to previous diagnostic"),e.addNodeAction("diagnosticNext",async()=>{await r.gotoNextMark("diagnosticError","diagnosticWarning")},"go to next diagnostic"),e.addNodeAction("gitPrev",async()=>{await r.gotoPrevMark("git")},"go to previous git changed"),e.addNodeAction("gitNext",async()=>{await r.gotoNextMark("git")},"go to next git changed");let u={args:[{name:"mark name",description:"string"}],menus:{modified:"modified",diagnosticWarning:"diagnosticWarning",diagnosticError:"diagnosticError",git:"git"}};e.addNodeAction("markPrev",async({args:l})=>{await r.gotoPrevMark(...l)},"go to previous mark",u),e.addNodeAction("markNext",async({args:l})=>{await r.gotoNextMark(...l)},"go to next mark",u),e.addNodeAction("preview",async({source:l,node:d,args:c})=>{let m=c[0];if(!m)return;let h=l.view.getLineByNode(d);h!==void 0&&await t.floatingPreview.previewNode(m,l,d,h)},"preview",{args:[{name:"preview strategy",description:Av.join(" | ")}],menus:{labeling:"preview for node labeling"}}),e.addNodeAction("previewOnHover",async({args:l})=>{let d=l[0];if(!d)return;let c=l[1];if(!c){d==="disable"&&t.floatingPreview.unregisterOnHover();return}let m=l[2]?parseInt(l[2]):0;d==="toggle"?t.floatingPreview.toggleOnHover(c,m):d==="enable"?t.floatingPreview.registerOnHover(c,m):t.floatingPreview.unregisterOnHover()},"preview on hover",{args:[{name:"sub action",description:Mq.join(" | ")},{name:"preview strategy",description:Av.join(" | ")},{name:"delay",description:"delay millisecond"}],menus:{"toggle:labeling":"toggle labeling","toggle:labeling:200":"toggle labeling with debounce","toggle:content":"toggle content"}}),e.addNodeAction("textobj",async({node:l,args:d})=>{var h;let c=t.view.currentLineIndex,m=(h=d[0])!=null?h:"line";if(m==="line")await n.command("normal! V");else if(m==="indent"){let x=t.view.flattenedNodes,_=Ru(x,c,await Yt(),C=>{var j,L;return((j=l.level)!=null?j:0)>((L=C.level)!=null?L:0)});if(_===void 0)return;let N=ju(x,c,await Yt(),C=>{var j,L;return((j=l.level)!=null?j:0)>((L=C.level)!=null?L:0)});if(N===void 0)return;await n.command(`normal! ${_+2}GV${N}G`)}},"use visual mode selects",{args:[{name:"target",description:xq.join(" | ")},{name:"type",description:bq.join(" | ")}],menus:{"line:i":"line:i","line:a":"line:a","indent:i":"indent:i","indent:a":"indent:a"}}),e.addNodeAction("select",async({source:l,node:d})=>{l.selectedNodes.add(d),l.view.requestRenderNodes([d])},"select node",{select:"visual"}),e.addNodeAction("unselect",async({source:l,node:d})=>{l.selectedNodes.delete(d),l.view.requestRenderNodes([d])},"unselect node",{select:"visual"}),e.addNodeAction("toggleSelection",async({source:l,node:d})=>{l.selectedNodes.has(d)?await l.action.doAction("unselect",d):await l.action.doAction("select",d)},"toggle node selection",{select:"visual"}),e.addNodeAction("toggleHidden",async({source:l})=>{l.showHidden=!l.showHidden},"toggle visibility of hidden node",{reload:!0}),e.addNodeAction("refresh",async({source:l})=>{l.selectedNodes.clear();let d=await l.loadNotifier(l.view.rootNode,{force:!0});n.pauseNotification(),l.highlight.clearHighlightsNotify(),d==null||d.notify(),await n.resumeNotification()},"refresh"),e.addNodeAction("help",async({source:l})=>{await l.explorer.showHelp(l)},"show help"),e.addNodeAction("actionMenu",async({source:l,node:d})=>{await l.action.listActionMenu([d])},"show actions in coc-list"),e.addNodeAction("normal",async({args:l})=>{l[0]&&await n.command('execute "normal '+l[0]+'"')},"execute vim normal mode commands",{args:[{name:"normal commands"}],menus:{zz:"execute normal zz"}}),e.addNodeAction("esc",async({source:l,mode:d})=>{await l.explorer.args.value(te.position)==="floating"&&d==="n"?await l.explorer.quit():(l.view.requestRenderNodes(Array.from(l.selectedNodes)),l.selectedNodes.clear())},"esc action"),e.addNodeAction("quit",async()=>{await t.quit()},"quit explorer")}var bt=I(require("coc.nvim")),Aq=I(jq()),Pl=I(Fo());var Iq=I(require("coc.nvim")),kq=I(Qe()),zo=class{constructor(t){this.win=t;this.bufnr=this.win.bufnr}static async create(t={}){let r=await kq.FloatingWindow.create({mode:"show",name:t.name});return new zo(r)}dispose(){this.win.dispose()}async open(t,r,n){await this.win.open({top:n.top,left:n.left,width:n.width,height:n.height,winHl:"CocExplorerNormalFloat",winHlNC:"CocExplorerNormalFloat",borderWinHl:"CocExplorerNormalFloatBorder",lines:t,highlights:r,focus:!1,initedExecute:({winid:i})=>{let a=[];return Iq.workspace.isNvim?(a.push(`
            let store_winid = win_getid(winnr())
            if store_winid != ${i}
              noau let successful = win_gotoid(${i})
              if !successful
                return
              endif
            endif
          `),a.push("set filetype="),n.focusLineIndex&&a.push(`call nvim_win_set_cursor(${n.focusLineIndex})`),!n.filetype&&n.filepath&&a.push(`execute 'doautocmd filetypedetect BufRead ' . fnameescape('${n.filepath}')`),n.filetype&&a.push(`set filetype=${n.filetype}`),a.push(`
            if store_winid != ${i}
              noau call win_gotoid(store_winid)
            endif
          `)):(a.push(`call win_execute(${i}, 'set filetype=')`),n.focusLineIndex&&a.push(`call win_execute(${i}, 'call cursor(${n.focusLineIndex}, 1)')`),!n.filetype&&n.filepath&&a.push(`call win_execute(${i}, 'doautocmd filetypedetect BufRead ' . fnameescape('${n.filepath}'))`),n.filetype&&a.push(`call win_execute(${i}, 'set filetype=${n.filetype}'`)),a.join(`
`)}})}async close(){await this.win.close()}};var Bv=class{constructor(t){this.explorer=t;this.shown=!1;this.disposables=[];this.maxHeight=30;this.preferTop=!1;this.onHoverStrategy=!1;this.nvim=bt.workspace.nvim;this.onHoverDisposables=[];this.registeredPreviewActions={};this.disposables.push(Wt("BufWinLeave",async n=>{n===this.explorer.bufnr&&await this.close()}),oi(async n=>{var i;n!==this.explorer.bufnr&&n!==((i=this.previewWindow)==null?void 0:i.bufnr)&&await this.close()},200),yv(async n=>{this.onHoverStrategy||n!==this.explorer.bufnr||await this.close()},200),bt.Disposable.create(()=>{bt.disposeAll(this.onHoverDisposables)})),this.registerActions();let r=t.config.get("previewAction.onHover");!r||(Array.isArray(r)?this.registerOnHover(r[0],r[1]):this.registerOnHover(r))}dispose(){var t;(t=this.previewWindow)==null||t.dispose()}async getPreviewWindow(){return this.previewWindow||(this.previewWindow=await zo.create()),this.previewWindow}async close(){var t;await((t=this.previewWindow)==null?void 0:t.close())}toggleOnHover(t,r){this.onHoverStrategy===t?this.unregisterOnHover():this.registerOnHover(t,r)}registerOnHover(t,r=300){if(this.onHoverStrategy===t)return;this.onHoverStrategy=t,bt.disposeAll(this.onHoverDisposables),this.onHoverDisposables=[];let n=async i=>{if(i!==this.explorer.bufnr)return;await this.explorer.view.refreshLineIndex();let a=await this.explorer.view.currentSource();if(!a)return;let o=a.view.currentNode();if(!o)return;let s=a.view.getLineByNode(o);s!==void 0&&await this.previewNode(t,a,o,s)};this.onHoverDisposables.push(yv(n,r),oi(n,r)),$t().then(n).catch(z.error),bt.window.showMessage(`Preivew ${t} enabled`)}unregisterOnHover(){!this.onHoverStrategy||(this.onHoverStrategy=!1,bt.disposeAll(this.onHoverDisposables),this.onHoverDisposables=[],this.close().catch(z.error),bt.window.showMessage("Preview disabled "))}registerAction(t,r){this.registeredPreviewActions[t]=r}registerActions(){this.registerAction("labeling",async({source:t,node:r,nodeIndex:n})=>{var a;let i=await((a=t.sourcePainters)==null?void 0:a.drawNodeLabeling(r,n));if(!(!i||!await this.explorer.explorerManager.inExplorer()))return{lines:i.map(o=>o.content),highlights:ht(i.map((o,s)=>o.highlightPositions.map(u=>({hlGroup:u.group,line:s,colStart:u.start,colEnd:u.start+u.size})))),options:{filetype:"coc-explorer-labeling"}}}),this.registerAction("content",async({node:t})=>{if(t.expandable)return;let r;if(t.location)r=t.location;else if(t.fullpath)r=Pl.Location.create(t.fullpath,Pl.Range.create(0,0,0,0));else return;let{uri:n,range:i}=r;if(await Aq.isBinaryFile(n)){bt.window.showMessage("Preview content skip binary");return}let a=bt.workspace.getDocument(n);return{lines:a?a.getLines(0,i.end.line+this.maxHeight):await YT(n,0,i.end.line+30),highlights:[],options:{filepath:n,focusLineIndex:i.start.line}}})}borderOptions(){return{border_enable:!1,border_chars:[],title:""}}getDimension(t,r,n){if(r===0||n===0)return{width:0,height:0};let i=[];for(let s of t)i.push(aw(s.replace(/\t/g,"  ")));let a=Fg([Du(i),r]);if(a===void 0||a===0)return{width:0,height:0};let o=0;for(let s of i)o=o+Math.max(Math.ceil(s/a),1);return{width:a,height:Math.min(o,n)}}async getFloatOptions(t){let r=bt.workspace.env,n=r.columns,i=r.lines-r.cmdheight-1,a=await this.explorer.args.value(te.position),o=a==="floating",s=await this.explorer.args.value(te.floatingPosition);if(!await this.explorer.win)return;let l=!1,c=await $t()===this.explorer.bufnr?await this.nvim.call("winline"):1;c-=1;let m=o&&this.explorer.config.get("floating.border.enable")?await this.explorer.borderWin:await this.explorer.win;if(!m)return;let[h,x]=await this.nvim.call("win_screenpos",[m.id]);h-=1,x-=1;let _=await m.width,N=n-_-(o?0:1)-2,C=Fg([this.maxHeight,i]),{width:j,height:L}=this.getDimension(t,N,C);this.preferTop?(c>=C||c>=i-c)&&(l=!0):i-c<L&&c>L&&(l=!0);let F=h+(l?c-L+1:c),B;if(a==="left")B=x+_+2;else if(a==="right")B=x-j-2;else if(o&&s==="left-center")B=x+_+1;else if(o&&s==="right-center")B=x-j-1;else return;return{top:F,left:B,width:j,height:L,...this.borderOptions()}}async previewNode(t,r,n,i){var u;if(!Ph())return;if(!this.registeredPreviewActions[t]){bt.window.showMessage(`coc-explorer no support preview strategy(${t})`);return}let a=await this.registeredPreviewActions[t]({source:r,node:n,nodeIndex:i});if(!a){await this.close();return}let o=await this.getPreviewWindow(),s=await this.getFloatOptions(a.lines);if(!s){await this.close();return}await o.open(a.lines,(u=a.highlights)!=null?u:[],{...s,...a.options})}};var fi=I(require("coc.nvim"));function Lq(e){if(!e.length)return[];let t=e.sort((i,a)=>i.nodeIndex-a.nodeIndex),r=[],n;for(let i=0,a=t.length;i<a;i++){let o=t[i];n?n.nodeIndexEnd+1===o.nodeIndex?(n.drawnList.push(o),n.nodeIndexEnd=o.nodeIndex):(r.push(n),i--,n=void 0):n={nodeIndexStart:o.nodeIndex,nodeIndexEnd:o.nodeIndex,drawnList:[o]}}return n&&r.push(n),r}var Hv=e=>rt(e.map(t=>t.type==="content"?t.content.length:t.type==="group"?rt(t.contents.map(r=>r.type==="content"?r.content.length:0)):0))===0;async function Wq(e){async function t(r){return{...r,width:r.unicode?await QT(r.content):r.content.length}}return Ke(ht(await Promise.all(e.map(async r=>r.type==="content"?await t(r):r.type==="group"?{...r,contents:await Promise.all(Ke(r.contents.map(n=>n.type==="content"?t(n):void 0)))}:r))))}function Fq(e,t,r){let n=e/rt(t),i=new Array(t.length);if(r){for(let a=0;a<t.length;a++)Math.ceil(t[a]*n)>r[a]&&(i[a]=r[a],e-=r[a],t[a]=0);n=e/rt(t)}for(let a=0;a<t.length;a++)if(i[a]===void 0){let o=Math.ceil(t[a]*n);o<=e?(e-=o,i[a]=o):i[a]=e}return i}async function Bq(e){return e.map(t=>{var r;if(t.type==="group"&&((r=t.flexible)==null?void 0:r.padding)&&t.flexible.paddingVolume){let n=rt(t.contents.map(i=>i.type==="content"?i.width:0));if(t.flexible.paddingVolume>n){let i=t.flexible.paddingVolume;if(t.flexible.padding==="left")return{...t,contents:[{type:"content",content:" ".repeat(i),width:i},...t.contents]};if(t.flexible.padding==="right")return{...t,contents:[...t.contents,{type:"content",content:" ".repeat(i),width:i}]};if(t.flexible.padding==="center"){let a=Math.ceil(i/2),o=i-a;return{...t,contents:[{type:"content",content:" ".repeat(a),width:a},...t.contents,{type:"content",content:" ".repeat(o),width:o}]}}else return t}else return t}else return t})}async function Hq(e,t,r){let n=e-t,i=Fq(n,r.map(a=>{var o,s;return a.type==="group"&&((o=a.flexible)==null?void 0:o.grow)?(s=a.flexible.growVolume)!=null?s:1:0}));return Ke(ht(await Promise.all(r.map(async(a,o)=>{var s;if(a.type==="content")return a;if(a.type==="group"){if(!((s=a.flexible)==null?void 0:s.grow))return a.contents;let u=i[o];if(a.flexible.grow==="left")return[{type:"content",content:" ".repeat(u),width:u},...a.contents];if(a.flexible.grow==="right")return[...a.contents,{type:"content",content:" ".repeat(u),width:u}];if(a.flexible.grow==="center"){let l=Math.floor(u/2),d=u-l;return[{type:"content",content:" ".repeat(l),width:l},...a.contents,{type:"content",content:" ".repeat(d),width:d}]}else return a.contents}}))))}var Cl=se.linkGroup("OmitSymbol","SpecialComment");async function Uq(e,t,r){let n=t-e,i=Fq(n,r.map(a=>{var o,s;return a.type==="group"&&((o=a.flexible)==null?void 0:o.omit)?(s=a.flexible.omitVolume)!=null?s:1:0}),r.map(a=>a.type==="content"?a.width:a.type==="group"?rt(a.contents.map(o=>o.type==="content"?o.width:0)):0));return Ke(ht(await Promise.all(r.map(async(a,o)=>{var s;if(a.type==="content")return a;if(a.type==="group"){if(!((s=a.flexible)==null?void 0:s.omit))return a.contents;let u=i[o],l=[];if(a.flexible.omit==="left"){let c=u+1;for(let m of a.contents){if(m.type!=="content"){l.push(m);continue}c<0?l.push(m):c<m.width&&(l.push({type:"content",content:"\u2025",width:1,group:Cl.group}),c>0&&l.push({...m,content:await Zn(m.content,c),width:m.width-c})),c-=m.width}return l}else if(a.flexible.omit==="right"){let d=u+1,m=rt(a.contents.map(h=>h.type==="content"?h.width:0))-d;for(let h of a.contents){if(h.type!=="content"){l.push(h);continue}if(m>=h.width)l.push(h);else if(m<h.width){m>0&&l.push({...h,content:await Zn(h.content,0,m),width:m}),l.push({type:"content",content:"\u2025",width:1,group:Cl.group});break}m-=h.width}return l}else if(a.flexible.omit==="center"){let d=rt(a.contents.map(j=>j.type==="content"?j.width:0)),c=u+1,m=d-c,h=Math.floor(m/2),x=d-(m-h),_=0,N=0,C=[];for(let j of a.contents){if(j.type!=="content"){C.push(j);continue}if(N+=j.width,_<h)if(N<=h)C.push(j);else if(N<=x){let L=h-_;C.push({...j,content:await Zn(j.content,0,L),width:L}),C.push({type:"content",content:"\u2025",width:1,group:Cl.group})}else{let L=h-_;C.push({...j,content:await Zn(j.content,0,L),width:L}),C.push({type:"content",content:"\u2025",width:1,group:Cl.group});let F=N-x;C.push({...j,content:await Zn(j.content,j.width-F),width:F})}else if(N>x)if(_>=x)C.push(j);else{let L=N-x;C.push({...j,content:await Zn(j.content,j.width-L),width:L})}_=N}return C}}}))))}var Qo=class{constructor(t){this.explorer=t}get width(){return this.explorer.contentWidth}async drawRow(t){let r=new Yq(this);return await t(r),r}},Yq=class{constructor(t){this.view=t;this.drawableList=[]}async draw({flexible:t=!0}={}){let r=await Bq(await Wq(this.drawableList)),n=[],i=this.view.width,a=rt(r.map(l=>l.type==="content"?l.width:l.type==="group"?rt(l.contents.map(d=>d.type==="content"?d.width:0)):0));!t||a===i?n=ht(r.map(l=>l.type==="group"?l.contents:l)):a<i?n=await Hq(i,a,r):a>i&&(n=await Uq(i,a,r));let o=[],s="",u=0;for(let l of n){let d=l.content.length;l.group&&o.push({group:l.group,start:u,size:d}),s+=l.content,u+=d}return{content:s,highlightPositions:o}}add(t,{hl:r,width:n,drawGroup:i,unicode:a=!1}={}){let o={type:"content",content:t,unicode:a,group:r==null?void 0:r.group,width:n};i?i.contents.push(o):this.drawableList.push(o)}async drawBlockToList(t){let r=this.drawableList;this.drawableList=[],await t(this);let n=this.drawableList;return this.drawableList=r,n}async flexible(t,r){let n=await this.drawBlockToList(r);this.drawableList.push(this.flexibleForList(t,n))}flexibleForList(t,r){return{type:"group",contents:ht(r.map(n=>n.type==="content"?n:n.type==="group"?n.contents:n)),flexible:t}}async addColumn(t,r,n,i=!1){this.drawableList.push(...await this.columnToList(t,r,n,i))}async columnToList(t,r,n,i=!1){return await this.drawBlockToList(async()=>{var a;if(typeof n=="number"){this.add(" ".repeat(n));return}await((a=n.drawHandle)==null?void 0:a.drawNode(this,{node:t,nodeIndex:r,isLabeling:i}))})}async addTemplatePart(t,r,n,i=!1){if(typeof n=="string"){this.add(n);return}let a=[],o=n.column;a.push(...await this.columnToList(t,r,o,i));let s={},u=l=>typeof l=="number"?l:1;if(n.modifiers)for(let l of n.modifiers)l.name==="|"?Hv(a)&&a.push(...await this.columnToList(t,r,l.column,i)):l.name==="&"?Hv(a)||a.push(...await this.columnToList(t,r,l.column,i)):l.name==="growLeft"?(s.grow="left",s.growVolume=u(l.column)):l.name==="growCenter"?(s.grow="center",s.growVolume=u(l.column)):l.name==="growRight"?(s.grow="right",s.growVolume=u(l.column)):l.name==="omitLeft"?(s.omit="left",s.omitVolume=u(l.column)):l.name==="omitCenter"?(s.omit="center",s.omitVolume=u(l.column)):l.name==="omitRight"&&(s.omit="right",s.omitVolume=u(l.column));s.omit||s.grow?this.drawableList.push(this.flexibleForList(s,a)):this.drawableList.push(...a)}};var xn;(function(t){function e(r){return Object.entries(r).map(([n,i])=>{let a=async()=>n.split(/:/);return typeof i=="string"?{description:i,args:n,actionArgs:a}:Object.assign({args:n,actionArgs:a},i)})}t.getNormalizeMenus=e})(xn||(xn={}));var $q=I(Qe()),Jt=se.linkGroup.bind(se),Me={line:Jt("HelpLine","Operator"),hint:Jt("HelpHint","Comment"),title:Jt("HelpTitle","Boolean"),subtitle:Jt("HelpSubTitle","Label"),mappingKey:Jt("HelpMappingKey","PreProc"),action:Jt("HelpAction","Identifier"),column:Jt("HelpColumn","Identifier"),arg:Jt("HelpArg","Identifier"),description:Jt("HelpDescription","Comment"),type:Jt("HelperType","Type"),conditional:Jt("HelpConditional","Conditional")},PG=fi.workspace.createNameSpace("coc-explorer-help"),Gq=class{constructor(t,r,n){this.explorer=t;this.source=r;this.width=n;this.drawnResults=[];this.painter=new Qo(t),this.registeredActions=this.source.action.registeredActions()}async drawRow(t){let r=await this.painter.drawRow(t);this.drawnResults.push(await r.draw())}async drawHr(){await this.drawRow(t=>{t.add("\u2014".repeat(this.width),{hl:Me.line})})}async drawHead(){await this.drawRow(t=>{t.add("Help "),t.add("(use q, ? or <esc> return to explorer)",{hl:Me.hint})}),await this.drawHr()}drawActionForMapping(t,r){t.add(r.name,{hl:Me.action}),r.args&&t.add(`(${r.args.join(",")})`,{hl:Me.arg}),t.add(" "),r.name in this.registeredActions&&t.add(this.registeredActions[r.name].description,{hl:Me.description})}anyAction(t,r){return Array.isArray(t)?t.some(n=>this.anyAction(n,r)):r(t)}drawMappingsPrefix(t,r,n){if(!n.isFirstLine){r.add(t);return}n.isFirstLine=!1,n.key&&(r.add(" "),r.add(n.key,{hl:Me.mappingKey}),r.add(" - ")),n.isWait&&r.add(li.helpDescription+" ",{hl:Me.type})}async drawMappingsAction(t,r,n){await this.drawRow(i=>{this.drawMappingsPrefix(t,i,n),i.add(r.name,{hl:Me.action}),r.args&&i.add(`(${r.args.join(",")})`,{hl:Me.arg}),i.add(" "),r.name in this.registeredActions&&i.add(this.registeredActions[r.name].description,{hl:Me.description})})}async drawMappingsActionExp(t,r,n){if(Array.isArray(r))for(let i=0;i<r.length;i++){let a=r[i];if(Array.isArray(a)){await this.drawMappingsActionExp(t,a,n);continue}if(a.name===li.name){n.isFirstLine&&(n.isWait=!0);continue}let o=Sa[a.name];if(o){await this.drawRow(l=>{this.drawMappingsPrefix(t,l,n),l.add("if "+o.getHelpDescription(a.args),{hl:Me.conditional})});let[s,u]=[r[i+1],r[i+2]];await this.drawMappingsActionExp(t+"  ",s,n),await this.drawRow(l=>{l.add(t),l.add("else",{hl:Me.conditional})}),await this.drawMappingsActionExp(t+"  ",u,n),i+=2;continue}await this.drawMappingsAction(t,a,n)}else await this.drawMappingsAction(t,r,n)}async drawMappings(){await this.drawRow(n=>{n.add(`Mappings for source(${this.source.sourceType})`,{hl:Me.title})});let t=async n=>{for(let[i,a]of Object.entries(n))!this.anyAction(a,o=>o.name in this.registeredActions)||await this.drawMappingsActionExp(" ".repeat(i.length+4),a,{key:i,isFirstLine:!0,isWait:!1})},r=await Xt.getMappings(this.source.sourceType);await t(r.all),await t(r.vmap)}async drawActions(){await this.drawRow(t=>{t.add(`Actions for source(${this.source.sourceType})`,{hl:Me.title})});for(let[t,r]of Object.entries(this.registeredActions)){if(await this.drawRow(n=>{n.add(" "),n.add(t,{hl:Me.action}),n.add(" "),n.add(r.description,{hl:Me.description})}),r.options.args){await this.drawRow(n=>{n.add("   "),n.add("args:",{hl:Me.subtitle})});for(let n of r.options.args)await this.drawRow(i=>{i.add("     - "),i.add(n.name,{hl:Me.arg}),n.description&&(i.add(" "),i.add(n.description,{hl:Me.description}))})}if(r.options.menus){await this.drawRow(n=>{n.add("   "),n.add("menus:",{hl:Me.subtitle})});for(let n of xn.getNormalizeMenus(r.options.menus))await this.drawRow(i=>{i.add("     - "),i.add(`${t}:${n.args}`,{hl:Me.action}),i.add(" "),i.add(n.description,{hl:Me.description})})}}}async drawColumns(){await this.drawRow(r=>{r.add(`Columns for source(${this.source.sourceType})`,{hl:Me.title})});let t=this.source.sourcePainters.columnRegistrar.registeredColumns;for(let[r,n]of t){await this.drawRow(i=>{i.add(`  Type: ${r}`,{hl:Me.subtitle})});for(let[i]of n)await this.drawRow(a=>{a.add("   - "),a.add(i,{hl:Me.column})})}}async render(){fi.workspace.nvim.pauseNotification(),this.explorer.setLinesNotifier(this.drawnResults.map(r=>r.content),0,-1).notify();let t=[];for(let[r,n]of this.drawnResults.entries())n.highlightPositions&&t.push(...n.highlightPositions.map(i=>({lineIndex:r,...i})));this.explorer.highlight.addHighlightsNotify(PG,t),await fi.workspace.nvim.resumeNotification()}};async function Vq(e,t){var o,s;e.view.isHelpUI=!0;let r=await e.view.currentNode(),n=(s=await((o=await e.win)==null?void 0:o.width))!=null?s:80,i=new Gq(e,t,n);await i.drawHead(),await i.drawMappings(),await i.drawHr(),await i.drawActions(),await i.drawHr(),await i.drawColumns(),await i.render(),await e.explorerManager.clearMappings();let a=[];["<esc>","q","?"].forEach(u=>{a.push(fi.workspace.registerLocalKeymap("n",u,async()=>{fi.disposeAll(a),await Uv(e),await $q.Notifier.runAll([await e.renderAllNotifier(),await t.locator.gotoNodeNotifier(r)])},!0))})}async function Uv(e){await e.explorerManager.executeMappings(),e.view.isHelpUI=!1}var Na=I(require("coc.nvim"));var Yv=class{constructor(t){this.explorer=t}clearHighlightsNotify(t,r,n){se.clearHighlightsNotify(this.explorer,t,r,n)}addHighlightsNotify(t,r){se.addHighlightsNotify(this.explorer,t,r)}async addSyntax(){let t=await this.explorer.winnr,r=await Na.workspace.nvim.call("winnr");t&&(Na.workspace.nvim.pauseNotification(),t!==r&&Na.workspace.nvim.command(`${t}wincmd w`,!0),se.addHighlightSyntaxNotify(),t!==r&&Na.workspace.nvim.command(`${r}wincmd w`,!0),await Na.workspace.nvim.resumeNotification())}};var zq=I(Qe()),Dl=I(require("coc.nvim"));var $v=class{constructor(t){this.explorer=t;this.marksGroupByType=new Map}add(t,r){this.marksGroupByType.has(t)||this.marksGroupByType.set(t,new Set),this.marksGroupByType.get(t).add(r)}remove(t,r){this.marksGroupByType.has(t)||this.marksGroupByType.set(t,new Set),this.marksGroupByType.get(t).delete(r)}removeAll(){this.marksGroupByType.clear()}removeLines(t,r=Infinity){if(Array.isArray(t))this.marksGroupByType.forEach(n=>{t.forEach(i=>{n.delete(i)})});else{let n=t;this.marksGroupByType.forEach(i=>{i.forEach(a=>{n<=a&&a<=r&&i.delete(a)})})}}offsetLines(t,r,n=Infinity){t!==0&&this.marksGroupByType.forEach((i,a)=>{let o=new Set;i.forEach(s=>{o.add(r<=s&&s<=n?s+t:s)}),this.marksGroupByType.set(a,o)})}async prevLineIndex(...t){let r=[];for(let n of t){let i=this.marksGroupByType.get(n);r=r.concat(i?Array.from(i):[])}if(r.length){let n=this.explorer.view.currentLineIndex,i=r.sort((o,s)=>s-o),a=i.find(o=>o<n);if(a)return a;if(await Yt())return i[0]}}async nextLineIndex(...t){let r=[];for(let n of t){let i=this.marksGroupByType.get(n);r=r.concat(i?Array.from(i):[])}if(r.length){let n=this.explorer.view.currentLineIndex,i=r.sort((o,s)=>o-s),a=i.find(o=>o>n);if(a)return a;if(await Yt())return i[0]}}};var Gv=class{constructor(t){this.explorer=t;this.mark=new $v(this.explorer),this.view=this.explorer.view}async gotoPrevMark(...t){let r=await this.mark.prevLineIndex(...t);return r?(await this.gotoLineIndex(r),!0):!1}async gotoNextMark(...t){let r=await this.mark.nextLineIndex(...t);return r?(await this.gotoLineIndex(r),!0):!1}async gotoLineIndex(t){return(await this.gotoLineIndexNotifier(t)).run()}async gotoLineIndexNotifier(t,r){let n=await this.explorer.win;return zq.Notifier.create(()=>{if(n){let i=this.explorer.height;t<0?t=0:t>=i&&(t=i-1),this.view.currentLineIndex=t,n.setCursor([t+1,r!=null?r:0],!0),Dl.workspace.isVim?Dl.workspace.nvim.command("redraw",!0):Dl.workspace.nvim.command("redraw!",!0)}})}};var Ca=I(Qe()),Rl=I(require("coc.nvim"));var Vv=I(require("coc.nvim"));var lr=I(require("coc.nvim"));var El=Symbol("arg"),Ko,Qq=class extends lr.BasicList{constructor(t){super(lr.workspace.nvim);Ko.set(this,void 0);this.name=t.name,kb(this,Ko,(n,i)=>t.loadItems(this[El],n,i)),t.doHighlight&&(this.doHighlight=t.doHighlight),t.defaultAction&&(this.defaultAction=t.defaultAction);let r={addAction:(n,i,a)=>this.addAction(n,(o,s)=>i({arg:this[El],item:o,context:s}),a),addLocationActions:()=>this.addLocationActions(),convertLocation:n=>this.convertLocation(n)};t.init.call(r,r)}loadItems(t,r){return Ib(this,Ko).call(this,t,r)}};El,Ko=new WeakMap;function bn(e){return new Qq(e)}async function pi(e,t,r,n=[]){t[El]=r;let i=e.config,a=e.nvim,o=e.explorerManager.bufManager,s=await e.args.value(te.position)==="floating",u=i.get("floating.hideOnCocList",!0),l=!0;s&&u&&(await e.hide(),l=!1);let d=new lr.Emitter,c=lr.listManager.registerList(t);return await a.command(`CocList ${n.join(" ")} ${t.name}`),c.dispose(),{async waitExplorerShow(){await o.waitReload();let m=lr.events.on("BufEnter",async()=>{let h=o.getBufferNode(`list:///${t.name}`);h&&await To(h.bufnr)||(m.dispose(),s&&!l&&(await X0(200),await e.show(),d.fire()))});if(!l)return new Promise(h=>{d.event(()=>{l=!0,h(void 0)})})}}}function CG(e,t){let r=e.indexOf(t);return r===-1?-1:e.length-r}var Pa=Vv.workspace.createMru("explorer-actions"),Kq=bn({name:"explorerActionList",defaultAction:"do",async loadItems(e){let t=await Pa.load(),r=e.map(n=>({label:`${n.name} [${n.key||""}] ${n.description}`,data:{...n,score:CG(t,n.name)}}));return r.sort((n,i)=>i.data.score-n.data.score),r},doHighlight(){let{nvim:e}=Vv.workspace;e.pauseNotification(),e.command("syntax match CocExplorerActionName /\\v^[a-zA-Z0-9:|<>]+/",!0),e.command("syntax match CocExplorerActionKey /\\v\\[.*\\]/",!0),e.command("syntax match CocExplorerActionDescription /\\v\\] \\zs.*/",!0),e.command("highlight default link CocExplorerActionName PreProc",!0),e.command("highlight default link CocExplorerActionKey Identifier",!0),e.command("highlight default link CocExplorerActionDescription Comment",!0),e.resumeNotification().catch(z.error)},init(){this.addAction("do",({item:e})=>{new Promise(async t=>{let r=e.data;await r.callback(),await Pa.add(r.name),t(void 0)}).catch(z.error)})}});var zv=class extends $o{constructor(t,r){super(t);this.owner=t;this.source=this.owner;this.global=r}registeredActions(){return{...this.global.actions,...this.actions}}registeredAction(t){return this.actions[t]||this.global.actions[t]}async doActionExp(t,r,n={}){var u,l;let i=(u=n.mode)!=null?u:"n",a=(l=n.isSubAction)!=null?l:!1,o,s={mode:i,isSubAction:!0};try{if(Array.isArray(t))for(let d=0;d<t.length;d++){let c=t[d];if(Array.isArray(c)){await this.doActionExp(c,r,s);continue}if(c.name===li.name){if(o||a)continue;o=await this.global.actionMutex.acquire();continue}let m=Sa[c.name];if(m){let[h,x]=Y0(r,C=>m.filter(this.source,C,c.args)),[_,N]=[t[d+1],t[d+2]];d+=2,h.length&&await this.doActionExp(_,h,s),x.length&&await this.doActionExp(N,x,s)}else await this.doActionExp(c,r,s)}else await this.doAction(t.name,r,t.args,i)}catch(d){throw d}finally{o==null||o()}}async doAction(t,r,n=[],i="n"){let a=this.registeredAction(t);if(!a)return;let{select:o=!1,render:s=!1,reload:u=!1}=a.options,l=Array.isArray(r)?r:[r],d=this.source;if(o===!0){let c=[...l,...d.selectedNodes];d.selectedNodes.clear(),d.view.requestRenderNodes(c),await a.callback.call(d,{source:d,nodes:c,args:n,mode:i})}else if(o===!1)await a.callback.call(d,{source:d,nodes:[l[0]],args:n,mode:i});else if(o==="visual")await a.callback.call(d,{source:d,nodes:l,args:n,mode:i});else if(o==="keep"){let c=[...l,...d.selectedNodes];await a.callback.call(d,{source:d,nodes:c,args:n,mode:i})}u?await d.load(d.view.rootNode):s&&await d.view.render()}async listActionMenu(t){var o;let r=this.registeredActions(),n=this.source,i=await Xt.getReversedMappings(n.sourceType),a=await pi(this.source.explorer,Kq,ht(Object.entries(r).filter(([s])=>s!=="actionMenu").sort(([s],[u])=>s.localeCompare(u)).map(([s,{callback:u,options:l,description:d}])=>{var x;let c=i[s],m=c?(x=c.vmap)!=null?x:c.all:"",h=[{name:s,key:m,description:d,callback:async()=>{await a.waitExplorerShow(),await u.call(n,{source:n,nodes:t,args:[],mode:"n"})}}];return l.menus&&h.push(...xn.getNormalizeMenus(l.menus).map(_=>{var L;let N=s+":"+_.args,C=i[N],j=C?(L=C.vmap)!=null?L:C.all:"";return{name:N,key:j,description:d+" "+_.description,callback:async()=>{await a.waitExplorerShow(),await u.call(n,{source:n,nodes:t,args:await _.actionArgs(),mode:"n"})}}})),h})));(o=a.waitExplorerShow())==null||o.catch(z.error)}};var Qv=class{constructor(t,r){this.source=t;this.hlSrcId=r}addHighlightsNotify(t){this.source.explorer.highlight.addHighlightsNotify(this.hlSrcId,t)}clearHighlightsNotify(t,r){this.source.explorer.highlight.clearHighlightsNotify(this.hlSrcId,t,r)}};var Xq=I(Qe());var Kv=class{constructor(t){this.source=t;this.explorer=t.explorer}get view(){return this.source.view}add(t,r){this.explorer.locator.mark.add(t,this.view.startLineIndex+r)}remove(t,r){this.explorer.locator.mark.remove(t,this.view.startLineIndex+r)}offsetAfterLine(t,r){this.explorer.locator.mark.offsetLines(t,this.view.startLineIndex+r+1),this.view.endLineIndex+=t;let n=this.view.currentSourceIndex();n!==void 0&&this.explorer.sources.slice(n+1).forEach(i=>{i.view.startLineIndex+=t,i.view.endLineIndex+=t})}};var Xv=class{constructor(t){this.source=t;this.explorer=this.source.explorer,this.mark=new Kv(t)}get view(){return this.source.view}async gotoLineIndex(t,r){return(await this.gotoLineIndexNotifier(t,r)).run()}gotoLineIndexNotifier(t,r){return t<0&&(t=0),t>=this.source.height&&(t=this.source.height-1),this.explorer.locator.gotoLineIndexNotifier(this.view.startLineIndex+t,r)}async gotoRoot({col:t}={}){return(await this.gotoLineIndexNotifier(0,t)).run()}gotoRootNotifier({col:t}={}){return this.gotoLineIndexNotifier(0,t)}async gotoNode(t,r={}){return(await this.gotoNodeNotifier(t,r)).run()}async gotoNodeNotifier(t,r={}){return this.gotoNodeUidNotifier(t.uid,r)}async gotoNodeUid(t,r={}){return(await this.gotoNodeUidNotifier(t,r)).run()}async gotoNodeUidNotifier(t,{lineIndex:r,col:n=0}={}){let i=this.view.flattenedNodes.findIndex(a=>a.uid===t);return i!==-1?this.gotoLineIndexNotifier(i,n):r!==void 0?this.gotoLineIndexNotifier(r,n):Xq.Notifier.noop()}};var mi=class{constructor(t,r){this.sourceType=t;this.explorer=r;this.width=0;this.showHidden=!1;this.selectedNodes=new Set;this.nvim=Rl.workspace.nvim;this.bufManager=this.explorer.explorerManager.bufManager;this.events=new Ca.HelperEventEmitter(z);this.action=new zv(this,this.explorer.action);this.locator=new Xv(this);this.isDisposed=!1;this.disposables=[];this.config=this.explorer.config;this.icons=(t=>({get expanded(){return t.config.get("icon.expanded")||(t.config.get("icon.enableNerdfont")?"\uF44B":"-")},get collapsed(){return t.config.get("icon.collapsed")||(t.config.get("icon.enableNerdfont")?"\uF44A":"+")},get selected(){return t.config.get("icon.selected")},get hidden(){return t.config.get("icon.hidden")}}))(this);this.helper=(t=>({getUid(r){return Zu(r.toString(),t.sourceType)}}))(this);this.context=this.explorer.context,this.highlight=new Qv(this,Rl.workspace.createNameSpace(`coc-explorer-${t}`))}get root(){return Rl.workspace.cwd}set root(t){}static get enabled(){return!0}dispose(){this.isDisposed=!0,this.sourcePainters.dispose(),this.disposables.forEach(t=>t.dispose())}get height(){return this.view.flattenedNodes.length}bootInit(t){Promise.resolve(this.init()).catch(z.error),this.view.bootInit(t)}async bootOpen(t){await this.open(t),this.view.bootOpen()}async openedNotifier(t){return Ca.Notifier.noop()}async copyToClipboard(t){await this.nvim.call("setreg",["+",t]),await this.nvim.call("setreg",['"',t])}isSelectedAny(){return this.selectedNodes.size!==0}isSelectedNode(t){return this.selectedNodes.has(t)}async loadInitedChildren(t,r){let n=await this.loadChildren(t,r);return await Promise.all(n.map(async(i,a)=>{var o;i.level=((o=t.level)!=null?o:0)+1,i.parent=t,i.prevSiblingNode=n[a-1],i.nextSiblingNode=n[a+1],(r==null?void 0:r.recursiveExpanded)&&i.expandable&&this.view.isExpanded(i)&&(i.children=await this.loadInitedChildren(i,r))})),n}async load(t,r){return(await this.loadNotifier(t,r)).run()}async loadNotifier(t,{render:r=!0,force:n=!1}={}){return this.isDisposed?Ca.Notifier.noop():(await this.explorer.refreshWidth(),this.selectedNodes=new Set,this.view.isExpanded(t)?t.children=await this.loadInitedChildren(t,{recursiveExpanded:!0,force:n}):t.children=void 0,await this.events.fire("loaded",t),await this.sourcePainters.load(t),r?this.view.renderNotifier({node:t,force:n}):Ca.Notifier.noop())}};var Jq=I(require("coc.nvim")),Zq=class{constructor(){this.registeredSources={}}registerSource(t,r){return this.registeredSources[t]=r,Jq.Disposable.create(()=>{delete this.registeredSources[t]})}async enabled(t){return this.registeredSources[t]?await this.registeredSources[t].enabled:!1}createSource(t,r,n){if(!this.registeredSources[t])throw new Error(`explorer source(${t}) not found`);let i=new this.registeredSources[t](t,r);return i.bootInit(n),i}},jr=new Zq;var eN=I(require("coc.nvim")),gi=class{constructor(){this.registeredColumns=new Map}async initColumn(t,r,n){var s,u;if(/\d+/.test(n))return parseInt(n,10);let i=(s=this.registeredColumns.get(t))==null?void 0:s.get(n);if(!i)throw Error(`column(${n}) not found`);let a={label:n},o=[];if(Object.assign(a,i.createColumn({source:r,column:a,subscriptions:o}),{subscriptions:o}),a.inited)return a;if(!(a.available&&!await a.available()))return await((u=a.init)==null?void 0:u.call(a)),a.inited=!0,a}registerColumn(t,r,n){return this.registeredColumns.has(t)||this.registeredColumns.set(t,new Map),this.registeredColumns.get(t).set(r,{createColumn:n}),eN.Disposable.create(()=>{this.registeredColumns.get(t).delete(r)})}};var tN=class extends gi{},ve=new tN;ve.registerColumn("root","icon",({source:e})=>({draw(){return{drawNode(t,{node:r}){t.add(e.view.isExpanded(r)?e.icons.expanded:e.icons.collapsed,{hl:ot.expandIcon})}}}}));ve.registerColumn("root","title",()=>({draw(){return{drawNode(e){e.add("[BUFFER]",{hl:ot.title})}}}}));ve.registerColumn("root","hidden",({source:e})=>({draw(){return{drawNode(t){t.add(e.showHidden?e.icons.hidden:"",{hl:ot.hidden})}}}}));var rN=e=>{let t=r=>({icon:e.get("git.icon.rootStatus."+r),name:r});return{[Re.staged]:{icon:"",name:"staged"},[Re.stashed]:t("stashed"),[Re.ahead]:t("ahead"),[Re.behind]:t("behind"),[Re.conflicted]:t("conflicted"),[Re.untracked]:t("untracked"),[Re.modified]:t("modified"),[Re.added]:t("added"),[Re.renamed]:t("renamed"),[Re.deleted]:t("deleted")}},jl=e=>{let t=r=>({icon:e.get("git.icon.status."+r),name:r});return{[W.mixed]:t("mixed"),[W.unmodified]:t("unmodified"),[W.modified]:t("modified"),[W.added]:t("added"),[W.deleted]:t("deleted"),[W.renamed]:t("renamed"),[W.copied]:t("copied"),[W.unmerged]:t("unmerged"),[W.untracked]:t("untracked"),[W.ignored]:t("ignored")}};var Jv=I(require("coc.nvim")),Zv=I(Fo());var Xo=class{constructor(t,r){this.s=t;this.i=r}ch(){return this.s[this.i]}skip(t){this.i+=t}next(){this.i+=1}forwardString(t){return this.s.slice(this.i,this.i+t)}match(t,r={}){var n;return this.forwardString(t.length)===t?(((n=r.skip)!=null?n:!1)&&this.skip(t.length),!0):!1}end(){return this.i>=this.s.length}},hi=class extends Error{constructor(t,r){super(r);this.source=t}};function nN(e,t){let r="";do{let n=e.ch();if(n===" ")break;r+=n,e.next()}while(!e.end());if(!r.length)throw new hi(e,`Keyword ${t} is empty`);return r}function DG(e){return nN(e,"group")}function EG(e){for(let t of V0(3))if(e.ch()==="x")e.next();else throw new hi(e,"Parse xxx")}function RG(e){let t={},r="",n="",i="name",a=()=>{i==="name"?t[r]="":i==="value"&&(t[r]=n),r="",n=""};do{let o=e.ch();o===" "?(Il(e),a(),i="name"):o==="="?(i="value",e.next()):(i==="name"?r+=o:i==="value"&&(n+=o),e.next())}while(!e.end());return a(),t}function jG(e){if(e.match("links to",{skip:!0}))return Il(e),nN(e,"LinkTarget")}function Il(e){do e.next();while(e.ch()===" ")}function iN(e){let t=new Xo(e,0),r=DG(t);Il(t),EG(t),Il(t);let n=jG(t);if(n)return{group:r,linkTo:n};let i=RG(t);return{group:r,attrs:i}}var aN=I(yl());var Dt=se.linkGroup.bind(se);se.registerGroup(async()=>{let e=["String","Character","Number","Boolean","Float","Identifier","Function","Statement","Conditional","Repeat","Label","Operator","Keyword","Exception","PreProc","Include","Define","Macro","PreCondit","Type","StorageClass","Structure","Typedef","Special","SpecialChar","Tag","Delimiter","SpecialComment","Debug","Todo"].map(s=>`execute('hi ${s}')`).join(","),r=(await Jv.workspace.nvim.eval(`[${e}]`)).map(s=>iN(s.trim())),n=Ke(r.map(s=>{if(!s.attrs)return;let u=s.attrs.guifg;if(!u)return;let l=xl(u);if(!l)return;let d=s.attrs.ctermfg,c=d?parseInt(d,10):aN.default.rgb.ansi256([l.red,l.green,l.blue]);return{guifg:l,ctermfg:c}})),{nvim:i}=Jv.workspace;i.pauseNotification();let a=gv(Zv.Color.create(18,204,90,1),n,s=>s.guifg);a&&i.command(`highlight default CocExplorerGitPathChange_Internal ctermfg=${a.ctermfg} guifg=#${hv(a.guifg)}`,!0);let o=gv(Zv.Color.create(209,177,15,1),n,s=>s.guifg);o&&i.command(`highlight default CocExplorerGitContentChange_Internal ctermfg=${a.ctermfg} guifg=#${hv(o.guifg)}`,!0),await i.resumeNotification()}).catch(z.error);var Jo=Dt("GitPathChange","CocExplorerGitPathChange_Internal"),oN=Dt("GitContentChange","CocExplorerGitContentChange_Internal"),ft={gitRenamed:Dt("GitRenamed",Jo.group),gitCopied:Dt("GitCopied",Jo.group),gitAdded:Dt("GitAdded",Jo.group),gitUntracked:Dt("GitUntracked",Jo.group),gitUnmerged:Dt("GitUnmerged",Jo.group),gitMixed:Dt("GitMixed",oN.group),gitModified:Dt("GitModified",oN.group),gitDeleted:Dt("GitDeleted","Error"),gitIgnored:Dt("GitIgnored","Comment"),gitStaged:Dt("GitStaged","Comment"),gitUnstaged:Dt("GitUnstaged","Operator")},sN=e=>{switch(e){case W.mixed:return ft.gitMixed;case W.modified:return ft.gitModified;case W.added:return ft.gitAdded;case W.deleted:return ft.gitDeleted;case W.renamed:return ft.gitRenamed;case W.copied:return ft.gitCopied;case W.unmerged:return ft.gitUnmerged;case W.untracked:return ft.gitUntracked}};var wn=I(require("coc.nvim")),Zo=I(require("path"));var ey=I(require("coc.nvim")),uN=I(require("path"));var ty=class{constructor(){this.sourcesBinding=new Map;this.prevErrorMixedCount={};this.prevWarningMixedCount={};this.reloadDebounceChecker=Oo(1e3,()=>{});this.reloadDebounceArgs={sources:new Set}}get sources(){return Array.from(this.sourcesBinding.keys())}get refTotalCount(){return rt(Array.from(this.sourcesBinding.values()).map(t=>t.refCount.total))}get diagnosticTypes(){let t=[],r=Array.from(this.sourcesBinding.values()).map(n=>n.refCount);return r.some(n=>n.error>0)&&t.push("error"),r.some(n=>n.warning>0)&&t.push("warning"),t}bind(t,r){let n=Eu(this.sourcesBinding,t,()=>({refCount:{error:0,warning:0,total:0}}));return n.refCount[r]+=1,n.refCount.total+=1,n.refCount.total===1&&(this.registeredForSourceDisposable=this.registerForSource(t)),this.refTotalCount===1&&(this.registeredDisposable=this.register()),ey.Disposable.create(()=>{var i,a;n.refCount[r]-=1,n.refCount.total-=1,n.refCount.total===0&&((i=this.registeredForSourceDisposable)==null||i.dispose(),this.registeredForSourceDisposable=void 0),this.refTotalCount===0&&((a=this.registeredDisposable)==null||a.dispose(),this.registeredDisposable=void 0)})}register(){return Rr.on("CocDiagnosticChange",ca(100,async()=>{await this.reload(this.sources)}))}registerForSource(t){let r=t.events.on("loaded",async i=>{("isRoot"in i?t.root:i.expandable?i.fullpath:i.fullpath&&uN.default.dirname(i.fullpath))&&this.reload([t]).catch(z.error)}),n=t.events.on("drawn",()=>{for(let[i,a]of t.view.flattenedNodes.entries()){if(!a.fullpath)continue;let o=xe.getMixedError(a.fullpath),s=xe.getMixedWarning(a.fullpath),u=!1,l=!1;if(o||s){let d=!(a.expandable&&t.view.isExpanded(a));o&&d&&(u=!0),s&&d&&(l=!0)}u?t.locator.mark.add("diagnosticError",i):t.locator.mark.remove("diagnosticError",i),l?t.locator.mark.add("diagnosticWarning",i):t.locator.mark.remove("diagnosticWarning",i)}});return ey.Disposable.create(()=>{r.dispose(),n.dispose()})}async reloadDebounce(t){t.forEach(n=>{this.reloadDebounceArgs.sources.add(n)}),!(await this.reloadDebounceChecker()instanceof da)&&this.reloadDebounceArgs.sources.clear()}async reload(t){let r=this.diagnosticTypes;xe.reload(r);let n=new Set;if(r.includes("error")){let i={...xe.getMixedErrors()},a=this.prevErrorMixedCount;for(let[o,s]of Object.entries(i))if(o in a){if(a[o]===s)continue;delete a[o],n.add(o)}else n.add(o);for(let o of Object.keys(a))n.add(o);this.prevErrorMixedCount=i}if(r.includes("warning")){let i={...xe.getMixedWarnings()},a=this.prevWarningMixedCount;for(let[o,s]of Object.entries(i))if(o in a){if(a[o]===s)continue;delete a[o],n.add(o)}else n.add(o);for(let o of Object.keys(a))n.add(o);this.prevWarningMixedCount=i}for(let i of t)await i.view.renderPaths(n)}};var lN=class{constructor(){this.errorMixedCountCache={};this.warningMixedCountCache={};this.binder=new ty}bindColumn(t,r){let n=new Set(r),i=[];for(let a of n)i.push(this.binder.bind(t,a));return wn.Disposable.create(()=>{wn.disposeAll(i)})}reload(t){let r=new Set(t),n={},i={};for(let a of wn.diagnosticManager.getDiagnosticList()){let o=a.location.uri,s=lt(wn.Uri.parse(o).fsPath);a.severity==="Error"?(s in n||(n[s]=0),n[s]+=1):(s in i||(i[s]=0),i[s]+=1)}r.has("error")&&this.reloadMixedErrors(n),r.has("warning")&&this.reloadMixedWarnings(i)}reloadMixedErrors(t){let r={};for(let[n,i]of Object.entries(t)){let a=n.split(Zo.default.sep);for(let o=1;o<=a.length;o++){let s=a.slice(0,o).join(Zo.default.sep);r[s]?r[s]+=i:r[s]=i}}this.errorMixedCountCache=r}reloadMixedWarnings(t){let r={};for(let[n,i]of Object.entries(t)){let a=n.split(Zo.default.sep);for(let o=1;o<=a.length;o++){let s=a.slice(0,o).join(Zo.default.sep);r[s]?r[s]+=i:r[s]=i}}this.warningMixedCountCache=r}getMixedErrors(){return this.errorMixedCountCache}getMixedWarnings(){return this.warningMixedCountCache}getMixedError(t){return this.errorMixedCountCache[t]}getMixedWarning(t){return this.warningMixedCountCache[t]}},xe=new lN;var Pi=I(require("coc.nvim")),Qm=I(require("fs")),zA=I(require("os")),Km=I(require("path"));var dN=se.linkGroup.bind(se),Ir={diagnosticError:dN("DiagnosticError","CocErrorSign"),diagnosticWarning:dN("DiagnosticWarning","CocWarningSign")};var cN=I(require("child_process")),kl=I(require("coc.nvim")),fN=I(require("events")),pN=I(po()),mN=I(require("path")),gN=I(require("readline")),Al=I(uv());var hN=class extends fN.EventEmitter{constructor(){super(...arguments);this.processes=[]}start(t,r,n,i){let a=n.length;for(let o of n){let s=cN.spawn(t,r,{cwd:o});this.processes.push(s),s.on("error",c=>{this.emit("error",c.message)});let u=gN.default.createInterface(s.stdout),l=Al.Range.create(0,0,0,0),d=i.length>0;s.stderr.on("data",c=>{console.error(c.toString("utf8"))}),u.on("line",c=>{let m=mN.default.join(o,c);if(d&&i.some(x=>pN.default(m,x)))return;let h=Al.Location.create(kl.Uri.file(m).toString(),l);this.emit("data",{label:c,location:h})}),u.on("close",()=>{a=a-1,a===0&&this.emit("end")})}}dispose(){for(let t of this.processes)t.killed||t.kill()}},IG=kl.workspace.getConfiguration("list.source.files");async function kG(e){let t=[];if(await yo("fd"))return t.push("--color","never"),e.showIgnore&&t.push("--no-ignore"),e.showHidden&&t.push("--hidden"),e.recursive||t.push("--max-depth","1"),{cmd:"fd",args:t};if(Pt)return t.push("/a-D","/B"),e.recursive&&t.push("/S"),{cmd:"dir",args:t};if(await yo("find"))return t.push("."),e.recursive||t.push("-maxdepth","1"),{cmd:"find",args:t};throw new Error("Unable to find command for files list.")}var vN=bn({name:"explorerFiles",defaultAction:"reveal",async loadItems(e){if(!e.rootPath)return;let t=await kG(e);if(!t)return;let r=new hN,n=IG.get("excludePatterns",[]);return r.start(t.cmd,t.args,[e.rootPath],n),r},init(){this.addLocationActions(),this.addAction("reveal",async({arg:e,item:t})=>{let r=await this.convertLocation(t.location);e.revealCallback&&await e.revealCallback(r)})}});var yN=I(Tv());function ry(e,t,r){let n="";for(;!t.end();){let i=t.ch();if(!r.includes(i))n+=i,t.next();else return n}throw new hi(t,`Unexpected end when parse ${e}`)}function AG(e){return ry("modifier name",e,[" "])}function LG(e){return ry("modifier value",e,[" ","]"])}function WG(e){let t=AG(e);e.next();let r=LG(e);return{name:t,column:r}}function FG(e){let t=[];do{let r=e.ch();if(r===" ")e.next(),t.push(WG(e));else if(r==="]")return t}while(!0)}function BG(e){return ry("column name",e,[" ","]"])}function HG(e){e.next();let t={column:BG(e)};do{let r=e.ch();if(r==="]")return e.next(),t;r===" "&&(t.modifiers=FG(e))}while(!e.end());throw new hi(e,"Unexpected end when parse column block")}function UG(e){let t="";for(;!e.end();){let r=e.ch();if(r==="\\")e.next(),t+=e.ch();else{if(r==="[")return t;t+=r}e.next()}return t}function ny(e){let t=new Xo(e,0),r=[];for(;!t.end();)t.ch()==="["?r.push(HG(t)):r.push(UG(t));return r}var YG=se.linkGroup("Label","Label"),xN=class{constructor(t,r,n,i){this.type=t;this.painters=r;this.source=n;this.columnRegistrar=i;this.columns=new Set;this.parts=[];this.labelingParts=[]}dispose(){this.clearParts(this.parts)}clearColumn(t){typeof t!="number"&&t.subscriptions.map(r=>r.dispose())}clearParts(t){t.forEach(r=>{var n;typeof r!="string"&&(this.clearColumn(r.column),(n=r.modifiers)==null||n.forEach(i=>this.clearColumn(i.column)))})}async parseTemplate(t,r){let n=!1;if(this.templateStr!==t){this.templateStr=t;let i=[];for(let a of ny(t)){let o=await this.initPart(a);o&&i.push(o)}this.clearParts(this.parts),this.parts=i,n=!0}if(r&&this.labelingTemplateStr!==r){this.labelingTemplateStr=r;let i=[];for(let a of ny(r)){let o=await this.initPart(a);o&&i.push(o)}this.clearParts(this.labelingParts),this.labelingParts=i,n=!0}if(n){let i=new Set,a=[...this.parts,...this.labelingParts];for(let o of a)if(typeof o!="string"&&(typeof o.column!="number"&&i.add(o.column),o.modifiers))for(let s of o.modifiers)typeof s.column!="number"&&i.add(s.column);this.columns=i}}async initPart(t){if(typeof t=="string")return t;let r=await this.columnRegistrar.initColumn(this.type,this.source,t.column);if(!r)return;let n={column:r};if(t.modifiers){let i=await Promise.all(t.modifiers.map(async a=>{let o=await this.columnRegistrar.initColumn(this.type,this.source,a.column);if(!!o)return{name:a.name,column:o}}));n.modifiers=Ke(i)}return n}},vi=class{constructor(t,r){this.source=t;this.columnRegistrar=r;this.painters=new Map;this.viewPainter=new Qo(this.source.explorer)}dispose(){this.painters.forEach(t=>t.dispose())}getPainter(t){return this.painters.has(t)||this.painters.set(t,new xN(t,this,this.source,this.columnRegistrar)),this.painters.get(t)}async parseTemplate(t,r,n){return await this.getPainter(t).parseTemplate(r,n)}async load(t){for(let r of this.painters.values())for(let n of r.columns)await(n.load&&n.load(t))}async beforeDraw(t,{draw:r,drawAll:n,abort:i,force:a=!1}={}){class o extends Error{}class s extends Error{}let u=F0(t,d=>d.type),l=Object.keys(u);for(let d of l){let c=this.getPainter(d);for(let m of c.columns)try{m.drawHandle=await m.draw(u[d],{drawAll(){if(n)throw new o},abort(){throw new s},force:a})}catch(h){if(h instanceof o)return n();if(h instanceof s){if(i)return i()}else throw h}}return r==null?void 0:r()}async drawNode(t,r,{isLabeling:n=!1}={}){let a=await(await this.viewPainter.drawRow(async o=>{for(let s of this.getPainter(t.type).parts)await o.addTemplatePart(t,r,s,n)})).draw();return{nodeIndex:r,nodeUid:t.uid,content:a.content,highlightPositions:a.highlightPositions}}async drawNodeLabeling(t,r){var i,a;let n=[];for(let o of this.getPainter(t.type).labelingParts){if(typeof o=="string"){n.push({content:o,highlightPositions:[]});continue}let s=[o.column,...(a=(i=o.modifiers)==null?void 0:i.map(x=>x.name==="&"?x.column:""))!=null?a:[]].filter(x=>typeof x!="string"),u=await yN.default(s,async x=>{var _;return!((_=x.drawHandle)==null?void 0:_.labelVisible)||await x.drawHandle.labelVisible({node:t,nodeIndex:r})});if(!u.length)continue;let l=u.every(x=>{var _;return(_=x.drawHandle)==null?void 0:_.labelOnly}),d=u.filter(async x=>{var _;return!((_=x.drawHandle)==null?void 0:_.labelOnly)}),c=await this.viewPainter.drawRow(async x=>{x.add(u.map(_=>_.label).join(" & ")+(l?"":":"),{hl:YG}),x.add(" ");for(let _ of d)await x.addColumn(t,r,_,!0)}),{highlightPositions:m,content:h}=await c.draw({flexible:!1});n.push({content:h,highlightPositions:m})}return n}};var es={fileRootTemplate:oe.registerOption("file-root-template",{getDefault:()=>J.get("file.root.template")}),fileRootLabelingTemplate:oe.registerOption("file-root-labeling-template",{getDefault:()=>J.get("file.root.labelingTemplate")}),fileChildTemplate:oe.registerOption("file-child-template",{getDefault:()=>J.get("file.child.template")}),fileChildLabelingTemplate:oe.registerOption("file-child-labeling-template",{getDefault:()=>J.get("file.child.labelingTemplate")})};var Ll=I(Qe()),Da=I(require("coc.nvim")),ay=I(require("open")),Zt=I(require("path"));var bN=I(require("coc.nvim"));var wN=bn({name:"explorerDrives",defaultAction:"do",async loadItems(e){return e.map(t=>({label:t.name,data:t}))},doHighlight(){let{nvim:e}=bN.workspace;e.pauseNotification(),e.command("syntax match CocExplorerDriveName /\\v^[\\w:]+/",!0),e.command("highlight default link CocExplorerDriveName PreProc",!0),e.resumeNotification().catch(z.error)},init(){this.addAction("do",async({item:e})=>{await e.data.callback(e.data.name)})}});var iy=I(require("coc.nvim"));var _N=bn({defaultAction:"do",name:"ExplorerWorkspaceFolders",async loadItems(e){return iy.workspace.folderPaths.map(t=>({label:t,data:{path:t,callback:()=>{e==null||e.action.doAction("cd",[],[t]).catch(z.error)}}}))},init(){this.addAction("do",({item:e})=>{e.data.callback()})},doHighlight(){let{nvim:e}=iy.workspace;e.pauseNotification(),e.command("syntax match CocExplorerWorkspaceFolder /\\v^.*/",!0),e.command("highlight default link CocExplorerWorkspaceFolder PreProc",!0),e.resumeNotification().catch(z.error)}});function ON(e){let{nvim:t}=Da.workspace,r=e.owner;e.addNodeAction("gotoParent",async()=>{var o;if(r.root==="")return;let a=(o=r.view.currentNode())==null?void 0:o.uid;/^[A-Za-z]:[\\\/]$/.test(r.root)?r.root="":(r.root=Zt.default.dirname(r.root),await r.cd(r.root)),await r.view.expand(r.view.rootNode),a&&await r.locator.gotoNodeUid(a)},"change directory to parent directory"),e.addNodeAction("reveal",async({args:a})=>{var h,x;let o=a[0],s,u;if(/\d+/.test(o))s=parseInt(o,10),s===0&&(s=await $t());else{let _=o!=null?o:"previousWindow",N={select:async()=>{await ol(r.explorer.config,r.sourceType,{onSelect:async C=>{s=await al(C)}})},sourceWindow:async()=>{s=await al(await r.explorer.sourceWinnr())},previousBuffer:async()=>{s=await r.explorer.explorerManager.previousBufnr.get()},previousWindow:async()=>{s=await al(await r.explorer.explorerManager.prevWinnrByPrevWindowID())},path:async()=>{var C,j;u=a[1],u||(u=await cn("Input a reveal path:",(j=(C=r.view.currentNode())==null?void 0:C.fullpath)!=null?j:"","file"))}};await((h=N[_])==null?void 0:h.call(N))}if(s){let _=await t.call("getbufinfo",[s]);if(!_[0]||!_[0].name)return;u=_[0].name}if(!u)return;let d=((x=a[1])!=null?x:"").includes("compact")||void 0,[c,m]=await r.revealNodeByPathNotifier(u,{compact:d});c&&await Ll.Notifier.runAll(m)},"reveal buffer in explorer",{args:[{name:"target",description:`bufnr number | ${_q.join(" | ")}`}],menus:{"0":"use current buffer","0:compact":"use current buffer and compact",select:"use select windows UI",previousBuffer:"use last used buffer",previousWindow:"use last used window",sourceWindow:"use the window where explorer opened",path:{description:"use custom path",args:"path:<path>",async actionArgs(){return["path"]}}}}),e.addNodeAction("cd",async({node:a,args:o})=>{let s=async l=>{await r.cd(l),r.root=l,await r.view.expand(r.view.rootNode)},u=o[0];u!==void 0?await s(u):a.directory&&await s(a.fullpath)},"change directory to current node",{args:[{name:"path"}],menus:{path:{description:"",args:"<path>",async actionArgs(){var a,o;return[await cn("input a cd path:",(o=(a=r.view.currentNode())==null?void 0:a.fullpath)!=null?o:"","file")]}}}}),e.addNodeAction("workspaceFolders",async()=>{await pi(r.explorer,_N,r,["--normal"])},"change directory to current node"),e.addNodeAction("drop",async({node:a})=>{if(!a.directory){let o=await r.explorer.tryQuitOnOpenNotifier();t.pauseNotification(),t.command(`drop ${a.fullpath}`,!0),o.notify(),await t.resumeNotification()}},"open file by drop command",{select:!0}),e.addNodesAction("copyFilepath",async({nodes:a})=>{await r.copyToClipboard(a?a.map(o=>o.fullpath).join(`
`):r.root),Da.window.showMessage("Copy filepath to clipboard")},"copy full filepath to clipboard"),e.addNodesAction("copyFilename",async({nodes:a})=>{await r.copyToClipboard(a?a.map(o=>o.name).join(`
`):Zt.default.basename(r.root)),Da.window.showMessage("Copy filename to clipboard")},"copy filename to clipboard");let n={args:[{name:"type",description:`${Tq.join(" | ")}, default: toggle`}],menus:{toggle:"toggle mark",append:"append mark",replace:"remove all mark then add one mark"}},i={args:[{name:"type",description:`${Sq.join(" | ")}, default: clear`}],menus:{keepCopy:"keep copy mark",clear:"clear copy and cut mark"}};e.addNodesAction("copyFile",async({nodes:a,args:o})=>{var u;let s=(u=o[0])!=null?u:"toggle";if(s==="replace"){r.view.requestRenderNodes([...r.copiedNodes,...r.cutNodes]),r.copiedNodes.clear(),r.cutNodes.clear();for(let l of a)r.copiedNodes.add(l)}else if(s==="toggle")for(let l of a)r.copiedNodes.has(l)?r.copiedNodes.delete(l):r.copiedNodes.add(l);else if(s==="append")for(let l of a)r.copiedNodes.add(l);r.view.requestRenderNodes(a)},"copy file for paste",n),e.addNodesAction("cutFile",async({nodes:a,args:o})=>{var u;let s=(u=o[0])!=null?u:"toggle";if(s==="replace"){r.view.requestRenderNodes([...r.copiedNodes,...r.cutNodes]),r.copiedNodes.clear(),r.cutNodes.clear();for(let l of a)r.cutNodes.add(l)}else if(s==="toggle")for(let l of a)r.cutNodes.has(l)?r.cutNodes.delete(l):r.cutNodes.add(l);else if(s==="append")for(let l of a)r.cutNodes.add(l);r.view.requestRenderNodes(a)},"cut file for paste",n),e.addNodeAction("pasteFile",async({node:a,args:o})=>{var l;let s=(l=o[0])!=null?l:"keepCopy";if(r.copiedNodes.size<=0&&r.cutNodes.size<=0){Da.window.showMessage("Copied files or cut files is empty","error");return}let u=r.getPutTargetDir(a);if(r.copiedNodes.size>0){let d=[...r.copiedNodes];await Jn("paste",d.map(c=>({source:c.fullpath,target:Zt.default.join(u,Zt.default.basename(c.fullpath))})),qh),r.view.requestRenderNodes(d),s==="clear"&&r.copiedNodes.clear()}if(r.cutNodes.size>0){let d=[...r.cutNodes];await Jn("paste",d.map(c=>({source:c.fullpath,target:Zt.default.join(u,Zt.default.basename(c.fullpath))})),Mh),r.cutNodes.clear()}await r.load(r.view.rootNode)},"paste files to here",i),e.addNodesAction("delete",async({nodes:a})=>{if(a.some(s=>r.bufManager.modified(s.fullpath))&&await Ht("Buffer is being modified, discard it?")!=="yes")return;let o=a.map(s=>s.fullpath).join(`
`);if(await Ht(`Move these files or directories to trash?
`+o)==="yes"){await nl(a.map(s=>s.fullpath));for(let s of a)await r.bufManager.remove(s.fullpath,!0)}},"move file or directory to trash",{reload:!0}),e.addNodesAction("deleteForever",async({nodes:a})=>{if(a.some(s=>r.bufManager.modified(s.fullpath))&&await Ht("Buffer is being modified, discard it?")!=="yes")return;let o=a.map(s=>s.fullpath).join(`
`);if(await Ht(`Forever delete these files or directories?
`+o)==="yes")for(let s of a)await HT(s.fullpath),await r.bufManager.remove(s.fullpath,!0)},"delete file or directory forever",{reload:!0}),e.addNodeAction("addFile",async({node:a,args:o})=>{var x;let s,u="Input a new filename:";if(o[0]?s=o[0]:s=await cn(u,"","file"),s=s==null?void 0:s.trim(),!s)return;if(["/","\\"].includes(s[s.length-1])){await e.doAction("addDirectory",a,[s]);return}let l=r.getPutTargetNode(a),d=Zt.default.join(l.fullpath,s);await Jn("add file",[{source:void 0,target:d}],async(_,N)=>{await WT(N)});let c=(x=l.parent)!=null?x:l,m=await r.loadNotifier(c),[,h]=await r.revealNodeByPathNotifier(d,{startNode:c});await Ll.Notifier.runAll([m,...h])},"add a new file"),e.addNodeAction("addDirectory",async({node:a,args:o})=>{var m,h;let s=(m=o[0])!=null?m:await cn("Input a new directory name:","","file");if(s=s.trim().replace(/(\/|\\)*$/g,""),!s)return;let u=r.getPutTargetNode(a),l=Zt.default.join(u.fullpath,s);await Jn("add directory",[{source:void 0,target:l}],async(x,_)=>{await la(_)});let d=await r.loadNotifier((h=u.parent)!=null?h:u),[,c]=await r.revealNodeByPathNotifier(l,{startNode:u});await Ll.Notifier.runAll([d,...c])},"add a new directory"),e.addNodeAction("rename",async({node:a})=>{if(r.bufManager.modified(a.fullpath)&&await Ht("Buffer is being modified, discard it?")!=="yes")return;let o;o=await cn(`Rename: ${a.fullpath} ->`,a.fullpath,"file"),o=o==null?void 0:o.trim(),!!o&&(await Jn("rename",[{source:a.fullpath,target:o}],Mh),await r.bufManager.remove(a.fullpath,!0),await r.load(r.view.rootNode))},"rename a file or directory"),e.addNodesAction("systemExecute",async({nodes:a})=>{a?await Promise.all(a.map(o=>ay.default(o.fullpath))):await ay.default(r.root)},"use system application open file or directory"),Pt&&e.addNodeAction("listDrive",async()=>{let a=await il();await pi(r.explorer,wN,a.map(o=>({name:o,callback:async s=>{r.root=s,await r.view.expand(r.view.rootNode)}})),["--normal","--number-select"])},"list drives"),e.addNodeAction("search",async({node:a})=>{await r.searchByCocList(a.isRoot?a.fullpath:Zt.default.dirname(a.fullpath),!1)},"search by coc-list"),e.addNodeAction("searchRecursive",async({node:a})=>{await r.searchByCocList(Zt.default.dirname(a.fullpath),!0)},"search by coc-list recursively"),e.addNodeAction("toggleOnlyGitChange",async()=>{r.showOnlyGitChange=!r.showOnlyGitChange;let a=await r.loadNotifier(r.view.rootNode,{force:!0});t.pauseNotification(),r.highlight.clearHighlightsNotify(),a==null||a.notify(),await t.resumeNotification()},"toggle visibility of git change node",{reload:!0})}var TN=class extends gi{},Q=new TN;Q.registerColumn("root","icon",({source:e})=>({draw(){return{drawNode(t,{node:r}){t.add(e.view.isExpanded(r)?e.icons.expanded:e.icons.collapsed,{hl:V.expandIcon})}}}}));Q.registerColumn("root","git",({source:e,subscriptions:t})=>{let r=rN(e.config);return{init(){t.push(ue.bindColumn(e))},async available(){return await ue.cmd.available()},async draw(){return{labelVisible({node:n}){var i;return!!((i=ue.getRootStatus(n.fullpath))==null?void 0:i.formats.length)},drawNode(n,{node:i,isLabeling:a}){let o=ue.getRootStatus(i.fullpath);if(o==null?void 0:o.formats.length){let s=[];for(let l of o.formats)a?s.push(`${r[l].name}(${r[l].icon})`):s.push(r[l].icon);let u=o.allStaged?V.gitRootStaged:V.gitRootUnstaged;a?n.add(s.join(" & "),{hl:u}):n.add("{"+s.join("")+"}",{hl:u})}}}}}});Q.registerColumn("root","title",()=>({draw(){return{drawNode(e){e.add("[FILE]",{hl:V.title})}}}}));Q.registerColumn("root","hidden",({source:e})=>({draw(){return{drawNode(t){t.add(e.showHidden?e.icons.hidden:"",{hl:V.hidden})}}}}));var SN=I(require("path"));Q.registerColumn("root","root",({source:e})=>({draw(){return{drawNode(t){t.add(SN.default.basename(e.root),{hl:V.rootName})}}}}));Q.registerColumn("root","fullpath",()=>({draw(){return{drawNode(e,{node:t,isLabeling:r}){e.add(t.fullpath,{hl:r?V.directory:V.fullpath})}}}}));Q.registerColumn("child","git",({source:e,subscriptions:t})=>{let r=new kr(e.config),n=jl(e.config),i=(a,o,s)=>{var u;return o?V.gitStaged:(u=r.getHighlight(a,s,["git"]))!=null?u:V.gitUnstaged};return{init(){t.push(ue.bindColumn(e))},async available(){return await ue.cmd.available()},async draw(){return{async labelVisible({node:a}){let o=ue.getMixedStatus(a.fullpath,a.directory);return o?o.x!==W.unmodified||o.y!==W.unmodified:!1},drawNode(a,{node:o,nodeIndex:s,isLabeling:u}){let l=(c,m)=>{let h=i(o.fullpath,m,o.directory);u?a.add(`${n[c].name}(${n[c].icon})`,{hl:h}):a.add(n[c].icon,{hl:h})},d=ue.getMixedStatus(o.fullpath,o.directory);d?(l(d.x,!0),u&&a.add(" "),l(d.y,!1),d.x===W.ignored?(e.locator.mark.remove("git",s),e.locator.mark.remove("gitStaged",s),e.locator.mark.remove("gitUnstaged",s)):(e.locator.mark.add("git",s),d.x!==W.unmodified?e.locator.mark.add("gitStaged",s):e.locator.mark.remove("gitStaged",s),d.y!==W.unmodified?e.locator.mark.add("gitUnstaged",s):e.locator.mark.remove("gitUnstaged",s))):(e.locator.mark.remove("git",s),e.locator.mark.remove("gitStaged",s),e.locator.mark.remove("gitUnstaged",s))}}}}});Q.registerColumn("child","selection",({source:e})=>({draw(){return{drawNode(t,{node:r}){e.isSelectedNode(r)&&t.add(e.icons.selected)}}}}));var NN=I(require("coc.nvim"));var $G={folderClosed:{code:"\uE5FF",color:"#00afaf"},folderOpened:{code:"\uE5FE",color:"#00afaf"},folderSymlink:{code:"\uF482",color:"#00afaf"},folderNpm:{code:"\u4B8E",color:"#00afaf"},file:{code:"\uF723",color:"#999999"},fileSymlink:{code:"\uF481",color:"#999999"},fileHidden:{code:"\uFB12",color:"#999999"},excel:{code:"\uF71A",color:"#207245"},word:{code:"\uF72B",color:"#185abd"},ppt:{code:"\uF726",color:"#cb4a32"},stylus:{code:"\uE600",color:"#8dc149"},sass:{code:"\uE603",color:"#f55385"},html:{code:"\uE60E",color:"#e37933"},xml:{code:"\uFABF",color:"#e37933"},ejs:{code:"\uE618",color:"#cbcb41"},css:{code:"\uE614",color:"#519aba"},webpack:{code:"\uFC29",color:"#519aba"},markdown:{code:"\uE609",color:"#519aba"},json:{code:"\uE60B",color:"#cbcb41"},javascript:{code:"\uE60C",color:"#cbcb41"},javascriptreact:{code:"\uE7BA",color:"#519aba"},ruby:{code:"\uE791",color:"#cc3e44"},php:{code:"\uE608",color:"#a074c4"},python:{code:"\uE606",color:"#519aba"},coffee:{code:"\uE61B",color:"#cbcb41"},mustache:{code:"\uE60F",color:"#e37933"},conf:{code:"\uE615",color:"#6d8086"},image:{code:"\uE60D",color:"#a074c4"},ico:{code:"\uE60D",color:"#cbcb41"},twig:{code:"\uE61C",color:"#8dc149"},c:{code:"\uE61D",color:"#519aba"},h:{code:"\uF0FD",color:"#a074c4"},haskell:{code:"\uE61F",color:"#a074c4"},lua:{code:"\uE620",color:"#519aba"},java:{code:"\uE738",color:"#cc3e44"},terminal:{code:"\uE795",color:"#4d5a5e"},ml:{code:"\u03BB",color:"#e37933"},diff:{code:"\uE728",color:"#41535b"},sql:{code:"\uE706",color:"#f55385"},clojure:{code:"\uE768",color:"#8dc149"},edn:{code:"\uE76A",color:"#519aba"},scala:{code:"\uE737",color:"#cc3e44"},go:{code:"\uE627",color:"#519aba"},dart:{code:"\uE798",color:"#03589C"},firefox:{code:"\uE745",color:"#e37933"},vs:{code:"\uE70C",color:"#854CC7"},perl:{code:"\uE769",color:"#519aba"},rss:{code:"\uE619",color:"FB9D3B"},csharp:{code:"\uF81A",color:"#519aba"},fsharp:{code:"\uE7A7",color:"#519aba"},rust:{code:"\uE7A8",color:"#519aba"},dlang:{code:"\uE7AF",color:"#cc3e44"},erlang:{code:"\uE7B1",color:"#A90533"},elixir:{code:"\uE62D",color:"#a074c4"},elm:{code:"\uE62C",color:"#519aba"},mix:{code:"\uE62D",color:"#cc3e44"},vim:{code:"\uE62B",color:"#019833"},ai:{code:"\uE7B4",color:"#cbcb41"},psd:{code:"\uE7B8",color:"#519aba"},psb:{code:"\uE7B8",color:"#519aba"},typescript:{code:"\uE628",color:"#519aba"},typescriptreact:{code:"\uE7BA",color:"#519aba"},julia:{code:"\uE624",color:"#a074c4"},puppet:{code:"\uF499",color:"#cbcb41"},vue:{code:"\uFD42",color:"#8dc149"},swift:{code:"\uE755",color:"#e37933"},git:{code:"\uE725",color:"#41535b"},bashrc:{code:"\uE615",color:"#4d5a5e"},favicon:{code:"\uE623",color:"#cbcb41"},docker:{code:"\uE7B0",color:"#519aba"},gruntfile:{code:"\uE611",color:"#e37933"},gulpfile:{code:"\uE610",color:"#cc3e44"},dropbox:{code:"\uE707",color:"#0061FE"},license:{code:"\uE60A",color:"#cbcb41"},procfile:{code:"\uE607",color:"#a074c4"},jquery:{code:"\uE750",color:"#1B75BB"},angular:{code:"\uE753",color:"#E23237"},backbone:{code:"\uE752",color:"#0071B5"},requirejs:{code:"\uE770",color:"#F44A41"},materialize:{code:"\uE7B6",color:"#EE6E73"},mootools:{code:"\uE78F",color:"#ECECEC"},vagrant:{code:"\uF2B8",color:"#1563FF"},svg:{code:"\uFC1F",color:"#FFB13B"},font:{code:"\uF031",color:"#999999"},text:{code:"\uF783",color:"#999999"},archive:{code:"\uF53B",color:"#cc3e44"},lock:{code:"\uF023",color:"#999999"}},GG={styl:"stylus",sass:"sass",scss:"sass",htm:"html",html:"html",slim:"html",xml:"xml",xaml:"xml",ejs:"ejs",css:"css",less:"css",md:"markdown",mdx:"markdown",markdown:"markdown",rmd:"markdown",lock:"lock",json:"json",js:"javascript",cjs:"javascript",mjs:"javascript",es6:"javascript",jsx:"javascriptreact",rb:"ruby",ru:"ruby",php:"php",py:"python",pyc:"python",pyo:"python",pyd:"python",coffee:"coffee",mustache:"mustache",hbs:"mustache",config:"conf",conf:"conf",ini:"conf",yml:"conf",yaml:"conf",toml:"conf",jpg:"image",jpeg:"image",bmp:"image",png:"image",gif:"image",webp:"image",ico:"ico",twig:"twig",cpp:"c","c++":"c",cxx:"c",cc:"c",cp:"c",c:"c",h:"h",hh:"h",hpp:"h",hxx:"h",hs:"haskell",lhs:"haskell",lua:"lua",java:"java",jar:"java",sh:"terminal",fish:"terminal",bash:"terminal",zsh:"terminal",ksh:"terminal",csh:"terminal",awk:"terminal",ps1:"terminal",bat:"terminal",cmd:"terminal",ml:"ml",mli:"ml",diff:"diff",db:"sql",sql:"sql",dump:"sql",accdb:"sql",clj:"clojure",cljc:"clojure",cljs:"clojure",edn:"edn",scala:"scala",go:"go",dart:"dart",xul:"firefox",pl:"perl",pm:"perl",t:"perl",rss:"rss",sln:"vs",suo:"vs",csproj:"vs",cs:"csharp",fsscript:"fsharp",fsx:"fsharp",fs:"fsharp",fsi:"fsharp",rs:"rust",rlib:"rust",d:"dlang",erl:"erlang",hrl:"erlang",ex:"elixir",eex:"elixir",exs:"elixir",exx:"elixir",leex:"elixir",vim:"vim",ai:"ai",psd:"psd",psb:"psd",ts:"typescript",tsx:"javascriptreact",jl:"julia",pp:"puppet",vue:"vue",elm:"elm",swift:"swift",xcplayground:"swift",svg:"svg",otf:"font",ttf:"font",fnt:"font",txt:"text",text:"text",zip:"archive",tar:"archive",gz:"archive",gzip:"archive",rar:"archive","7z":"archive",iso:"archive",doc:"word",docx:"word",docm:"word",csv:"excel",xls:"excel",xlsx:"excel",xlsm:"excel",ppt:"ppt",pptx:"ppt",pptm:"ppt"},VG={gruntfile:"gruntfile",gulpfile:"gulpfile",gemfile:"ruby",guardfile:"ruby",capfile:"ruby",rakefile:"ruby",mix:"mix",dropbox:"dropbox",vimrc:"vim",".vimrc":"vim",".gvimrc":"vim",_vimrc:"vim",_gvimrc:"vim",license:"license",procfile:"procfile",Vagrantfile:"vagrant","docker-compose.yml":"docker",".gitconfig":"git",".gitignore":"git",webpack:"webpack",".bashrc":"bashrc",".zshrc":"bashrc",".bashprofile":"bashrc","favicon.ico":"favicon",dockerfile:"docker",".dockerignore":"docker"},zG={".*jquery.*.js$":"jquery",".*angular.*.js$":"angular",".*backbone.*.js$":"backbone",".*require.*.js$":"requirejs",".*materialize.*.js$":"materialize",".*materialize.*.css$":"materialize",".*mootools.*.js$":"mootools"},QG={".git":"git",node_modules:"javascript"},KG={},MN={icons:$G,extensions:GG,filenames:VG,patternMatches:zG,dirnames:QG,dirPatternMatches:KG};var qN=I(yl()),ce=MN,Ra=J.get("icon.customIcons",{});Object.assign(ce.icons,Ra.icons);Object.assign(ce.extensions,Ra.extensions);Object.assign(ce.filenames,Ra.filenames);Object.assign(ce.dirnames,Ra.dirnames);Object.assign(ce.patternMatches,Ra.patternMatches);Object.assign(ce.dirPatternMatches,Ra.dirPatternMatches);var ja={};Object.entries(ce.icons).forEach(([e,t])=>{let r=xl(t.color);if(!r)return;let i=`ctermfg=${qN.default.rgb.ansi256([r.red,r.green,r.blue])} guifg=${t.color}`;ja[e]=se.group(`FileIconNerdfont_${e}`,i)});function Wl(e){let t=e.toLowerCase(),{extensions:r,basename:n}=_o(t),i=r[r.length-1];if(ce.filenames.hasOwnProperty(n)){let o=ce.filenames[n];return{name:o,...ce.icons[o]}}if(ce.filenames.hasOwnProperty(t)){let o=ce.filenames[t];return{name:o,...ce.icons[o]}}let a=Object.entries(ce.patternMatches).find(([o])=>new RegExp(o).test(t));if(a){let o=a[1];return{name:o,...ce.icons[o]}}if(ce.extensions.hasOwnProperty(i)){let o=ce.extensions[i];return{name:o,...ce.icons[o]}}}function Fl(e){let t=e.toLowerCase(),{basename:r}=_o(t);if(ce.dirnames.hasOwnProperty(r)){let i=ce.dirnames[r];return{name:i,...ce.icons[i]}}if(ce.dirnames.hasOwnProperty(t)){let i=ce.dirnames[t];return{name:i,...ce.icons[i]}}let n=Object.entries(ce.dirPatternMatches).find(([i])=>new RegExp(i).test(t));if(n){let i=n[1];return{name:i,...ce.icons[i]}}}var XG=Symbol("icon-column");function oy(e){return sw(e,XG,()=>({devicons:""}))}Q.registerColumn("child","icon",({source:e})=>({async draw(t){let r=e.config.get("icon.enableVimDevicons"),n=e.config.get("icon.enableNerdfont");return r&&await Promise.all(t.map(async i=>{oy(i).devicons=await NN.workspace.nvim.call("WebDevIconsGetFileTypeSymbol",[i.name,i.directory])})),{async drawNode(i,{node:a}){if(a.directory){let o=e.view.isExpanded(a)?V.directoryExpanded:V.directoryCollapsed;if(r)i.add(oy(a).devicons,{hl:o});else if(n){let s=Fl(a.name);s?i.add(s.code,{hl:o}):i.add(e.view.isExpanded(a)?ce.icons.folderOpened.code:ce.icons.folderClosed.code,{hl:o})}else i.add(e.view.isExpanded(a)?e.icons.expanded:e.icons.collapsed,{hl:V.directory})}else if(r){let o=oy(a).devicons;i.add(o,{hl:ja.file})}else if(n){let o=Wl(a.name);o?i.add(o.code,{hl:ja[o.name]}):a.hidden?i.add(ce.icons.fileHidden.code,{hl:ja.fileHidden}):i.add(ce.icons.file.code,{hl:ja.file})}}}}}));Q.registerColumn("child","filename",({source:e,subscriptions:t})=>{let r=new kr(e.config),n=(a,o)=>{var s;return(s=r.getHighlight(a,o,["diagnosticError","diagnosticWarning","git"]))!=null?s:o?V.directory:V.filename},i=[];return r.enabledErrorStatus&&i.push("error"),r.enabledWarningStatus&&i.push("warning"),{init(){t.push(xe.bindColumn(e,i),ue.bindColumn(e))},draw(){return{async drawNode(a,{node:o}){a.add(o.name,{hl:n(o.fullpath,o.directory),unicode:!0})}}}}});Q.registerColumn("child","linkIcon",()=>({draw(){return{drawNode(e,{node:t}){t.symbolicLink&&e.add("\u2192")}}}}));Q.registerColumn("child","link",()=>({draw(){return{labelVisible:({node:e})=>e.symbolicLink,async drawNode(e,{node:t}){let r=t.symbolicLink?await FT(t.fullpath).then(n=>"\u2192"+n).catch(()=>""):"";r&&e.add(r,{hl:V.linkTarget,unicode:!0})}}}}));var PN=I(require("path"));Q.registerColumn("child","fullpath",()=>({draw(){return{drawNode(e,{node:t}){t.directory?e.add(t.fullpath+PN.default.sep,{hl:V.directory}):e.add(t.fullpath)}}}}));function JG(e){var n,i;let t="";if((n=e.parent)==null?void 0:n.isRoot)return t;e.nextSiblingNode===void 0?t="\u2514 ":t="\u2502 ";let r=e.parent;for(;r&&!((i=r.parent)==null?void 0:i.isRoot);)r.nextSiblingNode===void 0?t="  "+t:t="\u2502 "+t,r=r.parent;return t}Q.registerColumn("child","indent",({source:e})=>({draw(){let t=e.config.get("icon.enableNerdfont"),r=(()=>{let n=e.getColumnConfig("indent.indentLine");return t&&n===void 0?!0:n})();return{drawNode(n,{node:i}){var a;r?n.add(JG(i),{hl:V.indentLine}):n.add(e.getColumnConfig("indent.chars").repeat(((a=i.level)!=null?a:0)-1))}}}}));Q.registerColumn("child","clip",({source:e})=>({draw(){let t=e.getColumnConfig("clip.copy"),r=e.getColumnConfig("clip.cut");return e.config.get("icon.enableNerdfont")?(t=t!=null?t:"\uF68E",r=r!=null?r:"\uF68F"):(t=t!=null?t:"C",r=r!=null?r:"X"),{drawNode(n,{node:i}){let a=e.copiedNodes.has(i)?t:e.cutNodes.has(i)?r:"";a&&n.add(a,{hl:V.clip})}}}}));var RN=I(EN());Q.registerColumn("child","size",()=>({draw(){return{labelVisible:({node:e})=>!e.directory,drawNode(e,{node:t}){t.lstat&&e.add(RN.default(t.lstat.size),{hl:V.size})}}}}));Q.registerColumn("child","readonly",({source:e})=>({draw(){let t=e.config.get("icon.enableNerdfont");return{labelOnly:!0,labelVisible:({node:r})=>r.readonly,drawNode(r,{node:n}){n.readonly&&r.add(n.readonly?t?"\uE0A2":"RO":"",{hl:V.readonly})}}}}));Q.registerColumn("child","modified",({source:e,subscriptions:t})=>({async init(){await e.explorer.args.value(te.position)!=="floating"&&t.push(e.bufManager.onModified(Ut(500,async n=>{await e.view.renderPaths([n])})))},draw(){return{labelOnly:!0,labelVisible:({node:r})=>e.bufManager.modified(r.fullpath),drawNode(r,{node:n,nodeIndex:i}){let a=!1;n.directory?e.view.isExpanded(n)||(a=e.bufManager.modifiedPrefix(n.fullpath)):a=e.bufManager.modified(n.fullpath),r.add(a?"+":"",{hl:V.readonly}),a?e.locator.mark.add("modified",i):e.locator.mark.remove("modified",i)}}}}));var $A=I(zm());Q.registerColumn("child","timeModified",({source:e})=>({draw(){return{drawNode(t,{node:r}){r.lstat&&t.add($A.format(r.lstat.mtime,e.config.get("datetime.format")),{hl:V.timeModified})}}}}));var GA=I(zm());Q.registerColumn("child","timeCreated",({source:e})=>({draw(){return{drawNode(t,{node:r}){r.lstat&&t.add(GA.format(r.lstat.ctime,e.config.get("datetime.format")),{hl:V.timeCreated})}}}}));var VA=I(zm());Q.registerColumn("child","timeAccessed",({source:e})=>({draw(){return{drawNode(t,{node:r}){r.lstat?t.add(VA.format(r.lstat.atime,e.config.get("datetime.format")),{hl:V.timeAccessed}):t.add("                 ")}}}}));var Dn=e=>({displayMax:e.get("diagnostic.displayMax"),enableSubscriptNumber:e.get("diagnostic.enableSubscriptNumber")}),En=(e,t)=>e>t.displayMax?"\u2717":t.enableSubscriptNumber?uw(e):e.toString();Q.registerColumn("child","diagnosticError",({source:e,subscriptions:t})=>{let r=Dn(e.config);return{init(){t.push(xe.bindColumn(e,["error"]))},draw(){return{labelVisible:({node:n})=>!!xe.getMixedError(n.fullpath),drawNode(n,{node:i,isLabeling:a}){let o=xe.getMixedError(i.fullpath);if(a){n.add((o!=null?o:0).toString(),{hl:V.diagnosticError});return}!o||i.directory&&e.view.isExpanded(i)||n.add(En(o,r),{hl:V.diagnosticError})}}}}});Q.registerColumn("child","diagnosticWarning",({source:e,subscriptions:t})=>{let r=Dn(e.config);return{init(){t.push(xe.bindColumn(e,["warning"]))},draw(){return{labelVisible:({node:n})=>!!xe.getMixedWarning(n.fullpath),drawNode(n,{node:i,isLabeling:a}){let o=xe.getMixedWarning(i.fullpath);if(a){n.add((o!=null?o:0).toString(),{hl:V.diagnosticWarning});return}!o||i.expandable&&e.view.isExpanded(i)||n.add(En(o,r),{hl:V.diagnosticWarning})}}}}});var Rn=I(Qe());var Br=I(Qe()),Et=I(require("coc.nvim"));var Ni=class{constructor(t,r){this.source=t;this.rootNode=r;this.flattenedNodes=[];this.startLineIndex=0;this.endLineIndex=0;this.requestedRenderNodes=new Set;this.nodeStores=(()=>{let t={records:new Map,store(n){return t.records.has(n.uid)||t.records.set(n.uid,{expanded:!1,compact:"uncompact"}),t.records.get(n.uid)},get(n,i){return t.store(n)[i]},set(n,i,a){t.store(n)[i]=a}},r={setExpanded(n,i){i?r.expand(n):r.collapse(n)},expand(n){t.set(n,"expanded",!0)},collapse(n){t.set(n,"expanded",!1)},isExpanded(n){return t.get(n,"expanded")},setCompact(n,i){t.set(n,"compact",i)},getCompact(n){return t.get(n,"compact")}};return r})();this.rootExpandedForOpen=!1;this.explorer=this.source.explorer}get isHelpUI(){return this.explorer.view.isHelpUI}get renderMutex(){return this.explorer.view.renderMutex}get config(){return this.source.config}bootInit(t){this.rootExpandedForOpen=t}bootOpen(){this.nodeStores.setExpanded(this.rootNode,this.rootExpandedForOpen)}get currentLineIndex(){return this.explorer.view.currentLineIndex-this.startLineIndex}currentNode(){return this.flattenedNodes[this.currentLineIndex]}currentSourceIndex(){let t=this.explorer.sources.indexOf(this.source);return t===-1?void 0:t}getNodeByLine(t){return this.flattenedNodes[t]}getLineByNode(t){if(t){let r=this.flattenedNodes.findIndex(n=>n.uid===t.uid);return r===-1?void 0:r}else return 0}setLinesNotifier(t,r,n){return this.explorer.setLinesNotifier(t,this.startLineIndex+r,this.startLineIndex+n)}replaceNodeInSibling(t,r){var n;if((n=t.parent)==null?void 0:n.children){let i=t.parent.children.indexOf(t);i!==-1&&(t.parent.children.splice(i,1,r),r.level=t.level,r.parent=t.parent,r.prevSiblingNode=t.prevSiblingNode,r.nextSiblingNode=t.nextSiblingNode)}}flattenParents(t){let r=t,n=[];for(;r.parent;)n.push(r.parent),r=r.parent;return n}flattenNode(t){var i,a,o;let r=[],n=[t];for(;n.length;){let s=n.shift();if(!s.isRoot){let u=this.nodeStores.getCompact(s);if(u==="compact"){if(!s.compactedNodes&&((i=s.children)==null?void 0:i.length)===1&&s.children[0].expandable){let l=s.children[0],d=[s,l];for(;((a=l.children)==null?void 0:a.length)===1&&l.children[0].expandable;)this.nodeStores.setCompact(l,"compact"),l=l.children[0],d.push(l);this.nodeStores.setCompact(l,"compact");let c=l0(l);c.name=d.map(m=>m.name).join("/"),c.compactedNodes=d,this.replaceNodeInSibling(s,c),s=c}}else if(u==="uncompact"&&s.compactedNodes){let l=s.compactedNodes[0];for(let d of s.compactedNodes)this.nodeStores.setCompact(d,"uncompact");this.replaceNodeInSibling(s,l),s=l}}if(r.push(s),s.children)for(let u=s.children.length-1;u>=0;u--)s.children[u].parent=s,s.children[u].level=((o=s.level)!=null?o:0)+1,n.unshift(s.children[u])}return r}nodeAndChildrenRange(t){var a,o;let r=this.flattenedNodes.findIndex(s=>s.uid===t.uid);if(r===-1)return;let n=(a=t.level)!=null?a:0,i=this.flattenedNodes.length-1;for(let s=r+1,u=this.flattenedNodes.length;s<u;s++)if(((o=this.flattenedNodes[s].level)!=null?o:0)<=n){i=s-1;break}return{startIndex:r,endIndex:i}}isExpanded(t){return this.nodeStores.isExpanded(t)}async expandRender(t){if(this.isHelpUI||!this.isExpanded(t)||!t.children)return;let r=this.nodeAndChildrenRange(t);if(!r)return;let{startIndex:n,endIndex:i}=r,a=this.flattenNode(t);await this.source.sourcePainters.beforeDraw(a,{draw:async()=>{this.flattenedNodes=this.flattenedNodes.slice(0,n).concat(a).concat(this.flattenedNodes.slice(i+1)),this.source.locator.mark.offsetAfterLine(a.length-1-(i-n),n);let{contents:o,highlightPositions:s}=await this.drawNodes(a);await this.source.events.fire("drawn"),Et.workspace.nvim.pauseNotification(),this.setLinesNotifier(o,n,i+1).notify(),this.source.highlight.addHighlightsNotify(s),Et.workspace.isVim&&Et.workspace.nvim.command("redraw",!0),await Et.workspace.nvim.resumeNotification()},drawAll:()=>this.render()})}async expandRecursive(t,r){var s,u,l,d;let n=this.config.get("autoExpandOptions"),i=(s=r.compact)!=null?s:n.includes("compact"),a=(u=r.uncompact)!=null?u:n.includes("uncompact"),o=(l=r.recursiveSingle)!=null?l:n.includes("recursiveSingle")||i;if(t.expandable){let c=(d=r.depth)!=null?d:1,m=this.isExpanded(t);if(this.nodeStores.expand(t),t.children||(t.children=await this.source.loadInitedChildren(t,{recursiveExpanded:!0})),c>this.config.get("autoExpandMaxDepth"))return;let h=t.children.length===1&&t.children[0].expandable,x=this.nodeStores.getCompact(t);x==="uncompact"?h&&i&&this.nodeStores.setCompact(t,"compact"):x==="compact"&&(m&&a?this.nodeStores.setCompact(t,"uncompact"):this.nodeStores.setCompact(t,"compact")),(r.recursive||h&&o)&&await Promise.all(t.children.map(async _=>{await this.expandRecursive(_,{...r,depth:c+1})}))}}async expand(t,r={}){var n;await this.expandRecursive(t,r),((n=r.render)!=null?n:!0)&&await this.expandRender(t)}async collapseRender(t){if(this.isHelpUI||this.isExpanded(t))return;let r=this.nodeAndChildrenRange(t);!r||await this.source.sourcePainters.beforeDraw([t],{draw:async()=>{let{startIndex:n,endIndex:i}=r;this.flattenedNodes.splice(n+1,i-n),this.explorer.locator.mark.removeLines(this.startLineIndex+n+1,this.startLineIndex+i),this.source.locator.mark.offsetAfterLine(-(i-n),i);let a=await this.source.locator.gotoLineIndexNotifier(n,0),{contents:o,highlightPositions:s}=await this.drawNodes([t]);await this.source.events.fire("drawn"),Et.workspace.nvim.pauseNotification(),this.setLinesNotifier(o,n,i+1).notify(),this.source.highlight.addHighlightsNotify(s),a.notify(),Et.workspace.isVim&&Et.workspace.nvim.command("redraw",!0),await Et.workspace.nvim.resumeNotification()},drawAll:()=>this.render()})}async collapseRecursive(t,r){if(t.expandable){this.nodeStores.collapse(t);let n=t.children;if(!n)return;if(t.children=void 0,r||this.config.get("autoCollapseOptions").includes("recursive"))for(let i of n)await this.collapseRecursive(i,r)}}async collapse(t,{recursive:r=!1}={}){await this.collapseRecursive(t,r),await this.collapseRender(t)}async drawNodes(t){let r=Ke(await Promise.all(t.map(async i=>{let a=this.flattenedNodes.findIndex(s=>s.uid===i.uid);if(a<0)return;let o=this.flattenedNodes[a];if(!!o)return this.source.sourcePainters.drawNode(o,a)}))),n=this.startLineIndex;return{drawnList:r,get contents(){return r.map(i=>i.content)},get highlightPositions(){return ht(r.map(i=>i.highlightPositions.map(a=>({lineIndex:n+i.nodeIndex,...a}))))}}}requestRenderNodes(t){for(let r of t)this.requestedRenderNodes.add(r)}async emitRequestRenderNodesNotifier(){if(this.requestedRenderNodes.size<=0)return;let t=Array.from(this.requestedRenderNodes);return this.requestedRenderNodes.clear(),this.renderNodesNotifier(t)}async renderNodes(t){return(await this.renderNodesNotifier(t)).run()}async renderNodesNotifier(t){let n=(t instanceof Set?Array.from(t):t).map(a=>{var o,s;return"uid"in a?{nodes:[a],withParents:!1,withChildren:!1}:{nodes:[...a.nodes],withParents:(o=a.withParents)!=null?o:!1,withChildren:(s=a.withChildren)!=null?s:!1}}),i=[];for(let a of n){if(i.push(...a.nodes),a.withParents)for(let o of a.nodes)i.push(...this.flattenParents(o));if(a.withChildren)for(let o of a.nodes)i.push(...this.flattenNode(o))}return i.length?await this.source.sourcePainters.beforeDraw(i,{draw:async()=>{let{drawnList:a,highlightPositions:o}=await this.drawNodes(i),s=Lq(a);return await this.source.events.fire("drawn"),Br.Notifier.create(()=>{s.forEach(u=>{this.setLinesNotifier(u.drawnList.map(l=>l.content),u.nodeIndexStart,u.nodeIndexEnd+1).notify()}),this.source.highlight.addHighlightsNotify(o),Et.workspace.isVim&&Et.workspace.nvim.command("redraw",!0)})},drawAll:()=>this.renderNotifier(),abort:()=>Br.Notifier.noop()}):Br.Notifier.noop()}async renderPaths(t){return(await this.renderPathsNotifier(t)).run()}async renderPathsNotifier(t){if(this.isHelpUI)return Br.Notifier.noop();let r=t instanceof Set?Array.from(t):t;if(!r.length)return Br.Notifier.noop();let n=a=>this.flattenedNodes.filter(o=>o.fullpath&&a.includes(o.fullpath)),i=r.map(a=>typeof a=="string"?{nodes:n([a])}:{nodes:n([...a.paths]),withParents:a.withParents,withChildren:a.withChildren});return this.renderNodesNotifier(i)}async render(t){var r;return(r=await this.renderNotifier(t))==null?void 0:r.run()}async renderNotifier({node:t=this.rootNode,force:r=!1}={}){if(this.isHelpUI)return Br.Notifier.noop();let n=this.nodeAndChildrenRange(t);if(!n&&!t.isRoot)return Br.Notifier.noop();let{startIndex:i,endIndex:a}=n||{startIndex:0,endIndex:this.flattenedNodes.length-1},o=a-i+1,s=this.flattenNode(t),u=s.length;this.flattenedNodes=this.flattenedNodes.slice(0,i).concat(s).concat(this.flattenedNodes.slice(a+1)),u<o&&this.explorer.locator.mark.removeLines(this.startLineIndex+u+1,this.startLineIndex+o+1),this.source.locator.mark.offsetAfterLine(u-o,this.endLineIndex),await this.source.sourcePainters.beforeDraw(s,{force:r});let{contents:l,highlightPositions:d}=await this.drawNodes(s);await this.source.events.fire("drawn");let c=this.currentSourceIndex(),m=this.explorer.sources.length-1===c;return Br.Notifier.create(()=>{this.explorer.setLinesNotifier(l,this.startLineIndex+i,m&&t.isRoot?-1:this.startLineIndex+i+o).notify(),this.source.highlight.addHighlightsNotify(d),Et.workspace.isVim&&Et.workspace.nvim.command("redraw",!0)})}};var Oe=se.linkGroup.bind(se),V={title:Oe("FileRoot","Constant"),hidden:Oe("FileHidden","Comment"),rootName:Oe("FileRootName","Identifier"),expandIcon:Oe("FileExpandIcon","Directory"),fullpath:Oe("FileFullpath","Comment"),filename:Oe("FileFilename","None"),directory:Oe("FileDirectory","Directory"),directoryExpanded:Oe("FileDirectoryExpanded","Directory"),directoryCollapsed:Oe("FileDirectoryCollapsed","Directory"),linkTarget:Oe("FileLinkTarget","Comment"),gitStaged:Oe("FileGitStaged",ft.gitStaged.group),gitUnstaged:Oe("FileGitUnstaged",ft.gitUnstaged.group),gitRootStaged:Oe("FileGitRootStaged","Comment"),gitRootUnstaged:Oe("FileGitRootUnstaged","Operator"),indentLine:Oe("IndentLine","Comment"),clip:Oe("FileClip","Statement"),size:Oe("FileSize","Constant"),readonly:Oe("FileReadonly","Operator"),modified:Oe("FileModified","Operator"),timeAccessed:Oe("TimeAccessed","Identifier"),timeModified:Oe("TimeModified","Identifier"),timeCreated:Oe("TimeCreated","Identifier"),diagnosticError:Oe("FileDiagnosticError",Ir.diagnosticError.group),diagnosticWarning:Oe("FileDiagnosticWarning",Ir.diagnosticWarning.group),filenameDiagnosticError:Oe("FileFilenameDiagnosticError","CocErrorSign"),filenameDiagnosticWarning:Oe("FileFilenameDiagnosticWarning","CocWarningSign")},QA=class extends mi{constructor(){super(...arguments);this.scheme="file";this.showHidden=this.config.get("file.showHiddenFiles");this.showOnlyGitChange=!1;this.copiedNodes=new Set;this.cutNodes=new Set;this.view=new Ni(this,{type:"root",isRoot:!0,uid:this.helper.getUid(Km.default.sep),name:"root",fullpath:zA.homedir(),expandable:!0,directory:!0,readonly:!0,executable:!1,readable:!0,writable:!0,hidden:!1,symbolicLink:!0,lstat:void 0});this.sourcePainters=new vi(this,Q)}get root(){return this.view.rootNode.fullpath}set root(t){this.view.rootNode.uid=this.helper.getUid(t),this.view.rootNode.fullpath=t,this.view.rootNode.children=void 0}getHiddenRules(){return this.config.get("file.hiddenRules")}isHidden(t){let r=this.getHiddenRules(),{basename:n,extensions:i}=_o(t),a=i[i.length-1];return r.filenames.includes(n)||r.extensions.includes(a)||r.patternMatches.some(o=>new RegExp(o).test(t))}isGitChange(t,r){return!!ue.getMixedStatus(t.fullpath+"/"+r,!1)}getColumnConfig(t,r){return this.config.get("file.column."+t,r)}async init(){this.config.get("activeMode")&&this.config.get("file.autoReveal")&&this.disposables.push(oi(async t=>{var o;if(t===this.explorer.bufnr||!this.explorer.visible()||await this.explorer.args.value(te.position)==="floating")return;let n=(o=this.bufManager.getBufferNode(t))==null?void 0:o.fullpath;if(!n)return;let[i,a]=await this.revealNodeByPathNotifier(n);i&&await Rn.Notifier.runAll(a)},200)),this.disposables.push(this.events.on("loaded",()=>{this.copiedNodes.clear(),this.cutNodes.clear()})),ON(this.action)}async open(){await this.sourcePainters.parseTemplate("root",await this.explorer.args.value(es.fileRootTemplate),await this.explorer.args.value(es.fileRootLabelingTemplate)),await this.sourcePainters.parseTemplate("child",await this.explorer.args.value(es.fileChildTemplate),await this.explorer.args.value(es.fileChildLabelingTemplate)),this.root=this.explorer.rootUri}async cd(t){let{nvim:r}=this,n=await r.call("fnameescape",t);this.config.get("file.tabCD")?(Pi.workspace.isNvim||await r.call("exists",[":tcd"]))&&(await r.command("tcd "+n),Pi.window.showMessage(`Tab's CWD is: ${t}`)):(await r.command("cd "+n),Pi.window.showMessage(`CWD is: ${t}`))}async revealPath(){var r,n;let t=await this.explorer.args.value(te.reveal);if(t)return t;{let i=await this.explorer.sourceBufnrBySourceWinid();return i&&(n=(r=this.bufManager.getBufferNode(i))==null?void 0:r.fullpath)!=null?n:void 0}}async openedNotifier(t){let r=this.explorer.args,n=await this.revealPath();if(!n)return t?this.locator.gotoRootNotifier({col:1}):Rn.Notifier.noop();let i=r.has(te.reveal);if(this.config.get("file.revealWhenOpen")||this.config.get("file.autoReveal")||i){let[a,o]=await this.revealNodeByPathNotifier(n);if(a!==void 0)return Rn.Notifier.combine(o);if(t)return Rn.Notifier.combine([...o,await this.locator.gotoRootNotifier({col:1})])}else if(t)return this.locator.gotoRootNotifier({col:1});return Rn.Notifier.noop()}getPutTargetNode(t){return t.isRoot?this.view.rootNode:t.expandable&&this.view.isExpanded(t)?t:t.parent?t.parent:this.view.rootNode}getPutTargetDir(t){return this.getPutTargetNode(t).fullpath}async searchByCocList(t,r){var i;let n=await pi(this.explorer,vN,{showHidden:this.showHidden,showIgnore:!0,rootPath:t,recursive:r,revealCallback:async a=>{await n.waitExplorerShow();let[,o]=await this.revealNodeByPathNotifier(Pi.Uri.parse(a.uri).fsPath);await Rn.Notifier.runAll(o)}});(i=n.waitExplorerShow())==null||i.catch(z.error)}async revealNodeByPathNotifier(t,{startNode:r=this.view.rootNode,goto:n=!0,render:i=!0,compact:a}={}){t=lt(t);let o=[],s=async(l,{startNode:d,goto:c,render:m})=>{if(l===d.fullpath)return d;if(d.directory&&l.startsWith(d.fullpath+Km.default.sep)){let h,x=m&&!this.view.isExpanded(d);d.children||(d.children=await this.loadInitedChildren(d));for(let _ of d.children)if(h=await s(l,{startNode:_,goto:!1,render:x?!1:m}),h){await this.view.expand(d,{compact:a,uncompact:!1,render:!1});break}if(h){if(x){let _=await this.view.renderNotifier({node:d});_&&o.push(_)}c&&(o.push(await this.locator.gotoNodeNotifier(h)),o.push(Rn.Notifier.create(()=>this.nvim.command("redraw!",!0))))}return h}};return[await s(t,{startNode:r,goto:n,render:i}),o]}sortFiles(t){return t.sort((r,n)=>r.directory&&!n.directory?-1:n.directory&&!r.directory?1:r.name.localeCompare(n.name))}async loadChildren(t){let r;Pt&&t.fullpath===""?r=await il():r=await xo(t.fullpath);let n=await Promise.all(r.map(async i=>{try{if(this.showOnlyGitChange&&!this.isGitChange(t,i))return;let a=this.isHidden(i);if(!this.showHidden&&a)return;let o=lt(Km.default.join(t.fullpath,i)),s=await Kn(o).catch(()=>{}),u=await Xn(o).catch(()=>{}),l=await bo(o,Qm.default.constants.X_OK),d=await bo(o,Qm.default.constants.W_OK),c=await bo(o,Qm.default.constants.R_OK),m=Pt&&/^[A-Za-z]:[\\\/]$/.test(o)?!0:s?s.isDirectory():!1;return{type:"child",uid:this.helper.getUid(o),expandable:m,name:i,fullpath:o,directory:m,readonly:!d&&c,executable:l,readable:c,writable:d,hidden:a,symbolicLink:u?u.isSymbolicLink():!1,lstat:u||void 0}}catch(a){z.error(a);return}}));return this.sortFiles(n.filter(i=>!!i))}};jr.registerSource("file",QA);var kr=class{constructor(t){let r="filename.colored.enable",n=t.get(r,!1)===!0;this.enabledGitStatus=n||t.get(r+".git",!1),this.enabledErrorStatus=n||t.get(r+".diagnosticError",!1),this.enabledWarningStatus=n||t.get(r+".diagnosticWarning",!1)}getGitHighlight(t){return t.x===W.ignored?ft.gitIgnored:sN(t.y)}getHighlight(t,r,n){for(let i of n)if(i==="diagnosticWarning"){if(this.enabledWarningStatus&&xe.getMixedWarning(t))return V.diagnosticWarning}else if(i==="diagnosticError"){if(this.enabledErrorStatus&&xe.getMixedError(t))return V.diagnosticError}else if(i==="git"&&this.enabledGitStatus){let a=ue.getMixedStatus(t,r);if(a)return this.getGitHighlight(a)}}};ve.registerColumn("child","git",({source:e,subscriptions:t})=>{let r=new kr(e.config),n=jl(e.config),i=(a,o)=>{var s;return o?ft.gitStaged:(s=r.getHighlight(a,!1,["git"]))!=null?s:ft.gitUnstaged};return{init(){t.push(ue.bindColumn(e))},async available(){return await ue.cmd.available()},async draw(){return{async labelVisible({node:a}){let o=ue.getMixedStatus(a.fullpath,!1);return o?o.x!==W.unmodified||o.y!==W.unmodified:!1},drawNode(a,{node:o,nodeIndex:s,isLabeling:u}){let l=(c,m)=>{let h=i(o.fullpath,m);u?a.add(`${n[c].name}(${n[c].icon})`,{hl:h}):a.add(n[c].icon,{hl:h})},d=ue.getMixedStatus(o.fullpath,!1);d?(l(d.x,!0),u&&a.add(" "),l(d.y,!1),d.x===W.ignored?(e.locator.mark.remove("git",s),e.locator.mark.remove("gitStaged",s),e.locator.mark.remove("gitUnstaged",s)):(e.locator.mark.add("git",s),d.x!==W.unmodified?e.locator.mark.add("gitStaged",s):e.locator.mark.remove("gitStaged",s),d.y!==W.unmodified?e.locator.mark.add("gitUnstaged",s):e.locator.mark.remove("gitUnstaged",s))):(e.locator.mark.remove("git",s),e.locator.mark.remove("gitStaged",s),e.locator.mark.remove("gitUnstaged",s))}}}}});ve.registerColumn("child","selection",({source:e})=>({draw(){return{drawNode(t,{node:r}){e.isSelectedNode(r)&&t.add(e.icons.selected)}}}}));ve.registerColumn("child","name",({source:e})=>{let t=new kr(e.config),r=(n,i)=>{var a;return(a=t.getHighlight(n,!1,["diagnosticError","diagnosticWarning","git"]))!=null?a:i?ot.nameVisible:void 0};return{draw(){return{drawNode(n,{node:i}){n.add(i.name,{hl:r(i.fullpath,i.visible)})}}}}});ve.registerColumn("child","bufname",()=>({draw(){return{drawNode(e,{node:t}){e.add(t.bufname,{hl:ot.bufname})}}}}));ve.registerColumn("child","modified",({source:e})=>({draw(){return{labelVisible({node:t}){return t.modified||!t.modifiable},drawNode(t,{node:r,nodeIndex:n}){let i=r.modified?"+":r.modifiable?"":"-";i&&t.add(i,{hl:ot.modified}),r.modified?e.locator.mark.add("modified",n):e.locator.mark.remove("modified",n)}}}}));ve.registerColumn("child","bufnr",()=>{let e=0;return{draw(t,{drawAll:r,abort:n}){let i=Du(t.map(a=>a.bufnrStr.length));return i?(e!==i&&(e=i,r()),{drawNode(a,{node:o}){a.add(o.bufnrStr.padStart(e),{hl:ot.bufnr})}}):n()}}});ve.registerColumn("child","diagnosticError",({source:e,subscriptions:t})=>{let r=Dn(e.config);return{init(){t.push(xe.bindColumn(e,["error"]))},draw(){return{labelVisible:({node:n})=>!!xe.getMixedError(n.fullpath),drawNode(n,{node:i,isLabeling:a}){let o=xe.getMixedError(i.fullpath);if(a){n.add((o!=null?o:0).toString(),{hl:Ir.diagnosticError});return}!o||n.add(En(o,r),{hl:Ir.diagnosticError})}}}}});ve.registerColumn("child","diagnosticWarning",({source:e,subscriptions:t})=>{let r=Dn(e.config);return{init(){t.push(xe.bindColumn(e,["warning"]))},draw(){return{labelVisible:({node:n})=>!!xe.getMixedWarning(n.fullpath),drawNode(n,{node:i,isLabeling:a}){let o=xe.getMixedWarning(i.fullpath);if(a){n.add((o!=null?o:0).toString(),{hl:Ir.diagnosticWarning});return}!o||n.add(En(o,r),{hl:Ir.diagnosticWarning})}}}}});ve.registerColumn("child","readonly",({source:e})=>({draw(){return{labelOnly:!0,labelVisible:({node:t})=>t.readonly,drawNode(t,{node:r}){r.readonly&&t.add(r.readonly?e.config.get("icon.enableNerdfont")?"\uE0A2":"RO":"",{hl:ot.readonly})}}}}));ve.registerColumn("child","fullpath",()=>({draw(){return{drawNode(e,{node:t}){e.add(t.fullpath,{hl:ot.fullpath})}}}}));var KA=I(require("coc.nvim"));function XA(e){let{nvim:t}=KA.workspace,r=e.owner;e.addNodeAction("drop",async({node:n})=>{if(!n.hidden){let a=await t.call("getbufinfo",n.bufnr);if(a.length&&a[0].windows.length){let o=await r.explorer.tryQuitOnOpenNotifier(),s=a[0].windows[0];t.pauseNotification(),t.call("win_gotoid",s,!0),o.notify(),await t.resumeNotification();return}}let i=await r.explorer.tryQuitOnOpenNotifier();t.pauseNotification(),t.command(`buffer ${n.bufnr}`,!0),i.notify(),await t.resumeNotification()},"open buffer by drop command",{select:!0}),e.addNodeAction("delete",async({node:n})=>{r.bufManager.modified(n.fullpath)&&await Ht("Buffer is being modified, delete it?")!=="yes"||(await t.command(`bdelete! ${n.bufnr}`),await r.load(n,{force:!0}))},"delete buffer",{select:!0}),e.addNodeAction("deleteForever",async({node:n})=>{r.bufManager.modified(n.fullpath)&&await Ht("Buffer is being modified, wipeout it?")!=="yes"||(await t.command(`bwipeout! ${n.bufnr}`),await r.load(n,{force:!0}))},"bwipeout buffer",{select:!0})}var Xm={bufferRootTemplate:oe.registerOption("buffer-root-template",{getDefault:()=>J.get("buffer.root.template")}),bufferChildTemplate:oe.registerOption("buffer-child-template",{getDefault:()=>J.get("buffer.child.template")}),bufferChildLabelingTemplate:oe.registerOption("buffer-child-labeling-template",{getDefault:()=>J.get("buffer.child.labelingTemplate")})};var Hr=se.linkGroup.bind(se),ot={title:Hr("BufferRoot","Constant"),hidden:Hr("BufferHidden","Comment"),expandIcon:Hr("BufferExpandIcon","Directory"),nameVisible:Hr("BufferNameVisible","String"),bufname:Hr("BufferBufname","Comment"),modified:Hr("BufferModified","Operator"),bufnr:Hr("BufferBufnr","Special"),readonly:Hr("BufferReadonly","Operator"),fullpath:Hr("BufferFullpath","Comment")},JA=class extends mi{constructor(){super(...arguments);this.showHidden=this.config.get("file.showHiddenBuffers");this.view=new Ni(this,{type:"root",isRoot:!0,expandable:!0,uid:this.helper.getUid("0"),bufnr:0,bufnrStr:"0",bufname:"",fullpath:"",name:"",unlisted:!0,current:!1,previous:!1,visible:!1,hidden:!1,modifiable:!1,readonly:!0,terminal:!1,modified:!1,readErrors:!1});this.sourcePainters=new vi(this,ve)}async init(){this.config.get("activeMode")&&this.disposables.push(this.bufManager.onReload(Ut(500,async()=>{!this.explorer.visible()||await this.load(this.view.rootNode)})),this.bufManager.onModified(Ut(500,async()=>{!this.explorer.visible()||await this.load(this.view.rootNode)}))),XA(this.action)}async open(){await this.sourcePainters.parseTemplate("root",await this.explorer.args.value(Xm.bufferRootTemplate)),await this.sourcePainters.parseTemplate("child",await this.explorer.args.value(Xm.bufferChildTemplate),await this.explorer.args.value(Xm.bufferChildLabelingTemplate))}async loadChildren(t,{force:r=!1}={}){r&&await this.bufManager.reload();let n=this.bufManager.bufferNodes,i=this.config.get("buffer.tabOnly");if(this.showHidden)return[...n];if(i){let a=K0(await this.nvim.call("tabpagebuflist",[]));return n.filter(o=>a.includes(o.bufnr)&&!o.unlisted)}else return n.filter(a=>!a.unlisted)}};jr.registerSource("buffer",JA);var Zm=I(require("coc.nvim")),Mb=I(require("path")),eg=I(Fo());var Jm={bookmarkRootTemplate:oe.registerOption("bookmark-root-template",{getDefault:()=>J.get("bookmark.root.template")}),bookmarkChildTemplate:oe.registerOption("bookmark-child-template",{getDefault:()=>J.get("bookmark.child.template")}),bookmarkChildLabelingTemplate:oe.registerOption("bookmark-child-labeling-template",{getDefault:()=>J.get("bookmark.child.labelingTemplate")})};var ZA=class extends gi{},Ge=new ZA;Ge.registerColumn("root","icon",({source:e})=>({draw(){return{drawNode(t,{node:r}){t.add(e.view.isExpanded(r)?e.icons.expanded:e.icons.collapsed,{hl:pt.expandIcon})}}}}));Ge.registerColumn("root","title",()=>({draw(){return{drawNode(e){e.add("[BOOKMARK]",{hl:pt.title})}}}}));Ge.registerColumn("root","hidden",({source:e})=>({draw(){return{drawNode(t){t.add(e.showHidden?e.icons.hidden:"",{hl:pt.hidden})}}}}));Ge.registerColumn("child","selection",({source:e})=>({draw(){return{drawNode(t,{node:r}){e.isSelectedNode(r)&&t.add(e.icons.selected)}}}}));Ge.registerColumn("child","position",()=>({draw(){return{drawNode(e,{node:t}){e.add(`line: ${t.lnum}`,{hl:pt.position})}}}}));Ge.registerColumn("child","filename",()=>({draw(){return{drawNode(e,{node:t}){e.add(t.name,{hl:pt.filename})}}}}));Ge.registerColumn("child","fullpath",()=>({draw(){return{drawNode(e,{node:t}){e.add(t.fullpath,{hl:pt.fullpath})}}}}));Ge.registerColumn("child","line",()=>({draw(){return{drawNode(e,{node:t}){e.add(t.line,{hl:pt.line})}}}}));Ge.registerColumn("child","annotation",()=>({draw(){return{drawNode(e,{node:t}){t.annotation&&e.add(t.annotation,{hl:pt.annotation})}}}}));var Tb=I(require("path"));var Sb=class{constructor(t){this.filepath=t}async load(){let t=Tb.default.dirname(this.filepath),r=await Kn(t).catch(()=>null);if(!r||!r.isDirectory())return{};try{let n=await BT(this.filepath,{encoding:"utf8"});return JSON.parse(n.trim())}catch{return{}}}async fetch(t){let r=await this.load();if(!t)return r;let n=t.split(".");for(let i of n){if(typeof r[i]=="undefined")return;r=r[i]}return r}async exists(t){let r=await this.load(),n=t.split(".");for(let i of n){if(typeof r[i]=="undefined")return!1;r=r[i]}return!0}async push(t,r){let n=await this.load()||{},i=n,a=t.split("."),o=a.length;if(i===null){let s=Tb.default.dirname(this.filepath);await la(s),i=n}for(let s=0;s<o;s++){let u=a[s];if(s===o-1){i[u]=r,await tl(this.filepath,JSON.stringify(n,null,2));break}typeof i[u]=="undefined"&&(i[u]={}),i=i[u]}}async delete(t){let r=await this.load(),n=r,i=t.split("."),a=i.length;for(let o=0;o<a&&typeof r[i[o]]!="undefined";o++){if(o===a-1){delete r[i[o]],await tl(this.filepath,JSON.stringify(n,null,2));break}r=r[i[o]]}}async clear(){let t=await Kn(this.filepath).catch(()=>null);!t||!t.isFile()||await tl(this.filepath,"{}")}},e2=Sb;function t2(e){return decodeURIComponent(e)}var Ci=se.linkGroup.bind(se),pt={title:Ci("BookmarkRoot","Constant"),hidden:Ci("BookmarkHidden","Commment"),expandIcon:Ci("BookmarkExpandIcon","Directory"),filename:Ci("BookmarkFilename","String"),fullpath:Ci("BookmarkFullpath","Special"),position:Ci("BookmarkPosition","Comment"),line:se.group("BookmarkLine","ctermbg=27 ctermfg=0 guibg=#1593e5 guifg=#ffffff"),annotation:Ci("BookmarkAnnotation","Comment")},r2=class extends mi{constructor(){super(...arguments);this.view=new Ni(this,{type:"root",isRoot:!0,expandable:!0,uid:this.helper.getUid("0"),name:"",fullpath:"",lnum:-1,line:"",annotation:void 0});this.sourcePainters=new vi(this,Ge)}static get enabled(){return Zm.extensions.getExtensionState("coc-bookmark")==="activated"}async init(){this.config.get("activeMode")&&this.disposables.push(Rr.on("CocBookmarkChange",Ut(500,async()=>{await this.load(this.view.rootNode)})))}async open(){await this.sourcePainters.parseTemplate("root",await this.explorer.args.value(Jm.bookmarkRootTemplate)),await this.sourcePainters.parseTemplate("child",await this.explorer.args.value(Jm.bookmarkChildTemplate),await this.explorer.args.value(Jm.bookmarkChildLabelingTemplate)),this.view.rootNode.fullpath=this.explorer.rootUri}async loadChildren(t){var s;let r=Zm.workspace.env.extensionRoot,n=Mb.default.join(r,"coc-bookmark-data/bookmark.json"),a=await new e2(n).load(),o=[];for(let[u,l]of Object.entries(a)){let d=lt(t2(u));if(!(!this.showHidden&&!d.startsWith(t.fullpath)||!await rl(d)))for(let c of Object.keys(l).map(m=>Number(m)).sort((m,h)=>m-h)){let m=l[c];o.push({type:"child",uid:this.helper.getUid(d+":"+c),fullpath:d,name:Mb.default.basename(d),lnum:c,location:eg.Location.create(d,eg.Range.create(c,-1,c,-1)),line:m.line,annotation:(s=m.annotation)==null?void 0:s.toString()})}}return o}};jr.registerSource("bookmark",r2);var n2=I(qv()),qb=class{constructor(t){this.explorer=t;this.isHelpUI=!1;this.currentLineIndex=0;this.renderMutex=new n2.Mutex}get flattenedNodes(){return this.explorer.sources.reduce((t,r)=>t.concat(r.view.flattenedNodes),[])}async refreshLineIndex(){let t=await this.explorer.win;if(t){let r=await t.cursor;this.currentLineIndex=r[0]-1}}async currentSource(){return this.explorer.sources[await this.currentSourceIndex()]}async currentSourceIndex(){let t=this.currentLineIndex;return this.explorer.sources.findIndex(r=>t>=r.view.startLineIndex&&t<r.view.endLineIndex)}async currentNode(){let t=await this.currentSource();if(t){let r=this.currentLineIndex-t.view.startLineIndex;return t.view.flattenedNodes[r]}}};var jn=class{constructor(t,r,n,i,a){this.explorerID=t;this.explorerManager=r;this.bufnr=n;this.borderBufnr=i;this.config=a;this.nvim=qt.workspace.nvim;this.inited=new Uo("inited",this);this.sourceWinid=new Uo("sourceWinid",this);this.sourceBufnr=new Uo("sourceBufnr",this);this.contentWidth=0;this.action=new Pv(this);this.highlight=new Yv(this);this.view=new qb(this);this.locator=new Gv(this);this.disposables=[];this.isHide=!1;this.context=r.context,this.floatingPreview=new Bv(this),i&&this.disposables.push(Wt("BufWinLeave",async o=>{o===n&&await Ch([i]).run()})),Dq(this.action)}static async genExplorerPosition(t){let r=0,n=0,i=0,a=0;if(await t.value(te.position)!=="floating")r=await t.value(te.width);else{r=await t.value(te.floatingWidth),n=await t.value(te.floatingHeight);let[s,u]=[qt.workspace.env.columns,qt.workspace.env.lines-qt.workspace.env.cmdheight];r<=0&&(r=s+r),n<=0&&(n=u+n);let l=await t.value(te.floatingPosition);l==="left-center"?(i=0,a=(u-n)/2):l==="center"?(i=(s-r)/2,a=(u-n)/2):l==="right-center"?(i=s-r,a=(u-n)/2):l==="center-top"?(i=(s-r)/2,a=0):[i,a]=l}return{width:r,height:n,top:a,left:i}}static async create(t,r,n){t.maxExplorerID+=1;let i=await r.value(te.position),a=await r.value(te.focus),{width:o,height:s,top:u,left:l}=await this.genExplorerPosition(r),[d,c]=await qt.workspace.nvim.call("coc_explorer#open_explorer",[t.maxExplorerID,i,{width:o,height:s,left:l,top:u,focus:a,border_enable:n.get("floating.border.enable"),border_chars:n.get("floating.border.chars"),title:n.get("floating.border.title")}]),m=new jn(t.maxExplorerID,t,d,c,n);return await m.inited.set(!0),m}dispose(){this.floatingPreview.dispose(),this.disposables.forEach(t=>t.dispose())}get rootUri(){if(!this._rootUri)throw Error("Explorer rootUri not initialized yet");return this._rootUri}get args(){if(!this._args)throw Error("Explorer args not initialized yet");return this._args}get buffer(){return this._buffer||(this._buffer=this.nvim.createBuffer(this.bufnr)),this._buffer}get sources(){if(!this._sources)throw Error("Explorer sources not initialized yet");return this._sources}get height(){return rt(this.sources.map(t=>t.height))}get win(){return this.winid.then(Eh)}get winnr(){return To(this.bufnr)}get winid(){return this.winnr.then(Dh)}get borderWin(){return this.borderWinid.then(Eh)}get borderWinnr(){return To(this.borderBufnr)}get borderWinid(){return this.borderWinnr.then(Dh)}async sourceWinnr(){let t=await this.sourceWinid.get();if(!t)return;let r=await this.nvim.call("win_id2win",[t]);if(!(r<=0||(await this.explorerManager.winnrs()).includes(r)))return r}async sourceBufnrBySourceWinid(){let t=await this.sourceWinid.get();if(!t)return;let r=await this.nvim.call("winbufnr",[t]);if(!(r<=0))return r}async sourceBuffer(){let t=await this.sourceBufnr.get();if(!!t)return this.nvim.createBuffer(t)}visible(){let t=this.explorerManager.bufManager.getBufferNode(this.bufnr);return t==null?void 0:t.visible}async refreshWidth(){let t=await this.win;if(!t)return;let r=async(i,a)=>{if(a<=0){let o;if(i==="win-width"?(o=await t.width,(await t.getOption("relativenumber")||await t.getOption("number"))&&(o-=await t.getOption("numberwidth"))):i==="vim-width"&&(o=await qt.workspace.nvim.eval("&columns")),o)return this.contentWidth=o+a,!0}else return this.contentWidth=a,!0};await this.args.value(te.position)==="floating"&&await r("win-width",await this.args.value(te.floatingContentWidth))||!await r(await this.args.value(te.contentWidthType),await this.args.value(te.contentWidth))}async resize(){let t=await this.args.value(te.position),{width:r,height:n,top:i,left:a}=await jn.genExplorerPosition(this.args);await this.nvim.call("coc_explorer#resize",[this.bufnr,t,{width:r,height:n,left:a,top:i,border_bufnr:this.borderBufnr,border_enable:this.config.get("floating.border.enable"),border_chars:this.config.get("floating.border.chars"),title:this.config.get("floating.border.title")}])}async focus(){let t=await this.win;return t?(await this.nvim.command(`${await t.number}wincmd w`),await this.resize(),!0):!1}async resume(t){let r=await t.value(te.position),n=await t.value(te.focus),{width:i,height:a,top:o,left:s}=await jn.genExplorerPosition(t);await this.nvim.call("coc_explorer#resume",[this.bufnr,r,{width:i,height:a,left:s,top:o,focus:n,border_bufnr:this.borderBufnr,border_enable:this.config.get("floating.border.enable"),border_chars:this.config.get("floating.border.chars"),title:this.config.get("floating.border.title")}])}async open(t,r,n){await wl("CocExplorerOpenPre"),this.view.isHelpUI&&await this.quitHelp(),await this.highlight.addSyntax();let i=await this.initArgs(t,r);for(let o of this.sources)await o.bootOpen(n);let a=[];i&&a.push(this.clearLinesNotifier()),a.push(await this.loadAllNotifier(),...await Promise.all(this.sources.map(o=>o.openedNotifier(n)))),await Ur.Notifier.runAll(a),await wl("CocExplorerOpenPost")}async tryQuitOnOpenNotifier(){return await this.args.value(te.quitOnOpen)||await this.args.value(te.position)==="floating"?this.quitNotifier():Ur.Notifier.noop()}async tryQuitOnOpen(){return Ur.Notifier.run(this.tryQuitOnOpenNotifier())}async hide(){this.isHide=!0,await this.quit(!0)}async show(){this.isHide&&(this.isHide=!1,await this.resume(this.args))}async quitNotifier(t=!1){t||await wl("CocExplorerQuitPre");let r=await this.sourceWinnr(),n=await $t();return Ur.Notifier.create(()=>{r&&this.bufnr===n&&this.nvim.command(`${r}wincmd w`,!0),Ch([this.bufnr]).notify(),t||xv("CocExplorerQuitPost").notify()})}async quit(t=!1){return Ur.Notifier.run(await this.quitNotifier(t))}async initRootUri(t,r){var s;let n=await t.value(te.rootUri);if(n){this._rootUri=lt(n);return}let i=await this.sourceBuffer();if(!i){this._rootUri=lt(qt.workspace.cwd);return}if(await i.getVar("&buftype")==="nofile"){this._rootUri=lt(qt.workspace.cwd);return}if(!((s=this.explorerManager.bufManager.getBufferNode(i.id))==null?void 0:s.fullpath)){this._rootUri=lt(qt.workspace.cwd);return}this._rootUri=lt(r)}async initArgs(t,r){var o;this._args=t,await this.initRootUri(t,r),this.explorerManager.rootPathRecords.add(this.rootUri);let n=await t.value(te.sources);if(!n)return!1;let i=await i2.default(n,s=>jr.enabled(s.name)),a=JSON.stringify(i);return this.lastArgSourcesEnabledJson&&this.lastArgSourcesEnabledJson===a?!1:(this.lastArgSourcesEnabledJson=a,qt.disposeAll((o=this._sources)!=null?o:[]),this._sources=i.map(s=>jr.createSource(s.name,this,s.expand)),!0)}async getSelectedOrCursorLineIndexes(t){let r=new Set,n=await qt.workspace.document;if(t==="v"){let i=await qt.workspace.getSelectedRange("v",n);if(i){for(let a=i.start.line;a<=i.end.line;a++)r.add(a);return r}}return await this.view.refreshLineIndex(),r.add(this.view.currentLineIndex),r}findSourceByLineIndex(t){let r=this.sources.findIndex(n=>t<n.view.endLineIndex);if(r===-1){let n=this.sources.length-1;return{source:this.sources[n],sourceIndex:n}}else return{source:this.sources[r],sourceIndex:r}}lineIndexesGroupBySource(t){let r={};for(let n of t){let{source:i,sourceIndex:a}=this.findSourceByLineIndex(n);a in r||(r[a]={source:i,lineIndexes:[n]}),r[a].lineIndexes.push(n)}return Object.values(r)}setLinesNotifier(t,r,n){return Ur.Notifier.create(()=>{this.nvim.call("coc_explorer#util#buf_set_lines_skip_cursor",[this.bufnr,r,n,!1,t],!0)})}clearLinesNotifier(){return this.setLinesNotifier([],0,-1)}async loadAllNotifier({render:t=!0}={}){this.locator.mark.removeAll();let r=await Promise.all(this.sources.map(n=>n.loadNotifier(n.view.rootNode,{render:!1})));return t&&r.push(await this.renderAllNotifier()),Ur.Notifier.combine(r)}async renderAllNotifier(){let t=await Promise.all(this.sources.map(r=>r.view.renderNotifier({force:!0})));return Ur.Notifier.combine(t)}async showHelp(t){return Vq(this,t)}async quitHelp(){return Uv(this)}};var o2=class{getExplorer(t){return this[t]}setExplorer(t,r){this[t]=r}all(){let t=[];return this.left&&t.push(this.left),this.right&&t.push(this.right),this.tab&&t.push(this.tab),this.floating&&t.push(this.floating),t}},Nb=class{constructor(t){this.context=t;this.filetype="coc-explorer";this.previousBufnr=new Sl("previousBufnr");this.previousWindowID=new Sl("previousWindowID");this.maxExplorerID=0;this.tabContainer={};this.rootPathRecords=new Set;this.nvim=pr.workspace.nvim;this.events=new a2.HelperEventEmitter(z);this.waitAllEvents=(t=>({didCount:0,did:!1,emitter:new pr.Emitter,keys:["registeredMapping","didAutoload"],constructor(){this.keys.forEach(r=>{t.events.on(r,()=>{this.didCount+=1,this.didCount>=this.keys.length&&(this.did=!0,this.emitter.fire())})})}}))(this);this.mappings={};this.waitAllEvents.constructor(),this.events.on("didAutoload",()=>{this.registerMappings().catch(z.error)}),$t().then(this.updatePrevCtxVars.bind(this)).catch(z.error),this.context.subscriptions.push(oi(async r=>{await this.updatePrevCtxVars(r)},0)),this.context.subscriptions.push(pr.Disposable.create(()=>pr.disposeAll(this.explorers()))),this.bufManager=new bv(this.context)}async currentTabId(){return await this.nvim.call("coc_explorer#tab#current_id")}async currentTabMaxId(){return await this.nvim.call("coc_explorer#tab#max_id")}async currentTabContainer(){return this.tabContainer[await this.currentTabId()]}async updatePrevCtxVars(t){if(!this.bufnrs().includes(t)&&await this.nvim.getVar("&filetype")!==this.filetype){await this.previousBufnr.set(t);let n=await this.nvim.call("win_getid");await this.previousWindowID.set(n===-1?void 0:n)}}async prevWinnrByPrevBufnr(){let t=await this.previousBufnr.get();if(!t)return;let r=await this.nvim.call("bufwinnr",[t]);if(!(r<=0||(await this.winnrs()).includes(r)))return r}async prevWinnrByPrevWindowID(){let t=await this.previousWindowID.get();if(!t)return;let r=await this.nvim.call("win_id2win",[t]);if(!(r<=0||(await this.winnrs()).includes(r)))return r}bufnrs(){return this.explorers().map(t=>t.bufnr)}async winids(){return Ke(await Promise.all(this.explorers().map(t=>t.winid)))}async winnrs(){let t=await this.currentTabContainer(),r=t==null?void 0:t.all();return r?(await Promise.all(r.map(i=>i.winnr))).filter(i=>i!==void 0):[]}explorers(){let t=[];for(let r of Object.values(this.tabContainer))t.push(...r.all());return t}async currentExplorer(){return this.explorerByBufnr(await $t())}async explorerByWinid(t){for(let r of this.explorers())if(await r.winid===t)return r}explorerByBufnr(t){return this.explorers().find(r=>r.bufnr===t)}async inExplorer(){return await this.currentExplorer()!==void 0}async registerMappings(){this.mappings={};let t=[...await Xt.getCommonKeys()],r=[["n",t],["v",[...t,...await Xt.getVisualKeys()]]];for(let[n,i]of r){this.mappings[n]={};for(let a of i){if(this.mappings[n][a]||n==="v"&&["o","j","k"].includes(a))continue;let o=`explorer-key-${n}-${a.replace(/\<(.*)\>/,"[$1]")}`;this.context.subscriptions.push(pr.workspace.registerKeymap([n],o,async()=>{let s=await this.nvim.eval("v:count"),u=await this.currentExplorer();u==null||u.action.doActionByKey(a,n,s||1).catch(z.error)})),this.mappings[n][a]=`<Plug>(coc-${o})`}}await this.nvim.call("coc_explorer#mappings#register",[this.mappings]),await this.events.fire("registeredMapping")}async executeMappings(){await this.nvim.call("coc_explorer#mappings#execute",[this.mappings])}async clearMappings(){await this.nvim.call("coc_explorer#mappings#clear",[this.mappings])}async open(t){this.waitAllEvents.did||await new Promise(x=>{this.waitAllEvents.emitter.event(x)});let r=!0,n=el(),i=ET(n),a=await oe.parse(t,n),o=await a.value(te.position);if(o==="floating"&&!VT())throw new Error("not support floating position in vim");let s=await a.value(te.quit),u=o==="tab"?await this.currentTabMaxId()+1:await this.currentTabId();u in this.tabContainer||(this.tabContainer[u]=new o2);let l=this.tabContainer[u],d=l.getExplorer(o);if(d&&s){await d.quit();return}let c=await this.nvim.call("win_getid"),m=await $t(),h=pr.workspace.root;if(!d||!await this.nvim.call("bufexists",[d.bufnr]))d=await jn.create(this,a,i),l.setExplorer(o,d);else if(!await d.inited.get())await this.nvim.command(`bwipeout! ${d.bufnr}`),d=await jn.create(this,a,i),l.setExplorer(o,d);else{if(!await d.win)await d.resume(a);else{if(await a.value(te.toggle)){await d.quit();return}if(await a.value(te.focus)){await d.focus();return}}r=!1}await d.sourceWinid.set(c),await d.sourceBufnr.set(m),await d.open(a,h,r)}};var s2=I(require("coc.nvim"));var Pb=class extends s2.BasicList{constructor(t){super(t);this.name="explPresets";this.defaultAction="do";this.description="explorer presets";this.addAction("do",async r=>{this.nvim.command(`CocCommand explorer --preset ${r.data.name}`).catch(z.error)})}async loadItems(t){let r=await _l(el());return Object.keys(r).map(n=>({label:n,data:{name:n}}))}doHighlight(){let{nvim:t}=this;t.pauseNotification(),t.command("syntax match CocExplorerPreset /.*/",!0),t.command("highlight default link CocExplorerPreset PreProc",!0),t.resumeNotification().catch(z.error)}};var tg=I(require("coc.nvim")),d2=I(require("path"));var u2=I(require("coc.nvim"));function l2(e,t){if(e[0]==="leaf")return{type:e[0],winid:e[1],parent:t};{let r={type:e[0],children:[]};return r.children=e[1].map((n,i)=>l2(n,{group:r,indexInParent:i})),r}}var Cb=class{constructor(t){this.root=t}static async create(){let t=await u2.workspace.nvim.call("winlayout",[]);return new this(l2(t))}static getFirstLeafWinid(t){return t.type==="leaf"?t.winid:this.getFirstLeafWinid(t.children[0])}findWinid(t,r=this.root){if(r.type==="leaf")return r.winid===t?r:void 0;for(let n of r.children){let i=this.findWinid(t,n);if(i)return i}}findClosest(t,r){let n=new Set([t]),i=[t];for(;i.length;){let a=i.shift();if(a.type==="leaf"){if(r.includes(a.winid))return a}else for(let o of a.children)if(!n.has(o)){i.push(o),n.add(o);continue}a.parent&&!n.has(a.parent.group)&&(i.push(a.parent.group),n.add(a.parent.group))}}};function rg(e,t){return tg.commands.registerCommand(e,pa(t),void 0,!0)}async function c2(e,t){if(e==="closest"){let r=await Cb.create(),n=await tg.workspace.nvim.eval("win_getid(winnr())");if(n<=-1)return;let i=r.findWinid(n);if(!i)return;let a=await t.winids();if(!a.length)return;let o=r.findClosest(i,a);if(o)return t.explorerByWinid(o.winid);{let s=await t.currentTabContainer(),u=s==null?void 0:s.floating;if(await(u==null?void 0:u.winnr)!==void 0)return u}}else return e===0?t.currentExplorer():t.explorerByBufnr(e)}async function f2(e,t){if(e==="current")return t.view.currentLineIndex;if(typeof e=="number")return e;if(Array.isArray(e)){let[r,n,i]=e;if(r==="relative"){let a=i?t.sources.find(o=>o.sourceType===i):await t.view.currentSource();if(a)return a.view.startLineIndex+n}}}async function Tle(e,t){var a;let r=await f2(e,t);if(!r)return[void 0,void 0];let n=t.sources.find(o=>r>=o.view.startLineIndex&&r<o.view.endLineIndex);if(!n)return[void 0,void 0];let i=r-n.view.startLineIndex;return[n,(a=n.view.flattenedNodes[i])!=null?a:void 0]}function p2(e,t){async function r(n,i,a=["current"],o="n",s=1){let u=await c2(n,t);if(!u)return;await u.view.refreshLineIndex();let l=Ke(await Promise.all(a.map(async d=>await f2(d,u))));await u.action.doActionExp(di(i),{mode:o,count:s,lineIndexes:l}).catch(z.error)}e.subscriptions.push(rg("explorer.doAction",r),rg("explorer.doCodeAction",async(n,i,a)=>{let o=await r(0,{name:i,args:await a()});return await Pa.add(n),o}),rg("explorer.getNodeInfo",async(n,i="current")=>{let a=await c2(n,t);if(!a)return;await a.view.refreshLineIndex();let[,o]=await Tle(i,a);if(!!o)return{...o,parent:void 0,children:void 0,prevSiblingNode:void 0,nextSiblingNode:void 0}}),rg("explorer.getIcon",async(n,i=!1)=>{let a=d2.default.basename(n);return i?Fl(a):Wl(a)}))}function m2(e,t){let r=e.indexOf(t);return r===-1?-1:e.length-r}var Db=class{constructor(t){this.explorerManager=t}async provideCodeActions(t,r,n,i){let a=await this.explorerManager.currentExplorer();if(!a)return[];let o=await a.view.currentSource();if(!o)return[];let s=await Xt.getReversedMappings(o.sourceType),u=o.action.registeredActions(),l=await Pa.load();return ht(Object.entries(u).filter(([d])=>d!=="actionMenu").sort(([d],[c])=>d.localeCompare(c)).sort(([d],[c])=>d.localeCompare(c)).map(([d,{options:c}])=>{var _;let m=s[d],h=m?(_=m.vmap)!=null?_:m.all:"",x=[{title:`${d} [${h}]`,name:d,command:"explorer.doCodeAction",arguments:[d,d,async()=>[]],score:m2(l,d)}];return c.menus&&x.push(...xn.getNormalizeMenus(c.menus).map(N=>{var F;let C=d+":"+N.args,j=s[C],L=j?(F=j.vmap)!=null?F:j.all:"";return{title:`${C} [${L}]`,name:C,command:"explorer.doCodeAction",arguments:[C,d,()=>N.actionArgs()],score:m2(l,C)}})),x})).sort((d,c)=>c.score-d.score)}};var g2=I(Qe()),Sle=async e=>{let{subscriptions:t}=e,{nvim:r}=mr.workspace;await g2.activateHelper(e),await Ho.register(e),se.group("SelectUI","ctermbg=27 ctermfg=0 guibg=#1593e5 guifg=#ffffff");let n=se.linkGroup("NormalFloat","NormalFloat");se.linkGroup("NormalFloatBorder",n.group),mr.listManager.registerList(new Pb(r));let i=new Nb(e);p2(e,i),t.push(mr.commands.registerCommand("explorer",(...a)=>{i.open(a).catch(z.error)}),mr.languages.registerCodeActionProvider(["coc-explorer"],new Db(i),"coc-explorer")),(async()=>{await zT(e.extensionPath),await r.command("runtime plugin/coc_explorer.vim"),t.push(mr.Disposable.create(pa(()=>r.call("CocExplorerDeactivate")))),await i.events.fire("didAutoload")})().catch(z.error)};
